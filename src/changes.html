<section class="appendix" data-max-toc="2">
 <h2 id="changes">Changes</h2>

 <section>
  <h3 id="changes_mathml4.0-mathml3.02e">Changes between MathML 3.0 Second Edition and MathML 4.0</h3>

  <section>
   <h4 id="chg_front">Changes to the Frontmatter</h4>
   <ul>

    <li>
     Changes to the references to match new W3C specification rules,
     and to use the new W3C CSS formatting style, most notably
     affecting the table of contents styling.
    </li>

    <li>
     Update the <a href="#sotd"></a>, in particular
     using <code>https</code> and referencing the GitHub Issues page
     as required for current W3C publications.
    </li>
   </ul>
  </section>

  <section>
   <h4 id="chg_fund">Changes to <a href="#fund"></a></h4>

   <ul>

    <li>
     Modified the definition of MathML color and length valued attributes to be
     explicitly based on the syntax used in [[MathML-Core]] which in
     turn uses definitions provided by CSS3.
    </li>
    <li>Remove the <code class="attribute">mode</code> and <code
    class="attribute">macros</code> attributes from <code
    class="element">&lt;math&gt;</code>. These have been deprecated
    since MathML&#160;2. <code class="attribute">macros</code> had no
    defined behaviour, and <code class="attribute">mode</code> can be
    replaced by suitable use of <code class="attribute">display</code>.
    The `mathml4-legacy` schema makes these valid if needed for legacy applications.</li>

    <li>Remove the <code class="attribute">other</code> attribute.
    This have been deprecated
    since MathML&#160;2.
    The `mathml4-legacy` schema makes this valid if needed for legacy applications.</li>

   </ul>
  </section>

  <section>
   <h4 id="chg_presm">Changes to <a href="#presm"></a></h4>

   <ul>

    <li>Separate the examples
    in <a href="#presm_mi_examples"></a>
    and <a href="#presm_mn_examples"></a> to improve their appearance
    when rendered.
    </li>

    <li>Clarify that negative numbers should be marked up with an
    explicit <code class="element">mo</code> operator
    in <a href="#presm_not_single_mn"></a>.
    </li>

    <li>Correct the long division notation names
    in <a href="#presm_mlongdiv_attrs"></a>.
    </li>

    <li>Clarify that the horizontal alignment of scripts
    in <a href="#presm_mmultiscripts"></a> is towards the base, and
    add a new example.
    </li>
    <li>The deprecated MathML&#160;1 attributes on token elements: `fontfamily`,
    `fontweight`, `fontstyle`,` fontsize`, `color` and `background`
    are removed in favor of <code
    class="attribute">mathvariant</code>, <code class="attribute">mathsize</code>,
    <code class="attribute">mathcolor</code> and
    <code class="attribute">mathbackground</code>.
    These attributes are also no longer valid on <code class="element">mstyle</code>.
    The `mathml4-legacy` schema makes these valid if needed for legacy applications.
    </li>
    <li>All the deprecated font related attributes have been dropped from
    <code class="element">mglyph</code> which is still retained to include images in MathML.
    </li>
    <li>The value `indentingnewline` is no longer valid for <code
    class="element">mspace</code> (it was equivalent  to `newline`).
    </li>
    <li>In MathML table rows and cells must be explicitly marked
    wih <code class="element">mtr</code> and <code
    class="element">mtd</code>. The [[?MathML1]] required that an
    implementation infer the row markup if it was omitted.
    </li>
    <li>The use of <code class="element">malignmark</code> has been
    restricted and simplified, matching the features implemented in
    existing implementations.
    The <code class="attribute">groupalign</code> attribute on table
    elements is no longer supported.</li>
    <li>The deprecated <code class="element">mo</code> attributes, <code class="attribute">fence</code>
    and <code class="attribute">separator</code>, have been removed
    (and are also no longer listed as properties in <a href="#oper-dict"></a>).
    They are still valid in the <a href="#parsing_rnc_legacy"></a> schema,
    but invalid in the default schema.</li>
    <li>The deprecated element <code class="element">none</code> is
    replaced by an empty <code class="element">mrow</code> throughout,
    to match [[MathML-Core]].</li>
    <li>The element <code class="element">mlabeledtr</code> and the associated attributes
    <code class="attribute">side</code> and <code class="attribute">minlabelspacing</code>
    are no longer specified. They are removed from the default schema but valid in
    the <a href="#parsing_rnc_legacy">Legacy Schema</a>.</li>

    <li>To align with MathML-Core, the special extended syntax for  <code class="element">mpadded</code> length attributes 
      <code>( "+" | "-" )?
      <em>unsigned-number</em>
      ( ("%" <em>pseudo-unit</em>?)
      | <em>pseudo-unit</em>
      | <em>unit</em>
      | <em>namedspace</em>
      )?</code> is no longer supported.
    Most of the functionality is still available using standard CSS
    length syntax. See <a href="#mpadded-lengths">Note: mpadded
    lengths</a>.</li>
   </ul>

  </section>


  <section>
   <h4 id="chg_contm">Changes to <a href="#contm"></a></h4>

   <ul>

    <li>Correct examples
    in <a href="#contm_share_sec"></a>, <a href="#contm_acyclicity"></a>, <a href="#contm_share_binding"></a>, <a href="#contm_rendering_share"></a>
    to use <code class="attribute">src</code> (to match the normative
    schema) not <code class="attribute">href</code>. The previous
    examples were also valid, as <code class="attribute">href</code>
    is a common presentational attribute allowed on all elements.
    </li>

    <li>The Content element syntax tables and mapping to OpenMath have been
    moved from Chapter 4 to a new appendix, [[[#contm_ops]]].</li>
    
    <li>All Information relating to the rewrite to Strict Content
    MathML has been collected together and moved to a new appendix
    [[[#contm_p2s]]].</li>

    <li>The deprecated elements <code class="element">reln</code>,
    <code class="element">declare</code> and <code
    class="element">fn</code> have been removed.
    The `mathml4-legacy` schema makes these valid if needed for legacy applications.</li>
   </ul>
  </section>


  <section>
   <h4 id="chg_mixing_intent">Changes to <a href="#mixing_intent"></a></h4>

   <ul>
    <li>Introduced new chapter [[[#mixing_intent]]] describing the
    <code class="attribute">intent</code> attribute.</li>
   </ul>
  </section>

  <section>
   <h4 id="chg_mixing">Changes to <a href="#mixing"></a></h4>
  
   <ul>

    <li>Renamed Chapter from <q>Mixing Markup Languages for Mathematical Expressions</q></li>



    <li>The existing text on using the <code
    class="element">&lt;semantics&gt;</code> element to mix
    Presentation and Content MathML is maintained in the second
    section, although reduced with some non normative text and
    examples moved to [[?MathML-Notes]].</li>

    <li>MathML&#160;3 deprecated the use of <code
    class="attribute">encoding</code> and <code
    class="attribute">definitionURL</code> on <code
    class="element">&lt;semantics&gt;</code>. They are invalid in this
    specification. The `mathml4-legacy` schema may be used if these
    attributes need to be validated for a legacy application.</li>
   </ul>


  </section>

  <section>
  <h4 id="chg_world-interactions">Changes to <a href="#world-interactions"></a></h4>

   <ul>
   <li>Some rewriting of the text and adjusting references as the
   Media type registrations have been moved from an Appendix of this
   specification to a separate document, [[MathML-Media-Types]].</li>
   </ul>
  </section>

  <section>
  <h4 id="chg_emdia_types">Changes to Media Types</h4>

   <ul>
   <li>Media type registrations have been moved from an Appendix of this
   specification to a separate document, [[MathML-Media-Types]].</li>
   </ul>
  </section>

  

  <section>
   <h4 id="chg_parsing">Changes to <a href="#parsing"></a></h4>

   <ul>
    <li>The schema was updated to match MathML4</li>
    <li>The schema was refactored with a new `mathml4-core` schema
    matching [[MathML-Core]] being used as the basis for
    `mathml4-presentation`, and a new `mathml4-legacy` schema that can
    be used to validate an existing corpus of documents matching [[?MathML3]].</li>
   </ul>

  </section>


  <section>
   <h4 id="chg_opdict">Changes to <a href="#oper-dict"></a></h4>

   <ul>
    <li>The spacing values and priorities of the elements were reviewed and adjusted.</li>
    <li>A new <q>compact</q> presentation is provided as well as the
    tabular presentation used previously.</li>

    <li>The underlying data files were updated to Unicode 14/15/16.</li>
   </ul>

   
  </section>


  <section>
   <h4 id="chg_accessibility">Changes to <a href="#accessibility"></a></h4>

   <ul>
    <li>This new appendix collects together requirements and issues
    related to accessibility.</li>
   </ul>

  </section>
  
  <section>
   <h4 id="chg_transform">Changes to <a href="#contm_ops"></a> and <a href="#contm_p2s"></a></h4>

   <ul>
    <li>These new appendices collect together the syntax tables, mappings to OpenMath and rewrite rules that were
    previously distributed throughout [[[#contm]]].</li>
   </ul>

  </section>


 </section>

</section>
