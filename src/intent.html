<section>
 <h2 id="mixing_intent">Annotating MathML: intent</h2>
 <!-- <div class="issue" data-number="281"></div>-->
 <!-- <div class="issue" data-number="252"></div>-->

 <!--<div class="issue" data-number="289"></div>-->
 <!--<p class="issue" data-number="257">Issue 257</p>-->
 <!--<p class="issue" data-number="255">Issue 255</p>-->
 <!--<p class="issue" data-number="254">Issue 254</p>-->
 <!--<p class="issue" data-number="253">Issue 253</p>-->


<p>MathML has been widely adopted by assistive technologies (AT).
  However, math notations can be ambiguous which can result in AT guessing at what should be spoken in some cases.
  MathML 4 adds a lightweight method for authors to express their intent: the <code class="attribute">intent</code> attribute.
  This attribute is similar to the <a href="https://www.w3.org/TR/wai-aria-1.1/#aria-label"><code class="attribute">aria-label</code></a> attribute
  with some important distinctions.
  In terms of accessibility, the major difference is that <code class="attribute">intent</code>
  does <em>not</em> affect braille generation.
  Most languages have a separate braille code for math so that the words used for speech should not be affected by braille generation.
  Some languages, such as English, have more than one braille math code and it is impossible for the author to know which is desired by the reader.
  Hence, even if the author knew the (math) braille for the element, they could not override <code class="attribute">aria-label</code>
  by using the proposed <a href="https://w3c.github.io/aria/#aria-braillelabel">aria-braillelabel</a> because they wouldn't know which code to use.
 </p>

  <p>As described in <a href="#fund_globatt"></a>,
  MathML elements allow attributes <code
  class="attribute">intent</code> and <code
  class="attribute">arg</code> that allow the
  <dfn><q>intent</q></dfn> of the term to be specified. This
  annotation is not meant to provide a full mathematical definition
  of the term. It is primarily meant to help AT generate audio and/or braille renderings, see <a href="#accessibility"></a>.
  Nevertheless, it may also be useful to guide translations to Content MathML, or computational systems.</p>

  <p>The <code class="attribute">intent</code> attribute encodes a
  simple functional syntax representing the intended speech.
  A formal grammar is given below, but a typical example would be
  <code>intent="power($base,$exponent)"</code> used in a context such as:</p>

  <div class="example mathml mmlcore">
   <pre>
    &lt;msup intent="power($base,$exp)">
      &lt;mi arg="base">x&lt;/mi>
      &lt;mi arg="exp">n&lt;/mi>
    &lt;/msup>
   </pre>
  </div>
  <p>The <code class="attribute">intent</code> value of <code>power($base,$exp)</code> makes it clear that the author intends that this expression
    denotes exponentiation as opposed to one of many other meanings of superscripts.
    Since power will be a concept supported by the AT, it may choose different
    ways of speaking depending on context, arguments or other details.
    For example, the above expression might be spoken as "x to the power n",
    but if "2" were given instead of "n", it may say "x squared".</p>

  <section>
   <h3 id="mixing_intent_grammar">The Grammar for <code class="attribue">intent</code></h3>

   <p>The value of the <code class="attribute">intent</code> attribute, should match the following grammar.</p>

   <pre class="def bnf">
intent             := self-property-list | expression
self-property-list := property+ S    
expression         := S ( term property* | application ) S 
term               := concept-or-literal | number | reference 
concept-or-literal := NCName
number             := '-'? \d+ ( '.' \d+ )?
reference          := '$' NCName
application        := expression '(' arguments? S ')'
arguments          := expression ( ',' expression )*
property           := S ':' NCName
S                  := [ \t\n\r]*
   </pre>

   <p>Here <a href="https://www.w3.org/TR/REC-xml-names/#NT-NCName"><code>NCName</code></a>
   is as defined in  in [[xml-names]], and <code>digit</code> is a character in the range 0–9.</p>


   <p>The parts consist of:</p>
   <dl>
    <dt><dfn id="intent_concept-or-literal">concept-or-literal</dfn></dt>
    <dd>Names should match the <code>NCName</code> production as used for
    no-namespace element name.
    A [=concept-or-literal=] are interpreted either as a [=concept=] or [=literal=].
    <ul>
     <li>
      <p>A <dfn id="intent_concept">concept</dfn> corresponds to some mathematical or
      application specific function or concept.
      For many concepts, the words used to speak a concept are very similar to the name
      used when referencing a concept.</p>
    </li>
    <li>
      <p>A <dfn id="intent_literal">literal</dfn> is a name starting with <q>`_`</q> (U+00F5).
      These will never be included in an [=Intent Concept Dictionary=].
      The reading of a literal is generated by replacing any
      <code>-</code>, <code>_</code>, <code>.</code> in the name by
      spaces and then reading the resulting phrase.</p>
     </li>
    </ul>
    </dd>
    <dt><dfn data-dfn-for="intent" id="intent_number">number</dfn></dt>
    <dd>
     An explicit <a data-link-for="intent" data-link-type="dfn" href="#intent_number">number</a> such as <code>2.5</code> denotes itself.
    </dd>

    <dt><dfn id="intent_reference">reference</dfn></dt>
    <dd>
    An argument [=reference=] such as <code>$name</code> refers to a descendant element
    that has an attribute <code>arg="name"</code>. Unlike <code class="attribute">id</code>
    attributes, <code class="attribute">arg</code> do not have to be
    unique within a document. When searching for a matching element the
    search should only consider descendants, while stopping early at any
    elements that have a set <code class="attribute">intent</code> or
    <code class="attribute">arg</code> attribute, without descending
    into them.
    Proper use of [=reference=], instead of inserting equivalent literals,
    allows intent to be used while navigating the mathematical structure.
    </dd>

    <dt><dfn data-dfn-for="intent" id="intent_application">application</dfn></dt>
    <dd>
     An <a data-link-for="intent" data-link-type="dfn" href="#intent_application">application</a>
     denotes a function applied to arguments using
     a standard prefix notation.  Optionally, between the head of the
     function and the list of arguments there may be a [=property=] list as
     described below to influence the style of text reading generated, or to
     provide other information to any consumer of the intent.
    </dd>

    
    <dt><dfn id="intent_property">property</dfn></dt>
    <dd>
     A [=property=] annotates the intent with an additional
     property which may be used by
     the system to adjust the generated speech or Braille in system
     specifc ways. The property may be directly related to the speech
     form, such as `:infix` or indirectly affect the style of speech
     with properties such as `:unit` or `:chemistry` 
 
     <p>The list of properties supported by any system is open but should include
     the core properties as described below.</p>
    </dd>

<!--    <dt><dfn id="intent_property_list">self-property-list</dfn></dt>-->
    <dt>self-property-list</dt>
    <dd>At the top level, an [=intent=] may consist of just a
    non-empty list of properties. These apply to the current element
    as described in <a href="#intent_using"></a>.</dd>

    <!--<dt><dfn id="intent_expression">expression</dfn></dt>-->
    <dt>expression</dt>
    <dd>A simple functional syntax using the terms described above.</dd>
   </dl>
  </section>

  <section>
    <h3 id="mixing_intent_dictionaries">Intent Concept Dictionaries</h3>
    <p>Every AT system that supports <code class="attribute">intent</code> contains,
      at least implicitly, a list of the concepts that it recognizes.
      The details of matching and using concept names is given in <a href="#intent_using"></a>.
      Such an AT SHOULD recognize the concepts in the [=Core=] list discussed below;
      It MAY also include concepts in the [=Open=] list discussed below,
       as well as any of its own.</p>
    <p>An <dfn>Intent Concept Dictionary</dfn>
      is an abstract mapping of [=concept=] names to speech, text or braille for that concept;
      it is somewhat analogous to the <a href="#oper-dict"></a> used by
      MathML renderers in that it provides a set of defaults renderers should be aware of.
      The <code>property</code> also has some analogies to the operator dictionary's use of
      <code class="attribute">form</code> because a match makes use of fixity properties
      (<code>prefix</code>, <code>infix</code>, etc.).
    </p>
    <!--<p class="issue" data-number="410">Issue 410</p>-->
    <p>
      [=Intent=] Concept names are maintained in two lists, each maintained in the
      <a href="https://github.com/w3c/mathml-docs">w3c/mathml-docs GitHub repository</a>.
      Note that while these concept dictionaries are published as HTML tables (based on yaml data),
      there is no requirement on how a system implements the mapping from concepts to speech hints.
      Rather than a fixed list or hash table, it might use XPath matching, regular expressions,
      appropriately  trained generative AI or any other suitable mechansim.
      The only requirement is that it should accept the cases listed in the Core concept dictionary
      and produce acceptable speech hints for those cases.
    </p>

     <ul>
      <li>
       <dfn id="intent-core">Core</dfn>: This is a <a
       href="https://w3c.github.io/mathml-docs/intent-core-concepts/">list
       of core concept names</a>, initially drawn from concepts used
       in K14 STEM education.  The entries include common
       concepts such as <q>divide</q>, <q>power</q>, and
       <q>greater-than</q>. The list is curated by the Math Working
       Group based on experience with different AT implementations and
       following the guidelines set out in [[?Concept-Lists]].
      </li>
      <li><dfn id="intent-open">Open</dfn>: This is an
      <a href="https://w3c.github.io/mathml-docs/intent-open-concepts">open list of concepts</a>
      to which contributions are invited.
      AT reading MathML attributed with a name in this list
      MAY use the speech hints provided by the intent
      definition but a system
      may also fall back on reading the identifier name as given.
      Although authors are encouraged to use a name in this list that matches their intent if one exists,
      any string that is an <code>NCName</code> is allowed.
      </li>
     </ul>
    <p>Future versions of the <q>core</q> concept list may incorporate names
      from the <q>open</q> list if usage indicates that is appropriate.
     </p>
  </section>

  <section>
    <h3 id="mixing_intent_properties">Intent Properties</h3>

    <p>Intent [=properties=] act as modifiers of the speech or Braille that
     otherwise would have been generated by the <code class="attribute">intent</code> attribute.
   Most of these properties only have a
   defined effect in specific contexts, such as on the head of an
   <a data-link-for="intent" data-link-type="dfn"
      href="#intent_application">application</a>
   or applying to an <code>&lt;mtable&gt;</code>.
   The use of these properties in other contexts is not an error,
   but as with any properties, is by default ignored but may have a
   system-specific effect.</p>

    <p>Similar to the lists of [=Concepts=], the Working Group maintains a [=Properties list=] of [=property=] values that should be implemented.</p>
    <ul>
      <li><dfn id="intent-core-properties">Properties list</dfn>: The definitive
      <a href="https://w3c.github.io/mathml-docs/intent-core-properties">list of properties</a>
      maintained by the Math Working Group.</li>
    </ul>
    <p>Here, we describe the major classes of property affecting speech generation.</p>
   <dl>
    <dt id="intent_fixity_hint"><code>:prefix</code>,
    <code>:infix</code>, <code>:postfix</code>,
    <code>:function</code>, <code>:silent</code></dt>
    <dd>
     <p>
     These properties in a function <a data-link-for="intent" data-link-type="dfn"
     href="#intent_application">application</a> request that
     the reading of the name may be suppressed, or the word ordering may be affected.
     Note that the properties <code>:prefix</code>, <code>:infix</code> and <code>:postfix</code>
     refer to the spoken word order of the name and arguments,
     and <em>not</em> (necessarily) the order used in the displayed mathematical notation.</p>
     <ul>
      <li>
      In the case of a [=supported concept=] name, the property MAY be used in choosing the alternatives
      supported by the AT. For example <code>union</code> is in the
      Core list with speech patterns "$1 union $2" and "union of $1 and $2".
      An intent <code>union :prefix ($a,$b)</code> would
      indicate that the latter style is preferred.
      </li>
      <li>For [=literal=] or [=unsupported concept=] names, the text generated from the function head SHOULD be read
      as specified in the property.
     <ul>
      <li><code>f :prefix ($x)      </code>: <q>f x</q></li>
      <li><code>f :infix ($x,y)     </code>: <q>x f y</q></li>
      <li><code>f :postix ($x)      </code>: <q>x f</q></li>
      <li><code>f :function ($x, $y)</code>: <q>f of x and y</q></li>
      <li><code>f :silent ($x,$y)   </code>: <q>x y</q></li>
     </ul>
      The specific words used above are only examples;
      AT is free to choose other appropriate audio renderings.
      For example, <code>f:function($x, $y)</code> could also be spoken as
     <q>f of x comma y</q>.  If none of these properties is used, the
     <code>function</code> property should be assumed unless the literal is
     silent (for example <code>_</code>) in which case the <code>:silent</code> property
     should be assumed. See the examples in <a href="#mixing_intent_warning"></a>.</li>
     </ul>
    </dd>
    <dt><span id="intent_literal_property"><code>:literal</code></span>, <span id="intent_common_property"><code>:common</code></span>, <span id="intent_legacy_property"><code>:legacy</code></span></dt>
    <dd>
     <p>These properties control the overall style of generated speech.
     The detailed description in each case is available <a href="https://w3c.github.io/mathml-docs/literal-common-properties">in a separate document</a>.</p>
     <p><code>:literal</code> requests that the AT should not infer any semantics
      and just speak the elements with a literal interpretation, including leaf content (eg <q>|</q> might be spoken as <q>vertical bar</q>). <code>:common</code> requests use of a specified set of heuristics do allow intents to be inferred for common notations. <code>:legacy</code> requests system-specific behavior.</p>
    </dd>
    <dt id="intent_table_properties"><code>:matrix</code>,
    <code>:system-of-equations</code>, <code>:lines</code>, <code>:continued-row</code>, <code>:equation-label</code></dt>
    <dd>
     <p>These properties may be used on an <code>mtable</code> or on a
       [=reference=] to an <code>mtable</code>, <code>mtr</code> and <code>mtd</code>.
     They affect the way the parts of an alignment are announced.</p>
     <p>The exact wordings used are system specfic.</p>
     <ul>
      <li><code>:matrix</code>
     should be read in style suitable for matrices, with typically
      column numbers being announced.</li>
      <li><code>:system-of-equations</code> should be read in style suitable for
      displayed equations (and inequalities), with typically
      column numbers not being announced. Each table row would
      normally be announced as an "equation" but a
      `continued-row` property on an <code>mtr</code> indicates
      that the row continues an equation wrapped from the row
	above.</li>
      <li><code>:equation-label</code> may be used on an <code>mtd</code> to mark a cell containing an equation label.</li>
     </ul>
    </dd>
   </dl>
  </section>
  
  <section>
   <h3 id="intent_using">Using Intent Concepts and Properties</h3>
   <p>When the <code class="attribute">intent</code> attribute corresponding to a specific node
     contains a concept component, the AT's [=Intent Concept Dictionary=] should be consulted.
     The concept name should be normalized
     (<q>`_`</q> (U+00F5) and <q>`.`</q>  (U+002E) to <q>`-`</q> (U+002D)),
     and compared using <a data-cite="INFRA#ascii-case-insensitive">ASCII case-insensitive</a>
     match.  If arguments were given explicitly in the <code class="attribute">intent</code>
     then their number gives the arity, and the
     <a href="#intent_fixity_hint">fixity</a> is determined from an explicit property
     or may default from the concept dictionary. Otherwise, arity is assumed to be 0.</p>
   <p>A concept is considered a <dfn id="intent_supported_concept">supported concept</dfn> (by the AT)
     when the normalized name, the fixity property, and the arity
     all match an entry in the AT's concept dictionary.
     This does not exclude implementations which support additional concepts,
     as well as concepts with many arities, fixities or aliases,
     as long as they are mapped appropriately.
     The speech hint in the matching entry
     can be used as a guide for the generation of
     specific audio, replacement text or braille renderings, as appropriate.
     It can also help clarify argument order.
     However, because common notations have many specialized ways of being spoken, the AT
     is NOT constrained to use the hint as given.  For example, AT may
     vocalize a fraction marked up with <code>&lt;mfrac></code>
     as <q>three quarters</q> or <q>three over x</q>
     or may vocalize an inline fraction marked up as <code>&lt;mo>/&lt;/mo></code>
     as <q>three divided by x</q>.
     The choice may depend on the contents
     and carrier element associated with an
     <code>intent="divide($num,$denom)"</code>.
     Note that properties other than those specifying fixity
     may also indicate different rendering choices.</p>
   <p>Otherwise, if the concept name, fixity and arity do not match that is considered to be an
     <dfn id="intent_unsupported_concept">unsupported concept</dfn> (by the AT)
     and will be treated the same as a [=literal=];
     that is, the name is spoken as-is after normalizing each of `-`, `_` and `.` to an inter-word space.
     Even for an unsupported concept, if a fixity property and arguments were given,
     the speech for the arguments should be composed
     in a manner consistent with the given fixity property, if possible.</p>
   <p>Note that future updates of an AT may add or remove concepts in its [=Intent Concept Dictionary=].
     Hence which concepts are supported may change with each update.</p>

   <p>In cases where the intent contains neither an explicit nor inferrable concept
     the AT should generally read out the MathML in a literal or structural fashion,
     as with the <a href="#intent_literal_property"><code>:literal</code></a> property.
     However, any given [=properties=] should be respected if possible,
     and may be useful to indicate the kind of mathematical object,
     rather than giving an explicit [=concept=] name to be spoken.
     This can be a useful technique, especially for large constructs such as tables as
     it allows the children to be inferred without needing to be
     explicitly referenced in the `intent` as would be the case with an <i>applicaton</i>.
     For example, `&lt;mtable intent=":array">...` might read the table as
     an array of values, whereas `&lt;mtable intent=":system-of-equations">...`
     might read the table in a style more appropriate for a list of
     equations. In both cases the navigation of the underlying table
     structure can be supplied by the AT system, as it would for an
     unannotated table.</p>

   <p>In general, depending upon the reader, AT may add words or sounds to make
     the speech clearer to the listener.  For example, for someone
     who can not see the a fraction, AT might say <q>fraction x over
     three end fraction</q> so the listener knows exactly what is
     part of the fraction.  For someone who can see the content,
     these extra words might be a distraction.  AT should always
     produce speech that is appropriate to the community they serve.</p>
  </section>

  <section>
   <h3 id="mixing_intent_errors">Intent Error Handling</h3>
   <p>An intent processor may report errors in intent expressions in
   any appropriate way, including returning a message as the
   generated text, or throwing an exception (error) in whatever form
   the implementation supports. However in  web platform contexts it is
   often not appropriate to report errors to the reader who has no
   access to correct the source, so intent procesors should offer a
   mode which recovers from errors as described below.</p>
   <section>
    <h4 id="mixing_intent_error_recovery">Intent Error Recovery</h4>
    <ol>
     <li>If an <code class="attribute">intent</code>
     attribute does not match the grammar <a href="#mixing_intent_grammar"></a>,
     then the processor should act as if the attribute were not
     present.
     Typically this will result in a suitable fallback text being
     generated from the MathML element and its descendants. Note that
     just the erroneous attribute is ignored, other <code
     class="attribute">intent</code> attributes in the MathML
     expression should be used.</li>
     <li>If a `reference` such as `$x` does not correspond to an <code
     class="attribute">arg</code> attribute with value `x` on a
     descendant element, the processor should act as if the reference
     were replaced by the literal `_dollar_x`.</li>
    </ol>
   </section>
  </section>
    

   <section>
    <h3 id="mixing_intent_warning">A Warning about [=literal=] and [=property=]</h3>
    <p>The [=literal=] and [=property=] features extend the coverage of mathematical concepts
    beyond the predefined dictionaries and allow expression of speech preferences.
    For example, when `$x` and `$y` reference `&lt;mi arg="x">x&lt;/mi>` and `&lt;mi
     arg="y">y&lt;/mi>` respectively, then</p>
    <ul>
     <li><code>list :silent ($x,$y)</code> would be read as <q>x y</q></li>
     <li><code>semi-factorial :postfix($x)</code> would be read as <q>x semi factorial</q></li>
    </ul>
    <p>These features also allow taking almost complete control of the generated speech.
    For example, compare:</p>
    <ul>
     <li><code>free-algebra ($r, $x)</code><br/>
     would be read as <q>free algebra of r and x</q></li>

     <li><code>free-algebra-construct:silent (_free, $r, _algebra, _on, $x)</code><br/>
      would be read as <q>free r algebra on x</q></li>

      <li><code>_(free, _($r,algebra), on, $x)</code><br/>
      would be read as <q>free r algebra; on x</q></li>
    </ul>
    <p>However, since the literals are not in dictionaries,
     the meaning behind the expressions become more opaque,
     and thus excessive use of these features will tend to limit the AT's ability
     to adapt to the needs of the user, as well as limit translation and locale-specific speech.
     Thus, the last two examples would be discouraged.</p>
     <p>Conversely, when specific speech not corresponding to a meaningful concept
     is nevertheless required,
     it will be better to use a [=literal=] name (prefixed with <q>`_`</q>)
     rather than an [=unsupported concept=].
     This avoids unexpected collisions with future updates to the concept dictionaries.
     Thus, the last example is particularly discouraged.
    </p>
   </section>

   <section>
   <h3 id="mixing_intent_examples">Intent Examples</h3>

    <p>A primary use for <code class="attribute">intent</code> is to
    disambiguate cases where the same syntax is used for different meanings,
    and typically has different readings.</p>

    <p>Superscript, <code class="element">msup</code>, may represent a power, a transpose,
    a derivative or an embellished symbol. These cases would be distinguished as follows, showing possible readings <em>with</em> and <em>without</em> <code class="attribute">intent</code></p>

<div class="example mathml mmlcore">
<pre>
&lt;msup intent="power($base,$exp)">
  &lt;mi arg="base">x&lt;/mi>
  &lt;mi arg="exp">n&lt;/mi>
&lt;/msup>
</pre>
<blockquote>x to the n-th power<br/> x superscript n end superscript</blockquote>
</div>
<p>An alternative default rendering without intent would be to assume that
  <code class="element">msup</code> is always a power, so the second rendering above
  might also be <q>x to the n-th power</q>. In that case the second renderings below
  will (incorrectly) speak the examples using <q>raised to the ... power</q>.
</p>
<div class="example mathml mmlcore">
<pre>
&lt;msup intent="$op($a)">
  &lt;mi arg="a">A&lt;/mi>
  &lt;mi arg="op" intent="transpose">T&lt;/mi>
&lt;/msup>
</pre>
<blockquote>transpose of A<br/> A superscript T end superscript </blockquote>
</div>
<p>However, with a property, this example might be read differently.</p>
<div class="example mathml mmlcore">
<pre>
&lt;msup intent="$op :postfix ($a)">
  &lt;mi arg="a">A&lt;/mi>
  &lt;mi arg="op" intent="transpose">T&lt;/mi>
&lt;/msup>
</pre>
<blockquote>A transpose</blockquote>
</div>

<div class="example mathml mmlcore">
<pre>
&lt;msup intent="derivative($a)">
  &lt;mi arg="a">f&lt;/mi>
  &lt;mi>&#x2032;&lt;/mi>
&lt;/msup>
</pre>
<blockquote>derivative of f<br/> f superscript prime end superscript</blockquote>
</div>
<div class="example mathml mmlcore">
<pre>
&lt;msup intent="x-prime">
  &lt;mi>x&lt;/mi>
  &lt;mo>&#x2032;&lt;/mo>
&lt;/msup>
</pre>
<blockquote>x prime<br/> x superscript prime end superscript</blockquote>
</div>

<p>Custom accessible descriptions, such as author-preferred variable or operator names, can also be annotated compositionally, via the underscore function.</p>
<p>The above notation could instead intend the custom name "x-new", which we can mark with a single literal `intent="_x-new"`, or as a compound narration of two arguments:</p>
<div class="example mathml mmlcore">
<pre>
&lt;msup intent="_($base,$script)">
  &lt;mi arg="base">x&lt;/mi>
  &lt;mo arg="script" intent="_new">&#x2032;&lt;/mo>
&lt;/msup>
</pre>
<blockquote>x new<br/>x superscript prime end superscript</blockquote>
</div>

<p>Using the underscore function may also add clarity when the fragments of a compound name are explicitly localized. A cyrillic (Bulgarian) example:</p>
<div class="example mathml mmlcore">
<pre>
&lt;msup intent="_($base,$script)">
  &lt;mi arg="base" intent="_хикс">x&lt;/mi>
  &lt;mo arg="script" intent="_прим">&#x2032;&lt;/mo>
&lt;/msup>
</pre>
<blockquote>хикс прим<br/>x superscript prime end superscript</blockquote>
</div>

<p>Alternatively, the narration of individual fragments could be fully delegated to AT, while still specifying their grouping:</p>
<div class="example mathml mmlcore">
<pre>
&lt;msup intent="_($base,$script)">
  &lt;mi arg="base">x&lt;/mi>
  &lt;mo arg="script">&#x2032;&lt;/mo>
&lt;/msup>
</pre>
<blockquote>x prime<br/>x superscript prime end superscript</blockquote>
</div>

<p>An overbar may represent complex conjugation, or mean (average), again with possible readings with and without <code class="attribute">intent</code>:</p>

<div class="example mathml mmlcore">
<pre>
&lt;mover intent="conjugate($v)"&gt;
  &lt;mi arg="v"&gt;z&lt;/mi&gt;
  &lt;mo&gt;&amp;#xaf;&lt;/mo&gt;
&lt;/mover&gt;
&lt;mtext>&amp;#x00A0;&lt;!--nbsp--&gt;is not&amp;#x00A0;&lt;!--nbsp--&gt;&lt;/mtext>
&lt;mover intent="mean($var)"&gt;
  &lt;mi arg="var"&gt;X&lt;/mi&gt;
  &lt;mo&gt;&amp;#xaf;&lt;/mo&gt;
&lt;/mover&gt;
</pre>

<blockquote>conjugate of z is not  mean of X<br/>
z with bar above  is not  X with bar above</blockquote>
</div>

<p>The intent mechanism is extensible through the use of [=unsupported concept=] names.
For example, assuming that the Bell Number is not present in any of the dictionaries,
the following example</p>
<div class="example mathml mmlcore">
<pre>
&lt;msub intent="bell-number($index)"&gt;
  &lt;mi&gt;B&lt;/mi&gt;
  &lt;mn arg="index"&gt;2&lt;/mn&gt;
&lt;/msub&gt;
</pre>
<p>will still produce the expected reading:</p>
<blockquote>bell number of 2</blockquote>
</div>

<section>
  <h4 id="mixing_intent_examples_css">CSS and Style</h4>

  <p>CSS customization of MathML is generally not made available to AT and is ignored
    in accessible readouts.
  In cases where authors have meaningful stylistic emphases,
  or stylized constructs with custom names, using an intent attribute is appropriate.
  For example, color-coding of subexpressions is often helpful in teaching materials:</p>
<div class="example mathml mmlcore">
<pre>
&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;
&lt;mrow style="padding:0.1em;background-color:lightyellow;"
      intent="highlighted-step($step)"&gt;
  &lt;mfrac arg="step"&gt;&lt;mn&gt;6&lt;/mn&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mfrac&gt;
&lt;/mrow&gt;
&lt;mi&gt;x&lt;/mi&gt;
&lt;mo&gt;=&lt;/mo&gt;
&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;+&lt;/mo&gt;
&lt;mn style="padding:0.1em;background-color:lightgreen;"
    intent="highlighted-result(3)"&gt;3&lt;/mn&gt;
&lt;mi&gt;x&lt;/mi&gt;
</pre>
<blockquote>one plus highlighted step of six over two end highlighted step x
  equals one plus highlighted result of three end highlighted result x
</blockquote>
</div>
</section>

<section>
 <h4 id="mixing_intent_examples_mtr">Tables</h4>
 
 <p>The <code class="element">&lt;mtable&gt;</code> element is
 used in many ways, for denoting matrices, systems of equations,
 steps in a proof derivation, etc. In addition to these uses it
 may be used to implement forced line breaking and alignment,
 especially for systems that do not implement
 [[[#presm_linebreaking]]], or for conversions from (La)TeX where
 alignment constructs are used in similar ways.</p>
 <p>Whenever a kind of tabular construct has an <a href="#intent_table_properties">associated property</a>,
 it is usually better to use only the property and allow AT to infer
 how to speak navigate the expression. By use of properties in this way the
 author can give hints to the speech generation and generate
 speech suitable for a list of aligned equations rather than say a matrix.</p>
 
 <p>When core properties are insufficient to represent a tabular
 layout, the use of intent concept names and, if appropriate, also
 properties from the open list of properties should be used to
 convey the desired speech and navigation of the tabular
 layout. Because of the likely complexity of these layouts,
 testing with AT should be done to verify that users hear the
 expression as the author intended.</p>
 


<p>Matrices</p>
<div class="example mathml mmlcore">
<pre>
&lt;mrow intent='$m'>
  &lt;mo>(&lt;/mo>
  &lt;mtable arg='m' intent=':matrix'>
    &lt;mtr>
      &lt;mtd>&lt;mn>1&lt;/mn>&lt;/mtd>
      &lt;mtd>&lt;mn>0&lt;/mn>&lt;/mtd>
    &lt;/mtr>
    &lt;mtr>
      &lt;mtd>&lt;mn>0&lt;/mn>&lt;/mtd>
      &lt;mtd>&lt;mn>1&lt;/mn>&lt;/mtd>
    &lt;/mtr>
  &lt;/mtable>
  &lt;mo>)&lt;/mo>
&lt;/mrow>
</pre>
<blockquote>
The 2 by 2 matrix;<br/>
column 1; 1;<br/>
column 2; 0;<br/>
column 1; 0;<br/>
column 2; 1;<br/>
end matrix
</blockquote>
    </div>


    <p>Aligned equations</p>
    <div class="example mathml mmlcore">
<pre>
&lt;mtable intent=':equations'>
  &lt;mtr>
    &lt;mtd columnalign="right">
      &lt;mn>2&lt;/mn>
      &lt;mo>&amp;#x2062;&lt;!--InvisibleTimes--&gt;&lt;/mo>
      &lt;mi>x&lt;/mi>
    &lt;/mtd>
    &lt;mtd columnalign="center">
      &lt;mo>=&lt;/mo>
    &lt;/mtd>
    &lt;mtd columnalign="left">
      &lt;mn>1&lt;/mn>
    &lt;/mtd>
  &lt;/mtr>
  &lt;mtr>
    &lt;mtd columnalign="right">
      &lt;mi>y&lt;/mi>
    &lt;/mtd>
    &lt;mtd columnalign="center">
      &lt;mo>&gt;&lt;/mo>
    &lt;/mtd>
    &lt;mtd columnalign="left">
      &lt;mi>x&lt;/mi>
      &lt;mo>-&lt;/mo>
      &lt;mn>3&lt;/mn>
    &lt;/mtd>
  &lt;/mtr>
&lt;/mtable>
</pre>
<blockquote>
2 equations,<br/>
equation 1; 2 x, is equal to, 1;<br/>
equation 2; y, is greater than, x minus 3;
</blockquote>
    </div>

    <p>Aligned Equations with wrapped expressions</p>

    <div class="example mathml mmlcore">
<pre>
&lt;mtable intent=':equations'>
  &lt;mtr>
    &lt;mtd columnalign="right">
      &lt;mi>a&lt;/mi>
    &lt;/mtd>
    &lt;mtd columnalign="center">
      &lt;mo>=&lt;/mo>
    &lt;/mtd>
    &lt;mtd columnalign="left">
      &lt;mi>b&lt;/mi>
      &lt;mo>+&lt;/mo>
      &lt;mi>c&lt;/mi>
      &lt;mo>-&lt;/mo>
      &lt;mi>d&lt;/mi>
    &lt;/mtd>
  &lt;/mtr>
  &lt;mtr intent=':continued-row'>
    &lt;mtd columnalign="right">&lt;/mtd>
    &lt;mtd columnalign="center">&lt;/mtd>
    &lt;mtd columnalign="left">
      &lt;mo form="infix">+&lt;/mo>
      &lt;mi>e&lt;/mi>
      &lt;mo>-&lt;/mo>
      &lt;mi>f&lt;/mi>
    &lt;/mtd>
  &lt;/mtr>
&lt;/mtable>
</pre>
<blockquote>
 1 equation; a, is equal to, b plus c minus d; plus e minus f;
</blockquote>
    </div>
   </section>
   </section>



 </section>
