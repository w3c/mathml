<section>
   <h2 id="presm">Presentation Markup</h2>
   
   
   
   
   
   <section>
      <h3 id="presm_intro">Introduction</h3>
      
      
      <p>This chapter specifies the <span>&#x201c;presentation&#x201d;</span> elements of
         MathML, which can be used to describe the layout structure of mathematical
         notation.</p>
      
      
      <section>
         <h4>What Presentation Elements Represent</h4>
         
         
         <p>Presentation elements correspond to the <span>&#x201c;constructors&#x201d;</span>
            of traditional mathematical notation &#x2014;  that is, to the basic
            kinds of symbols and expression-building structures out of which any
            particular piece of traditional mathematical notation is built.
            Because of the importance of traditional visual notation, the
            descriptions of the notational constructs the elements represent are
            usually given here in visual terms.  However, the elements are
            medium-independent in the sense that they have been designed to
            contain enough information for good spoken renderings as well.  Some
            attributes of these elements may make sense only for visual media, but
            most attributes can be treated in an analogous way in audio as well
            (for example, by a correspondence between time duration and horizontal
            extent).</p>
         
         
         <p>MathML presentation elements only suggest (i.e. do not require)
            specific ways of rendering in order to allow for medium-dependent
            rendering and for individual preferences of style.  This specification
            describes suggested visual rendering rules in some detail, but a
            particular MathML renderer is free to use its own rules as long as its
            renderings are intelligible.</p>
         
         
         <p>The presentation elements are meant to express the syntactic
            structure of mathematical notation in much the same way as titles, sections,
            and paragraphs capture the higher-level syntactic structure of a
            textual document. Because of this, a single row of identifiers and operators
            will often be represented by multiple nested <code class="element">mrow</code> elements rather than
            a single <code class="element">mrow</code>.  For example, <span>&#x201c;<i class="var">x</i> + <i class="var">a</i> /
               <i class="var">b</i>&#x201d;</span> typically is represented as:
            
            <div class="example mathml">
               <pre>
&lt;mrow&gt;
  &lt;mi&gt; x &lt;/mi&gt;
  &lt;mo&gt; + &lt;/mo&gt;
  &lt;mrow&gt;
    &lt;mi&gt; a &lt;/mi&gt;
    &lt;mo&gt; / &lt;/mo&gt;
    &lt;mi&gt; b &lt;/mi&gt;
  &lt;/mrow&gt;
&lt;/mrow&gt;
</pre>
            </div>
            </p>
         
         
         <p>Similarly, superscripts are attached to the full expression constituting 
            their base rather than to the just preceding character.  This
            structure permits better-quality rendering of mathematics, especially when
            details of the rendering environment, such as display widths, are not
            known ahead of time to the document author. It also greatly eases automatic
            interpretation of the represented mathematical structures.</p>
         
         
         <p>Certain characters are used
            to name identifiers or operators that in traditional notation render the
            same as other symbols or usually rendered invisibly.  For example, the entities
            <code class="entity">DifferentialD</code>, <code class="entity">ExponentialE</code>, and 
            <code class="entity">ImaginaryI</code> denote notational symbols semantically distinct from visually 
            identical letters used as simple variables.
            Likewise, the entities
            <code class="entity">InvisibleTimes</code>, 
            <code class="entity">ApplyFunction</code>, 
            <code class="entity">InvisibleComma</code> <span>and the character U+2064 
               (INVISIBLE PLUS)</span> usually render invisibly but represent significant information.  
            These entities have distinct spoken renderings, may influence visual linebreaking
            and spacing,
            and may effect the evaluation or meaning of particular expressions.
            Accordingly, authors should use these entities wherever they are applicable.
            For instance, the expression represented visually as
            <span>&#x201c;<i class="var">f</i>(<i class="var">x</i>)&#x201d;</span> would usually be spoken in English as
            <span>&#x201c;<i class="var">f</i> of <i class="var">x</i>&#x201d;</span> rather than just
            <span>&#x201c;<i class="var">f</i> <i class="var">x</i>&#x201d;</span>.  MathML conveys this meaning by using 
            the <code class="entity">ApplyFunction</code> operator after the
            <span>&#x201c;<i class="var">f</i>&#x201d;</span>, which, in this case, can be aurally rendered as
            <span>&#x201c;of&#x201d;</span>.</p>
         
         
         <p>The complete list of MathML entities is described in [[Entities]].</p>
         </section>
      
      
      <section>
         <h4>Terminology Used In This Chapter</h4>
         
         
         
         <p>It is strongly recommended that, before reading the present
            chapter, one read <a href="#fund_syntax"></a> on MathML syntax and
            grammar, which contains important information on MathML notations and
            conventions.  In particular, in this chapter it is assumed that the
            reader has an understanding of basic XML terminology described in
            <a href="#fund_xmlsyntax"></a>, and the attribute value notations and
            conventions described in <a href="#fund_attval"></a>.</p>
         
         
         <p>The remainder of this section introduces MathML-specific
            terminology and conventions used in this chapter.</p>
         
         
         <section>
            <h5>Types of presentation elements</h5>
            
            
            <p>The presentation elements are divided into two classes.
               <a class="intref" href="#presm_tokel"><em>Token elements</em></a>
               represent individual symbols, names, numbers, labels, etc. 
               <em>Layout schemata</em> build expressions out of parts and can have
               only elements as content (except for whitespace, which they ignore).
               These are subdivided into 
               <a class="intref" href="#presm_genlayout">General Layout</a>,
               <a class="intref" href="#presm_scrlim">Script and Limit</a>,
               <a class="intref" href="#presm_tabmat">Tabular Math</a> and
               <a class="intref" href="#presm_elementary">Elementary Math</a> schemata.
               There
               are also a few empty elements used only in conjunction with certain layout
               schemata.</p>
            
            
            <p>All individual <span>&#x201c;symbols&#x201d;</span> in a mathematical expression should be
               represented by MathML token elements. The primary MathML token element
               types are identifiers (e.g. variables or function names), numbers, and
               operators (including fences, such as parentheses, and separators, such
               as commas). There are also token elements used to represent text or
               whitespace that has more aesthetic than mathematical significance
               and other elements representing <span>&#x201c;string literals&#x201d;</span> for compatibility with
               computer algebra systems. Note that although a token element
               represents a single meaningful <span>&#x201c;symbol&#x201d;</span> (name, number, label,
               mathematical symbol, etc.), such symbols may be comprised of more than
               one character.  For example <code>sin</code> and <code>24</code> are
               represented by the single tokens <code>&lt;mi&gt;sin&lt;/mi&gt;</code>
               and <code>&lt;mn&gt;24&lt;/mn&gt;</code> respectively.</p>
            
            
            <p>In traditional mathematical notation, expressions are recursively
               constructed out of smaller expressions, and ultimately out of single
               symbols, with the parts grouped and positioned using one of a small
               set of notational structures, which can be thought of as <span>&#x201c;expression
                  constructors&#x201d;</span>. In MathML, expressions are constructed in the same way,
               with the layout schemata playing the role of the expression
               constructors. The layout schemata specify the way in which
               sub-expressions are built into larger expressions. The terminology
               derives from the fact that each layout schema corresponds to a
               different way of <span>&#x201c;laying out&#x201d;</span> its sub-expressions to form a larger
               expression in traditional mathematical typesetting.</p>
            </section>
         
         
         <section>
            <h5>Terminology for other classes of elements and their relationships</h5>
            
            
            <p>The terminology used in this chapter for special classes of elements, and for
               relationships between elements, is as follows: The <em>presentation elements</em> are
               the MathML elements defined in this chapter.
               These elements are listed in <a href="#presm_summary"></a>.
               The <em>content elements</em> are the MathML elements defined
               in <a href="#contm"></a>.</p>
            
            
            <p>A MathML <em>expression</em> is a single instance of any of the
               presentation elements with the exception of the empty elements
               <code class="element">none</code> or <code class="element">mprescripts</code>,
               or is a single instance of any of the content elements which are allowed as
               content of presentation elements (described in <a href="#mixing_cminpm"></a>).
               A <em>sub-expression</em> of an expression
               <i class="var">E</i> is any MathML expression that is part of the content of
               <i class="var">E</i>, whether <em>directly</em> or <em>indirectly</em>,
               i.e. whether it is a <span>&#x201c;child&#x201d;</span> of <i class="var">E</i> or not.</p>
            
            
            <p>Since layout schemata attach special meaning to the number and/or
               positions of their children, a child of a layout schema is also called
               an <em>argument</em> of that element.  As a consequence of the
               above definitions, the content of a layout schema consists exactly of
               a sequence of zero or more elements that are its
               arguments. </p> 
            </section> 
         </section>
      
      
      <section>
         <h4 id="presm_reqarg">Required Arguments</h4>
         
         
         <p>Many of the elements described herein require a specific number of
            arguments (always 1, 2, or 3).  In the detailed descriptions of
            element syntax given below, the number of required arguments is
            implicitly indicated by giving names for the arguments at various
            positions.  A few elements have additional requirements on the number
            or type of arguments, which are described with the individual
            element. For example, some elements accept sequences of zero or more
            arguments &#x2014; that is, they are allowed to occur with no arguments
            at all.</p>
         
         
         <p>Note that MathML elements encoding rendered space <em>do</em>
            count as arguments of the elements in which they appear.
            See <a href="#presm_mspace"></a> for a discussion of the proper use of such
            space-like elements.</p>
         
         
         <section>
            <h5 id="presm_inferredmrow">Inferred <code class="starttag">&lt;mrow&gt;</code>s</h5>
            
            
            <p>The elements listed in the following table as requiring 1*
               argument (<code class="element">msqrt</code>, <code class="element">mstyle</code>, <code class="element">merror</code>,
               <code class="element">mpadded</code>, <code class="element">mphantom</code>, <code class="element">menclose</code>,
               <code class="element">mtd</code>, <code class="element">mscarry</code>,
               and <code class="element">math</code>) 
               conceptually accept a single argument,
               but actually accept any number of children.
               If the number of children is 0 or is more than 1, they treat their contents
               as a single <em>inferred</em> <code class="element">mrow</code> formed from all their children,
               and treat this <code class="element">mrow</code> as the argument.
               </p>
            
            
            <p>For example,
               
               <div class="example mathml-fragment">
                  <pre>
&lt;mtd&gt;
&lt;/mtd&gt;
</pre>
               </div>
               is treated as if it were
               
               <div class="example mathml-fragment">
                  <pre>
&lt;mtd&gt;
  &lt;mrow&gt;
  &lt;/mrow&gt;
&lt;/mtd&gt;
</pre>
               </div>
               and
               
               <div class="example mathml">
                  <pre>
&lt;msqrt&gt;
  &lt;mo&gt; - &lt;/mo&gt;
  &lt;mn&gt; 1 &lt;/mn&gt;
&lt;/msqrt&gt;
</pre>
               </div>
               is treated as if it were
               
               <div class="example mathml">
                  <pre>
&lt;msqrt&gt;
  &lt;mrow&gt;
    &lt;mo&gt; - &lt;/mo&gt;
    &lt;mn&gt; 1 &lt;/mn&gt;
  &lt;/mrow&gt;
&lt;/msqrt&gt;
</pre>
               </div>
               </p>
            
            
            <p>This feature allows MathML data not to contain (and its authors to
               leave out)  many <code class="element">mrow</code> elements that would otherwise be
               necessary.</p>
            </section>
         
         
         <section>
            <h5>Table of argument requirements</h5>
            
            
            <p>For convenience, here is a table of each element's argument count
               requirements and the roles of individual arguments when these are
               distinguished.  An argument count of 1* indicates an inferred <code class="element">mrow</code> as described above. 
               Although the <code class="element">math</code> element is
               not a presentation element, it is listed below for completeness.
               
               <table id="presm_table-reqarg" border="1">
                  
                  <thead>
                     
                     <tr>
                        
                        <td>Element</td>
                        
                        <td>Required argument count</td>
                        
                        <td>Argument roles (when these differ by position)</td>
                        </tr>
                     </thead>
                  
                  <tbody>
                     
                     <tr>
                        
                        <td><a class="intref" href="#presm_mrow"><code class="element">mrow</code></a></td> 
                        
                        <td>0 or more</td>
                        
                        <td></td>
                        </tr>
                     
                     <tr>
                        
                        <td><a class="intref" href="#presm_mfrac"><code class="element">mfrac</code></a></td> 
                        
                        <td>2</td>
                        
                        <td><em>numerator</em> <em>denominator</em></td>
                        </tr>
                     
                     <tr>
                        
                        <td><a class="intref" href="#presm_mroot"><code class="element">msqrt</code></a></td> 
                        
                        <td>1*</td>
                        
                        <td></td>
                        </tr>
                     
                     <tr>
                        
                        <td><a class="intref" href="#presm_mroot"><code class="element">mroot</code></a></td> 
                        
                        <td>2</td>
                        
                        <td><em>base</em> <em>index</em></td>
                        </tr>
                     
                     <tr>
                        
                        <td><a class="intref" href="#presm_mstyle"><code class="element">mstyle</code></a></td> 
                        
                        <td>1*</td>
                        
                        <td></td>
                        </tr>
                     
                     <tr>
                        
                        <td><a class="intref" href="#presm_merror"><code class="element">merror</code></a></td> 
                        
                        <td>1*</td>
                        
                        <td></td>
                        </tr>
                     
                     <tr>
                        
                        <td><a class="intref" href="#presm_mpadded"><code class="element">mpadded</code></a></td> 
                        
                        <td>1*</td>
                        
                        <td></td>
                        </tr>
                     
                     <tr>
                        
                        <td><a class="intref" href="#presm_mphantom"><code class="element">mphantom</code></a></td> 
                        
                        <td>1*</td>
                        
                        <td></td>
                        </tr>
                     
                     <tr>
                        
                        <td><a class="intref" href="#presm_mfenced"><code class="element">mfenced</code></a></td> 
                        
                        <td>0 or more</td>
                        
                        <td></td>
                        </tr>
                     
                     <tr>
                        
                        <td><a class="intref" href="#presm_menclose"><code class="element">menclose</code></a></td> 
                        
                        <td>1*</td>
                        
                        <td></td>
                        </tr>
                     
                     <tr>
                        
                        <td><a class="intref" href="#presm_msub"><code class="element">msub</code></a></td> 
                        
                        <td>2</td>
                        
                        <td><em>base</em> <em>subscript</em></td>
                        </tr>
                     
                     <tr>
                        
                        <td><a class="intref" href="#presm_msup"><code class="element">msup</code></a></td> 
                        
                        <td>2</td>
                        
                        <td><em>base</em> <em>superscript</em></td>
                        </tr>
                     
                     <tr>
                        
                        <td><a class="intref" href="#presm_msubsup"><code class="element">msubsup</code></a></td> 
                        
                        <td>3</td>
                        
                        <td><em>base</em> <em>subscript</em> <em>superscript</em></td>
                        </tr>
                     
                     <tr>
                        
                        <td><a class="intref" href="#presm_munder"><code class="element">munder</code></a></td> 
                        
                        <td>2</td>
                        
                        <td><em>base</em> <em>underscript</em></td>
                        </tr>
                     
                     <tr>
                        
                        <td><a class="intref" href="#presm_mover"><code class="element">mover</code></a></td> 
                        
                        <td>2</td>
                        
                        <td><em>base</em> <em>overscript</em></td>
                        </tr>
                     
                     <tr>
                        
                        <td><a class="intref" href="#presm_munderover"><code class="element">munderover</code></a></td> 
                        
                        <td>3</td>
                        
                        <td><em>base</em> <em>underscript</em> <em>overscript</em></td>
                        </tr>
                     
                     <tr>
                        
                        <td><a class="intref" href="#presm_mmultiscripts"><code class="element">mmultiscripts</code></a></td> 
                        
                        <td>1 or more</td>
                        
                        <td><em>base</em>
                           (<em>subscript</em> <em>superscript</em>)*
                           [<code class="emptytag">&lt;mprescripts/&gt;</code>
                           (<em>presubscript</em> <em>presuperscript</em>)*]</td>
                        </tr>
                     
                     <tr>
                        
                        <td><a class="intref" href="#presm_mtable"><code class="element">mtable</code></a></td> 
                        
                        <td>0 or more rows</td>
                        
                        <td>0 or more <code class="element">mtr</code> or <code class="element">mlabeledtr</code> elements</td> 
                        </tr>
                     
                     <tr>
                        
                        <td><a class="intref" href="#presm_mlabeledtr"><code class="element">mlabeledtr</code></a></td> 
                        
                        <td>1 or more</td>
                        
                        <td>a label and 0 or more <code class="element">mtd</code> elements</td>
                        </tr>
                     
                     <tr>
                        
                        <td><a class="intref" href="#presm_mtr"><code class="element">mtr</code></a></td> 
                        
                        <td>0 or more</td>
                        
                        <td>0 or more <code class="element">mtd</code> elements</td>
                        </tr>
                     
                     <tr>
                        
                        <td><a class="intref" href="#presm_mtd"><code class="element">mtd</code></a></td> 
                        
                        <td>1*</td>
                        
                        <td></td>
                        </tr>
                     
                     <tr>
                        
                        <td><a class="intref" href="#presm_mstack"><code class="element">mstack</code></a></td> 
                        
                        <td>0 or more</td>
                        
                        <td></td>
                        </tr>
                     
                     <tr>
                        
                        <td><a class="intref" href="#presm_mlongdiv"><code class="element">mlongdiv</code></a></td> 
                        
                        <td>3 or more</td>
                        
                        <td><em>divisor</em> <em>result</em>  <em>dividend</em> (<em>msrow</em> |
                           <em>msgroup</em> | <em>mscarries</em> | <em>msline</em>)*</td>
                        </tr>
                     
                     <tr>
                        
                        <td><a class="intref" href="#presm_msgroup"><code class="element">msgroup</code></a></td> 
                        
                        <td>0 or more</td>
                        
                        <td></td>
                        </tr>
                     
                     <tr>
                        
                        <td><a class="intref" href="#presm_msrow"><code class="element">msrow</code></a></td> 
                        
                        <td>0 or more</td>
                        
                        <td></td>
                        </tr>
                     
                     <tr>
                        
                        <td><a class="intref" href="#presm_mscarries"><code class="element">mscarries</code></a></td> 
                        
                        <td>0 or more</td>
                        
                        <td></td>
                        </tr>
                     
                     <tr>
                        
                        <td><a class="intref" href="#presm_mscarry"><code class="element">mscarry</code></a></td> 
                        
                        <td>1*</td>
                        
                        <td></td>
                        </tr>
                     
                     <tr>
                        
                        <td><a class="intref" href="#presm_maction"><code class="element">maction</code></a></td> 
                        
                        <td>1 or more</td>
                        
                        <td>depend on <code class="attribute">actiontype</code> attribute</td>
                        </tr>
                     
                     <tr>
                        
                        <td><a class="intref" href="#interf_toplevel"><code class="element">math</code></a></td> 
                        
                        <td>1*</td>
                        
                        <td></td>
                        </tr>
                     </tbody>
                  </table>
               </p>
            </section>
         </section>
      
      
      <section>
         <h4>Elements with Special Behaviors</h4>
         
         
         <p>Certain MathML presentation elements exhibit special behaviors in
            certain contexts. Such special behaviors are discussed in the
            detailed element descriptions below. However, for convenience, some
            of the most important classes of special behavior are listed here.</p>
         
         
         <p>Certain elements are considered space-like; these are defined in
            <a href="#presm_mspace"></a>. This definition affects some of the suggested rendering
            rules for <code class="element">mo</code> elements (<a href="#presm_mo"></a>).</p>
         
         
         <p>Certain elements, e.g. <code class="element">msup</code>, are able to
            embellish operators that are their first argument. These elements are
            listed in <a href="#presm_mo"></a>, which precisely defines an <span>&#x201c;embellished
               operator&#x201d;</span> and explains how this affects the suggested rendering rules
            for stretchy operators.</p>
         
         </section>
      
      
      <section>
         <h4 id="presm_bidi">Directionality</h4>
         
         
         <p>
            In the notations familiar to most readers,
            both the overall layout and the textual symbols are arranged
            from left to right (LTR).  Yet, as alluded to in the introduction,
            mathematics written in Hebrew or in locales such
            as  Morocco or Persia, the overall layout is used unchanged, but
            the embedded symbols (often Hebrew or Arabic) are written right to left (RTL).
            Moreover, in most of the Arabic speaking world, the notation
            is arranged entirely RTL; thus a superscript is still raised,
            but it follows the base on the left rather than the right.</p>
         
         
         <p>MathML 3.0 therefore recognizes two distinct directionalities:
            the directionality of the text and symbols within token elements
            and the overall directionality represented by Layout Schemata.
            These two facets are discussed below.</p>
         
         
         <section>
            <h5 id="presm_bidi_math">Overall Directionality of Mathematics Formulas</h5>
            
            
            <p>
               The overall directionality for a formula, basically
               the direction of the Layout Schemata, is specified by
               the <code class="attribute">dir</code> attribute on the containing <code class="element">math</code> element
               (see <a href="#interf_toplevel"></a>).
               The default is <code class="attribute">ltr</code>.  When <code class="attribute">dir</code>=<code class="attributevalue">rtl</code>
               is used, the layout is simply the mirror image of the conventional
               European layout.  That is, shifts up or down are unchanged,
               but the progression in laying out is from right to left.</p>
            
            <p>For example, in a RTL layout, sub- and superscripts appear to the left of the base;
               the surd for a root appears at the right, with the bar continuing over
               the base to the left.
               The layout details for elements whose behaviour depends on directionality
               are given in the discussion of the element.  In those discussions, the
               terms leading and trailing are used to specify a side of an object
               when which side to use depends on the directionality; ie. leading
               means left in LTR but right in RTL.
               The terms left and right may otherwise be safely assumed to mean left and right.
               </p>
            
            
            <p>
               The overall directionality is usually set on the <code class="element">math</code>, but
               may also be switched for individual subformula by using the <code class="attribute">dir</code>
               attribute on <code class="element">mrow</code> or <code class="element">mstyle</code> elements.
               When not specified, all elements inherit the directionality of their container.
               </p>
            </section>
         
         
         <section>
            <h5 id="presm_bidi_token">Bidirectional Layout in Token Elements</h5>
            
            
            <p>The text directionality comes into play for the MathML token elements
               that can contain text (<code class="element">mtext</code>, <code class="element">mo</code>, <code class="element">mi</code>, <code class="element">mn</code>
               and <code class="element">ms</code>) and is determined by the Unicode properties of that text.
               A token element containing exclusively LTR or RTL characters
               is displayed straightforwardly in the given direction.
               When a mixture of directions is involved used, such as RTL Arabic
               and LTR numbers, the Unicode bidirectional algorithm [[Bidi]]
               is applied.  This algorithm specifies how runs of characters
               with the same direction are processed and how the runs are (re)ordered.
               The base, or initial, direction is given by the overall directionality
               described above (<a href="#presm_bidi_math"></a>) and affects
               how weakly directional characters are treated and how runs are nested.
               (The <code class="attribute">dir</code> <span>attribute</span> is thus allowed on token elements to specify
               the initial directionality that may be needed in rare cases.)
               Any <code class="element">mglyph</code> or <code class="element">malignmark</code> elements appearing within
               a token element are effectively <em>neutral</em> and have no effect
               on ordering.</p>
            
            
            <p>The important thing to notice is that the bidirectional algorithm
               is applied independently to the contents of each token element;
               each token element is an independent run of characters.
               </p>
            
            
            <p>Other features of Unicode and scripts that should be respected
               are &#x2018;mirroring&#x2019; and &#x2018;glyph shaping&#x2019;.
               Some Unicode characters are marked as being mirrored when presented in a RTL context;
               that is, the character is drawn as if it were mirrored or replaced by a corresponding
               character.
               Thus an opening parenthesis, &#x2018;(&#x2019;, in RTL will display as &#x2018;)&#x2019;.
               Conversely, the solidus (/ U+002F) is <em>not</em> marked
               as mirrored. Thus, an Arabic author that desires the slash to be reversed
               in an inline division should explicitly use reverse solidus (\ U+005C)
               or an alternative such as the mirroring DIVISION SLASH (U+2215).</p>
            
            
            <p>Additionally, calligraphic scripts such as Arabic blend, or connect
               sequences of characters together, changing their appearance.
               As this can have an significant impact on readability, as well as aesthetics,
               it is important to apply such shaping if possible.  Glyph shaping,
               like directionality, applies to each token element's contents individually.</p>
            
            
            <div class="issue" id="bidi-unicode-properties"><span class="head">Check Unicode additions and properties for bidirectionality</span>
               
               
               <p>We need to check on the status of various characters added to support
                  Arabic, and also check that the directionality and mirroring properties are correct.
                  (e.g. summation and similar)</p> 
               </div>
            
            
            <p>Please note that for the transfinite cardinals represented
               by Hebrew characters, the code points U+2135-U+2138 (ALEF SYMBOL,
               BET SYMBOL, GIMEL SYMBOL, DALET SYMBOL) should be used.
               These are strong left-to-right.</p>
            </section>
         
         </section>
      
      
      <section>
         <h4 id="presm_scriptlevel">Displaystyle and Scriptlevel</h4>
         
         
         <p>So-called &#x2018;displayed&#x2019; formulas, those appearing on a line by themselves,
            typically make more generous use of vertical space than inline formulas,
            which should blend into the adjacent text without intruding into
            neighboring lines. For example, in a displayed summation, the limits
            are placed above and below the summation symbol, while when it appears inline
            the limits would appear in the sub and superscript position.
            For similar reasons, sub- and superscripts,
            nested fractions and other constructs typically display in a
            smaller size than the main part of the formula.
            MathML implicitly associates with every presentation node
            a <code class="attribute">displaystyle</code> and <code class="attribute">scriptlevel</code> reflecting whether
            a more expansive vertical layout applies and the level of scripting
            in the current context.  </p>
         
         
         <p>These values are 
            initialized by the <a class="intref" href="#interf_toplevel"><code class="element">math</code></a> element
            according to the <code class="attribute">display</code> attribute.
            They are automatically adjusted by the 
            various <a class="intref" href="#presm_scrlim">script and limit schemata</a> elements,
            and the elements
            <a class="intref" href="#presm_mfrac"><code class="element">mfrac</code></a> and
            <a class="intref" href="#presm_mroot"><code class="element">mroot</code></a>, 
            which typically set <code class="attribute">displaystyle</code> false and increment <code class="attribute">scriptlevel</code>
            for some or all of their arguments.
            (See the description for each element for the specific rules used.)
            They also may be set explicitly via the <code class="attribute">displaystyle</code> and <code class="attribute">scriptlevel</code>
            attributes on the <a class="intref" href="#presm_mstyle"><code class="element">mstyle</code></a> element
            or the <code class="attribute">displaystyle</code> attribute of <a class="intref" href="#presm_mtable"><code class="element">mtable</code></a>.
            In all other cases, they are inherited from the node's parent.</p>
         
         
         <p>The <code class="attribute">displaystyle</code> affects the amount of vertical space used to lay out a formula: 
            when true, the more spacious layout of displayed equations is used,
            whereas when false a more compact layout of inline formula is used.
            This primarily affects the interpretation
            of the <code class="attribute">largeop</code> and <code class="attribute">movablelimits</code> attributes of
            the <a class="intref" href="#presm_mo"><code class="element">mo</code></a> element.
            However, more sophisticated renderers are free to use
            this attribute to render more or less compactly.
            </p>
         
         
         <p>The main effect of <code class="attribute">scriptlevel</code> is to control the font size.
            Typically, the higher the <code class="attribute">scriptlevel</code>, the smaller the font size.
            (Non-visual renderers can respond to the font size in an analogous way for their medium.)
            Whenever the <code class="attribute">scriptlevel</code> is changed, whether automatically or explicitly,
            the current font size is multiplied by the value of
            <code class="attribute">scriptsizemultiplier</code> to the power of the <em>change</em> in <code class="attribute">scriptlevel</code>.
            However, changes to the font size due to <code class="attribute">scriptlevel</code> changes should
            never reduce the size below <code class="attribute">scriptminsize</code> to prevent scripts
            becoming unreadably small.
            The default <code class="attribute">scriptsizemultiplier</code> is approximately the square root of 1/2
            whereas <code class="attribute">scriptminsize</code> defaults to 8 points;
            these values may be changed on <code class="element">mstyle</code>; see  <a href="#presm_mstyle"></a>.
            Note that the <code class="attribute">scriptlevel</code> attribute of <code class="element">mstyle</code> allows arbitrary
            values of <code class="attribute">scriptlevel</code> to be obtained, including negative values which
            result in increased font sizes.
            </p>
         
         
         <p>The changes to the font size due to <code class="attribute">scriptlevel</code> should be viewed
            as being imposed from &#x2018;outside&#x2019; the node.
            This means that the effect of <code class="attribute">scriptlevel</code> is applied 
            before an explicit <code class="attribute">mathsize</code> (see <a href="#presm_commatt"></a>)
            on a token child of <code class="element">mfrac</code>.
            Thus, the <code class="attribute">mathsize</code>  effectively overrides the effect of <code class="attribute">scriptlevel</code>.
            However, that change to <code class="attribute">scriptlevel</code> changes the current font size,
            which affects the meaning of an <code class="attributevalue">em</code> length
            (see <a href="#fund_units"></a>)
            and so the <code class="attribute">scriptlevel</code> still may have an effect in such cases.
            Note also that since <code class="attribute">mathsize</code> is not constrained by <code class="attribute">scriptminsize</code>,
            such direct changes to font size can result in scripts smaller than <code class="attribute">scriptminsize</code>.
            </p>
         
         
         <p>Note that direct changes to current font size, whether by
            CSS or by the <code class="attribute">mathsize</code> attribute (See <a href="#presm_commatt"></a>),
            have no effect on the value of <code class="attribute">scriptlevel</code>.
            </p>
         
         
         <p>T<sub>E</sub>X's \displaystyle, \textstyle, \scriptstyle, and \scriptscriptstyle 
            correspond to  <code class="attribute">displaystyle</code> and <code class="attribute">scriptlevel</code>
            as
            <code class="attributevalue">true</code> and <code class="attributevalue">0</code>,
            <code class="attributevalue">false</code> and <code class="attributevalue">0</code>,
            <code class="attributevalue">false</code> and <code class="attributevalue">1</code>,
            and <code class="attributevalue">false</code> and <code class="attributevalue">2</code>, respectively.
            Thus,  <a class="intref" href="#interf_toplevel"><code class="element">math</code></a>'s
            <code class="attribute">display</code>=<code class="attributevalue">block</code> corresponds to \displaystyle,
            while <code class="attribute">display</code>=<code class="attributevalue">inline</code> corresponds to \textstyle.
            </p>
         
         </section>
      
      
      <section>
         <h4 id="presm_linebreaking">Linebreaking of Expressions</h4>
         
         <section>
            <h5>Control of Linebreaks</h5>
            
            <p>MathML provides support for both automatic and manual (forced)
               linebreaking of  expressions to break excessively long
               expressions into several lines. 
               All such linebreaks take place within <code class="element">mrow</code>
               (including inferred <code class="element">mrow</code>; see <a href="#presm_inferredmrow"></a>)
               or <code class="element">mfenced</code>.
               <span>The breaks typically take place at <code class="element">mo</code> elements
                  and also, for backwards compatibility, at <code class="element">mspace</code>.</span>
               <span>Renderers may also choose to place automatic linebreaks at other points
                  such as between adjacent <code class="element">mi</code> elements or even within a token element
                  such as a very long <code class="element">mn</code> element. MathML does not provide a means to
                  specify such linebreaks, but if a render chooses to linebreak at such a point,
                  it should indent the following line according to the
                  <a class="intref" href="#presm_lbindent_attrs">indentation attributes</a>
                  that are in effect at that point.</span>
               </p>
            
            <p>
               Automatic linebreaking occurs when the containing <code class="element">math</code> element
               has <code class="attribute">overflow</code>=<code class="attributevalue">linebreak</code>
               and the display engine determines that there is not enough space available to
               display the entire formula.  The available width must therefore be known
               to the renderer. Like font properties, one is assumed to be inherited from the environment
               in
               which the MathML element lives. If no width can be determined, an
               infinite width should be assumed. Inside of a <code class="element">mtable</code>,
               each column has some width. This width may be specified as an attribute
               or determined by the contents. This width should be used as the
               line wrapping width for linebreaking, and each entry in an <code class="element">mtable</code>
               is linewrapped as needed. </p>
            
            
            <p>Forced linebreaks are specified by using
               <code class="attribute">linebreak</code>=<code class="attributevalue">newline</code>
               on a <code class="element">mo</code> or <code class="element">mspace</code> element.
               Both automatic and manual linebreaking can occur within the same formula.
               </p>
            
            
            <p>Automatic linebreaking of subexpressions of <code class="element">mfrac</code>, <code class="element">msqrt</code>, <code class="element">mroot</code>
               and <code class="element">menclose</code> and the various script elements is not required.
               Renderers are free to ignore forced breaks within those elements if they choose.</p>
            
            
            <p>Attributes on <code class="element">mo</code> and possibly on <code class="element">mspace</code> elements control
               linebreaking and indentation of the following line. The aspects of linebreaking
               that can be controlled are:</p>
            
            <ul>
               
               <li>
                  <p><em>Where</em> &#x2014; attributes determine the desirability of
                     a linebreak at a specific operator or space, in particular whether a
                     break is required or inhibited.  These can only be set on
                     <code class="element">mo</code> and <code class="element">mspace</code> elements.
                     (See <a href="#presm_lbattrs"></a>.)</p>
                  </li>
               
               <li>
                  <p><em>Operator Display/Position</em> &#x2014; when a linebreak occurs,
                     determines whether the operator will appear
                     at the end of the line, at the beginning of the next line, or in both positions;
                     and how much vertical space should be added after the linebreak.
                     These attributes can be set on <code class="element">mo</code> elements or inherited from
                     <code class="element">mstyle</code> or  <code class="element">math</code> elements.
                     (See <a href="#presm_lbattrs"></a>.)</p>
               </li>
               
               <li>
                  <p><em>Indentation</em> &#x2014; determines the indentation of the
                     line following a linebreak, including indenting so that the next line aligns
                     with some point in a previous line.
                     These attributes can be set on <code class="element">mo</code> elements or
                     inherited from <code class="element">mstyle</code> or <code class="element">math</code> elements.
                     (See <a href="#presm_lbindent_attrs"></a>.)
                     </p>
               </li>
               </ul>
            
            <p>
               When a math element appears in an inline context, it may obey whatever paragraph flow
               rules
               are employed by the document's text rendering engine.
               Such rules are necessarily outside of the scope of this specification.
               Alternatively, it may use the value of the <code class="element">math</code> element's overflow attribute.
               (See <a href="#interf_toplevel_atts"></a>.)
               </p>
            
            </section>
         
         <section>
            <h5 id="presm_lbalgorithm">Automatic Linebreaking Algorithm (Informative)</h5>
            
            
            <p>One method of linebreaking that works reasonably well is sometimes referred
               to as a "best-fit" algorithm. It works by computing a "penalty" for
               each potential break point on a line. The break point with the smallest
               penalty is chosen and the algorithm then works on the next line. Three
               useful factors in a penalty calculation are:
               </p>
            <ol>
               
               <li>
                  <p>How much of the line width (after subtracting of the indent) is unused?
                     The more unused, the higher the penalty. </p>
               </li>
               
               <li>
                  <p>How deeply nested is the breakpoint in the expression tree? The expression
                     tree's depth is roughly similar to the nesting depth of <code class="element">mrow</code>s.
                     The more deeply nested the break point, the higher the penalty. </p>
               </li>
               
               <li>
                  <p>Does a linebreak here make layout of the next line difficult?
                     If the next line is not the last line and if the indentingstyle uses
                     information about the linebreak point to determine how much to indent,
                     then the amount of room left for linebreaking on the next line must be considered;
                     i.e., linebreaks that leave very little room to draw the next line
                     result in a higher penalty.</p>
               </li>
               
               <li>
                  <p>Whether <code class="attributevalue">linebreak</code> has been specified:
                     <code class="attributevalue">nobreak</code> effectively sets the penalty to infinity,
                     <code class="attributevalue">badbreak</code> increases the penalty
                     <code class="attributevalue">goodbreak</code> decreases the penalty,
                     and <code class="attributevalue">newline</code> effectively sets the penalty to 0.</p>
               </li>
               </ol>
            
            <p>This algorithm takes time proportional to the number of token elements times the number
               of lines.</p>
            </section>
         
         <section>
            <h5 id="presm_inline_lbalgorithm">Linebreaking Algorithm for Inline Expressions (Informative)</h5>
            
            
            <p>
               A common method for breaking inline expressions that are too long for the
               space remaining on the current line is to pick an appropriate break point
               for the expression and place the expression up to that point on the current line
               and place the remainder of the expression on the following line.
               This can be done by:
               </p>
            <ol>
               
               <li>
                  <p>Querying the text processing engine for the
                     minimum and maximum amount of space available on the current line. </p>
               </li>
               
               <li>
                  <p>Using a variation of the automatic linebreaking algorithm
                     given <a class="intref" href="#presm_lbalgorithm">above</a>),
                     and/or using hints provided by <a class="intref" href="#presm_lbattrs">linebreak attributes</a>
                     on <code class="element">mo</code> or <code class="element">mspace</code> elements, to choose a line break.
                     The goal is that the first part of the formula fits "comfortably" on the current line
                     while breaking at a point that results in keeping related
                     parts of an expression on the same line. </p>
               </li>
               
               <li>
                  <p>The remainder of the formula begins on the next line,
                     positioned both vertically and horizontally according
                     to the paragraph flow;
                     MathML's <a class="intref" href="#presm_lbindent_attrs">indentation attributes</a>
                     are ignored in this algorithm.</p>
               </li>
               
               <li>
                  <p>If the remainder does not fit on a line,
                     steps 1 - 3 are repeated for the second and subsequent lines.
                     Unlike the for the first line,
                     some part of the expression must be placed these lines so that the algorithm terminates.</p>
               </li>
               </ol>
            
            </section>
         
         </section>
      
      <section>
         <h4 id="presm_warnfinetuning">Warning about fine-tuning of presentation</h4>
         
         <p>Some use-cases require precise control of the math layout and presentation.  
            Several MathML elements and attributes expressly support such fine-tuning of the 
            rendering.  However, MathML rendering agents exhibit wide variability in their 
            presentation of the the same MathML expression due to difference in platforms, 
            font availability, and requirements particular to the agent itself
            (see <a href="#presm_intro"></a>).  
            The overuse of explicit rendering control may yield a &#x2018;perfect&#x2019; layout on one platform,
            but give much worse presentation on others.
            The following sections clarify the kinds of problems that can occur.</p>
         
         
         <section>
            <h5 id="presm_warntweaking">Warning: non-portability of <span>&#x201c;tweaking&#x201d;</span></h5>
            
            
            <p>For particular expressions, authors may be tempted to use the 
               <a class="intref" href="#presm_mpadded"><code class="element">mpadded</code></a>,
               <a class="intref" href="#presm_mspace"><code class="element">mspace</code></a>,
               <a class="intref" href="#presm_mphantom"><code class="element">mphantom</code></a>, and
               <a class="intref" href="#presm_mtext"><code class="element">mtext</code></a> elements to improve 
               (<span>&#x201c;tweak&#x201d;</span>) the spacing generated by a specific renderer.</p>
            
            
            <p>Without explicit spacing rules, various MathML renders may use different spacing 
               algorithms.  Consequently, different MathML renderers may position symbols in different
               
               locations relative to each other.  Say that renderer B, for example, provides improved
               
               spacing for a particular expression over renderer A.  Authors are strongly warned
               that 
               <span>&#x201c;tweaking&#x201d;</span> the layout for renderer A may produce very poor results in renderer B, 
               very likely worse than without any explicit adjustment at all.</p>
            
            
            <p>Even when a specific choice of renderer can be assumed, its spacing
               rules may be improved in successive versions, so that the effect of
               tweaking in a given MathML document may grow worse with time. Also,
               when style sheet mechanisms are extended to MathML, even one version
               of a renderer may use different spacing rules for users with different
               style sheets.</p>
            
            
            <p>Therefore, it is suggested that MathML markup never use
               <code class="element">mpadded</code> or <code class="element">mspace</code> elements
               to tweak the rendering of specific expressions, unless the MathML is
               generated solely to be viewed using one specific version of one MathML
               renderer, using one specific style sheet (if style sheets are
               available in that renderer).</p>
            
            
            <p>In cases where the temptation to improve spacing proves too strong,
               careful use of <code class="element">mpadded</code>,
               <code class="element">mphantom</code>, or the alignment elements (<a href="#presm_malign"></a>) may give more portable results than the
               direct insertion of extra space using <code class="element">mspace</code> or
               <code class="element">mtext</code>. Advice given to the implementers of MathML
               renderers might be still more productive, in the long run.</p>
            </section>
         
         
         <section>
            <h5 id="presm_warnspacing">Warning: spacing should not be used to convey meaning</h5>
            
            
            <p>MathML elements that permit <span>&#x201c;negative spacing&#x201d;</span>, namely
               <code class="element">mspace</code>, <code class="element">mpadded</code>, and
               <code class="element">mo</code>, could in theory be used to simulate new
               notations or <span>&#x201c;overstruck&#x201d;</span> characters by the visual overlap of the
               renderings of more than one MathML sub-expression.</p>
            
            
            <p>This practice is <em>strongly discouraged in all situations</em>,
               for the following reasons:
               </p>
            <ul>
               
               <li>
                  <p>it will give different results in different MathML renderers
                     (so the warning about <span>&#x201c;tweaking&#x201d;</span> applies)<span>, especially
                        if attempts are made to render glyphs outside the bounding box of
                        the MathML expression</span>;
                     </p>
                  </li>
               
               
               <li>
                  <p>it is likely to appear much worse than a more standard construct
                     supported by good renderers;</p>
                  </li>
               
               
               <li>
                  <p>such expressions are almost certain to be uninterpretable
                     by audio renderers, computer algebra systems,
                     text searches for standard symbols,
                     or other processors of MathML input.</p>
                  </li>
               
               </ul>
            
            
            <p>More generally, any construct that uses spacing to convey
               mathematical meaning, rather than simply as an aid to viewing
               expression structure, is discouraged. That is, the constructs that
               are discouraged are those that would be interpreted differently by a
               human viewer of rendered MathML if all explicit spacing was
               removed.</p>
            
            
            <p>Consider using the <a class="intref" href="#presm_mglyph"><code class="element">mglyph</code></a> element
               for cases such as this.  If such spacing constructs are used in spite of this warning,
               they should
               be enclosed in a <code class="element">semantics</code> element that also
               provides an additional MathML expression that can be interpreted in a
               standard way. See <a href="#mixing_semantic_annotations"></a> for further discussion.
               </p>
            
            
            
            <p>The above warning also applies to most uses of rendering
               attributes to alter the meaning conveyed by an expression, with the
               exception of attributes on <code class="element">mi</code> (such as <code class="attribute">mathvariant</code>)
               used to distinguish one variable from another.</p>
            </section>
         
         </section>
      
      
      <section>
         <h4 id="presm_summary">Summary of Presentation Elements</h4>
         
         
         <section>
            <h5>Token Elements</h5>
            
            <table border="1">
               
               <tbody>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_mi"><code class="element">mi</code></a></td> 
                     
                     <td>identifier</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_mn"><code class="element">mn</code></a></td> 
                     
                     <td>number</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_mo"><code class="element">mo</code></a></td> 
                     
                     <td>operator, fence, or  separator</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_mtext"><code class="element">mtext</code></a></td> 
                     
                     <td>text</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_mspace"><code class="element">mspace</code></a></td> 
                     
                     <td>space</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_ms"><code class="element">ms</code></a></td> 
                     
                     <td>string literal</td>
                     </tr>
                  </tbody>
               </table>
            
            <p>Additionally, the <a class="intref" href="#presm_mglyph"><code class="element">mglyph</code></a> element
               may be used within Token elements to represent non-standard symbols as images.</p>
            </section>
         
         
         <section>
            <h5>General Layout Schemata</h5>
            
            <table border="1">
               
               <tbody>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_mrow"><code class="element">mrow</code></a></td> 
                     
                     <td>group any number of sub-expressions horizontally</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_mfrac"><code class="element">mfrac</code></a></td> 
                     
                     <td>form a fraction from two sub-expressions</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_mroot"><code class="element">msqrt</code></a></td> 
                     
                     <td>form a square root (radical without an index)</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_mroot"><code class="element">mroot</code></a></td> 
                     
                     <td>form a radical with specified index</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_mstyle"><code class="element">mstyle</code></a></td> 
                     
                     <td>style change</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_merror"><code class="element">merror</code></a></td> 
                     
                     <td>enclose a syntax error message from a preprocessor</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_mpadded"><code class="element">mpadded</code></a></td> 
                     
                     <td>adjust space around content</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_mphantom"><code class="element">mphantom</code></a></td> 
                     
                     <td>make content invisible but preserve its size</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_mfenced"><code class="element">mfenced</code></a></td> 
                     
                     <td>surround content with a pair of fences</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_menclose"><code class="element">menclose</code></a></td> 
                     
                     <td>enclose content with a stretching symbol such as a long division sign.</td>
                     </tr>
                  </tbody>
               </table>
            </section>
         
         
         <section>
            <h5>Script and Limit Schemata</h5>
            
            <table border="1">
               
               <tbody>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_msub"><code class="element">msub</code></a></td> 
                     
                     <td>attach a subscript to a base</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_msup"><code class="element">msup</code></a></td> 
                     
                     <td>attach a superscript to a base</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_msubsup"><code class="element">msubsup</code></a></td> 
                     
                     <td>attach a subscript-superscript pair to a base</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_munder"><code class="element">munder</code></a></td> 
                     
                     <td>attach an underscript to a base</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_mover"><code class="element">mover</code></a></td> 
                     
                     <td>attach an overscript to a base</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_munderover"><code class="element">munderover</code></a></td> 
                     
                     <td>attach an underscript-overscript pair to a base</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_mmultiscripts"><code class="element">mmultiscripts</code></a></td> 
                     
                     <td>attach prescripts and tensor indices to a base</td>
                     </tr>
                  </tbody>
               </table>
            </section>
         
         
         <section>
            <h5>Tables and Matrices</h5>
            
            <table border="1">
               
               <tbody>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_mtable"><code class="element">mtable</code></a></td> 
                     
                     <td>table or matrix</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_mlabeledtr"><code class="element">mlabeledtr</code></a></td> 
                     
                     <td>row in a table or matrix with a label or equation number</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_mtr"><code class="element">mtr</code></a></td> 
                     
                     <td>row in a table or matrix</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_mtd"><code class="element">mtd</code></a></td> 
                     
                     <td>one entry in a table or matrix</td>
                     </tr>
                  
                  <tr>
                     
                     <td>
                        <a class="intref" href="#presm_malign"><code class="element">maligngroup</code></a> and
                        <a class="intref" href="#presm_malign"><code class="element">malignmark</code></a></td> 
                     
                     <td>alignment markers</td>
                     </tr>
                  </tbody>
               </table>
            </section>
         
         
         <section>
            <h5>Elementary Math Layout</h5>
            
            <table border="1">
               
               <tbody>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_mstack"><code class="element">mstack</code></a></td> 
                     
                     <td>columns of aligned characters</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_mlongdiv"><code class="element">mlongdiv</code></a></td> 
                     
                     <td>similar to msgroup, with the addition of a divisor and result</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_msgroup"><code class="element">msgroup</code></a></td> 
                     
                     <td>a group of rows in an mstack that are shifted by similar amounts</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_msrow"><code class="element">msrow</code></a></td> 
                     
                     <td>a row in an mstack</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_mscarries"><code class="element">mscarries</code></a></td> 
                     
                     <td>row in an mstack that whose contents represent carries or borrows</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_mscarry"><code class="element">mscarry</code></a></td> 
                     
                     <td>one entry in an mscarries</td>
                     </tr>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_msline"><code class="element">msline</code></a></td> 
                     
                     <td>horizontal line inside of <code class="element">mstack</code></td>
                     </tr>
                  </tbody>
               </table>
            </section>
         
         
         <section>
            <h5>Enlivening Expressions</h5>
            
            <table border="1">
               
               <tbody>
                  
                  <tr>
                     
                     <td><a class="intref" href="#presm_maction"><code class="element">maction</code></a></td> 
                     
                     <td>bind actions to a sub-expression</td>
                     </tr>
                  </tbody>
               </table>
            </section>
         </section>
      
      
      <section>
         <h4 id="presm_presatt">Mathematics style attributes common to presentation elements</h4> 
         
         
         <p>In addition to the attributes listed in <a href="#fund_globatt"></a>,
            all MathML presentation elements accept the following two attributes:
            
            
            <table border="1" class="attributes">
               
               <thead>
                  
                  <tr>
                     
                     <td>Name</td>
                     
                     <td>values</td>
                     
                     <td>default</td>
                     
                     <td>Core</td>
                     </tr>
                  </thead>
               
               <tbody>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">mathcolor</td>
                     
                     <td><a class="intref" href="#type_color"><em>color</em></a></td>
                     
                     <td><em>inherited</em></td>
                     
                     <td><a class="coreyes" href="../mathml-core/#mathmltree.p4">core&#x2714;</a></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies the foreground color to use when drawing the components of this element,
                        such as the content for token elements or any lines, surds, or other decorations.
                        It also establishes the default <code class="attribute">mathcolor</code> used for child elements
                        when used on a layout element.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">mathbackground</td>
                     
                     <td><a class="intref" href="#type_color"><em>color</em></a> | "transparent"</td>
                     
                     <td>transparent</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies the background color to be used to fill in the bounding box
                        of the element and its children. The default, "transparent", lets the
                        background color, if any, used in the current rendering context to show through.
                        </td>
                     </tr>
                  </tbody>
               </table>
            </p>
         
         
         <p>These style attributes are primarily intended for visual media.
            They are not expected to affect the intended semantics of displayed
            expressions, but are for use in highlighting or drawing attention
            to the affected subexpressions.  For example, a red "x" is not assumed
            to be semantically different than a black "x", in contrast to
            variables with different <code class="attribute">mathvariant</code> (See <a href="#presm_commatt"></a>).</p>
         
         
         <p>Since MathML expressions are often embedded in a textual data
            format such as <span>HTML</span>,
            the MathML renderer should inherit the
            foreground color used in the context in which the MathML appears.
            Note, however, that MathML  doesn't specify the mechanism by which
            style information is inherited from the rendering environment.
            <span>See <a href="#presm_commatt"></a> for more details.</span>
            </p>
         
         
         <p>Note that the suggested MathML visual rendering rules do not define the
            precise extent of the region whose background is affected by the
            <code class="attribute">mathbackground</code> attribute,
            except that, when the content does not have
            negative dimensions and its drawing region is not overlapped by other
            drawing due to surrounding negative spacing, this region should lie
            behind all the drawing done to render the content, but should not lie behind any of
            the
            drawing done to render surrounding expressions. The effect of overlap
            of drawing regions caused by negative spacing on the extent of the
            region affected by the <code class="attribute">mathbackground</code> attribute is not
            defined by these rules.</p>
         </section>
      
      </section>
   
   
   <section>
      <h3 id="presm_tokel">Token Elements</h3>
      
      
      <p>Token elements in presentation markup are broadly intended to
         represent the smallest units of mathematical notation which carry
         meaning.  Tokens are roughly analogous to words in text.  However,
         because of the precise, symbolic nature of mathematical notation, the
         various categories and properties of token elements figure prominently in
         MathML markup.  By contrast, in textual data, individual words rarely
         need to be marked up or styled specially.</p>
      
      
      <p>Frequently, tokens consist of a single character denoting a
         mathematical symbol.  Other cases, e.g. function names, involve
         multi-character tokens.  Further, because traditional mathematical
         notation makes wide use of symbols distinguished by their
         typographical properties (e.g. a Fraktur 'g' for a Lie algebra, or a
         bold 'x' for a vector), care must be taken to insure that styling
         mechanisms respect typographical properties which carry meaning.
         Consequently, characters, tokens, and typographical properties of
         symbols are closely related to one another in MathML.
         </p>
      
      <p>Token elements represent
         identifiers (<a class="intref" href="#presm_mi"><code class="element">mi</code></a>),
         numbers (<a class="intref" href="#presm_mn"><code class="element">mn</code></a>),
         operators (<a class="intref" href="#presm_mo"><code class="element">mo</code></a>),
         text (<a class="intref" href="#presm_mtext"><code class="element">mtext</code></a>),
         strings (<a class="intref" href="#presm_ms"><code class="element">ms</code></a>)
         and spacing (<a class="intref" href="#presm_mspace"><code class="element">mspace</code></a>).
         The <a class="intref" href="#presm_mglyph"><code class="element">mglyph</code></a> element
         may be used <em>within</em> token elements
         to represent non-standard symbols by images.
         Preceding detailed discussion of the individual elements,
         the next two subsections discuss the allowable content of
         token elements and the attributes common to them.
         </p>
      
      
      <section>
         <h4 id="presm_tokenchars">
            <span>Token Element Content Characters, <code class="emptytag">&lt;mglyph/&gt;</code></span></h4>
         
         
         
         <p>Character data in MathML markup is only allowed to occur as part of
            the content of token elements.  Whitespace between elements is ignored.
            With the exception of the empty <a class="intref" href="#presm_mspace"><code class="element">mspace</code></a> element,
            token elements can contain any sequence of zero or more Unicode characters,
            or <a class="intref" href="#presm_mglyph"><code class="element">mglyph</code></a> or 
            <code class="element">malignmark</code> elements.
            The <a class="intref" href="#presm_mglyph"><code class="element">mglyph</code></a> element is used
            to represent non-standard characters or symbols by images;
            the <code class="element">malignmark</code> element establishes an alignment point for use within
            table constructs, and is otherwise invisible (See <a href="#presm_malign"></a>).</p>
         
         
         <p><span>Characters</span>
            can be either represented directly as Unicode character data, or indirectly via numeric
            or
            character entity references.  See <a href="#chars"></a> for a
            discussion of the advantages and disadvantages of numeric 
            character references versus
            entity references, and [[Entities]] for a full list of the entity names available.
            Also, see <a href="#chars_anomalous"></a> for a discussion of the
            appropriate character content to choose for certain applications.</p>
         
         
         <p>Token elements (other than <code class="element">mspace</code>) should
            be rendered as their content, if any, (i.e. in the visual case, as a
            closely-spaced horizontal row of standard glyphs for the characters
            or images for the <code class="element">mglyph</code>s in their content).
            An <code class="element">mspace</code> element is rendered as a blank space of a width determined by its attributes.
            Rendering algorithms should also take into account the
            mathematics style attributes as described below, and modify surrounding
            spacing by rules or attributes specific to each type of token
            element.  The directional characteristics of the content must
            also be respected (see <a href="#presm_bidi_token"></a>).
            </p>
         
         
         <section>
            <h5 id="presm_symbolchars">Alphanumeric symbol characters</h5> 
            
            
            <p>A large class of mathematical symbols are single letter identifiers
               typically used as variable names in formulas.  Different font variants
               of a letter are treated as separate symbols.  For example, a Fraktur
               'g' might denote a Lie algebra, while a Roman 'g' denotes the
               corresponding Lie group.  These letter-like symbols are traditionally
               typeset differently than the same characters appearing in text, using
               different spacing and ligature conventions.  These characters must
               also be treated specially by style mechanisms, since arbitrary style
               transformations can change meaning in an expression.</p>
            
            
            <p>For these reasons, <span>Unicode contains</span>
               more than nine hundred Math Alphanumeric Symbol characters
               corresponding to letter-like symbols.  These characters are in the
               Secondary Multilingual Plane (SMP).  See [[Entities]] for
               more information.  As valid Unicode data, these characters are
               permitted in MathML <span>and,</span> as tools and fonts for them become widely
               available, we anticipate they will be the predominant way of denoting
               letter-like symbols.</p>
            
            
            <p><span>MathML also provides an alternative encoding
                  for these characters</span> using only Basic Multilingual Plane
               (BMP) characters together with markup.  MathML defines a
               correspondence between token elements with certain combinations of BMP
               character data and the <code class="attribute">mathvariant</code> attribute and tokens
               containing SMP Math Alphanumeric Symbol characters.  Processing
               applications that accept SMP characters are required to treat the
               corresponding BMP and attribute combinations identically.  <span>This is particularly important for applications that
                  support searching and/or equality testing.</span></p>
            
            
            <p>The <code class="attribute">mathvariant</code> attribute is described in more detail in
               <a href="#presm_commatt"></a>,
               and a complete technical description of the corresponding characters is given in
               <a href="#chars_BMP-SMP"></a>.</p>
            
            </section>
         
         
         <section>
            <h5 id="presm_mglyph"><span>Using images to represent
                  symbols</span> <code class="defn emptytag">&lt;mglyph/&gt;</code> <span class="coreno">core&#x2716;</span></h5>
            
            
            <section>
               <h6>Description</h6>
               
               
               <p>The <code class="element">mglyph</code> element provides a mechanism
                  for displaying images to represent non-standard symbols.
                  It may be used within the content of the token elements
                  <code class="element">mi</code>, <code class="element">mn</code>, <code class="element">mo</code>, <code class="element">mtext</code> or <code class="element">ms</code>
                  where existing Unicode characters are not adequate.</p>
               
               
               <p>Unicode defines a large number of characters used in mathematics
                  <span>and,</span> in most cases, glyphs representing these characters are widely
                  available in a variety of fonts.  Although these characters should
                  meet almost all users needs, MathML recognizes that mathematics is not
                  static and that new characters and symbols are added when convenient.  Characters
                  that become well accepted will likely be eventually incorporated by
                  the Unicode Consortium or other standards bodies, but that is often a
                  lengthy process.</p>
               
               
               <p>Note that the glyph's <code class="attribute">src</code> attribute uniquely identifies the <code class="element">mglyph</code>;
                  two <code class="element">mglyph</code>s with the same values for <code class="attribute">src</code> should
                  be considered identical by applications that must determine whether
                  two characters/glyphs are identical.</p>
               
               </section>
            
            
            <section>
               <h6>Attributes</h6>
               
               <p>The <code class="element">mglyph</code> element accepts the attributes listed in
                  <a href="#presm_presatt"></a>, but note that <code class="attribute">mathcolor</code> has no effect.
                  The background color, <code class="attribute">mathbackground</code>, should show through
                  if the specified image has transparency.
                  </p>
               
               
               <p>
                  <code class="element">mglyph</code> also accepts the additional attributes listed here.</p>
               
               <table border="1" class="attributes">
                  
                  <thead>
                     
                     <tr>
                        
                        <td>Name</td>
                        
                        <td>values</td>
                        
                        <td>default</td>
                        
                        <td>Core</td>
                        </tr>
                     </thead>
                  
                  <tbody>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">src</td>
                        
                        <td><a class="intref" href="#type_uri"><em>URI</em></a></td>
                        
                        <td><em>required</em></td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies the location of the image resource;
                           it may be a URI relative to the base-URI of the source of the MathML, if any.
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">width</td>
                        
                        <td><a class="intref" href="#type_length"><em>length</em></a></td>
                        
                        <td><em>from image</em></td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies the desired width of the glyph; see <code class="attribute">height</code>.
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">height</td>
                        
                        <td><a class="intref" href="#type_length"><em>length</em></a></td>
                        
                        <td><em>from image</em></td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies the desired height of the glyph.
                           If only one of <code class="attribute">width</code> and <code class="attribute">height</code> are given,
                           the image should be scaled to preserve the aspect ratio;
                           if neither are given, the image should be displayed at its natural size.
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">valign</td>
                        
                        <td><a class="intref" href="#type_length"><em>length</em></a> </td>
                        
                        <td>0ex</td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies the baseline alignment point of the image with respect to the current baseline.
                           A positive value shifts the bottom of the image above the current baseline
                           while a negative value lowers it.
                           A value of 0 (the default) means that the baseline of the image is at the bottom of
                           the image.
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">alt</td>
                        
                        <td><a class="intref" href="#type_string"><em>string</em></a></td>
                        
                        <td><em>required</em></td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Provides an alternate name for the glyph.  If the specified image can't be found or
                           displayed,
                           the renderer may use this name in a warning message or some unknown glyph notation.
                           The name might also be used by an audio renderer or symbol processing
                           system and should be chosen to be descriptive.
                           </td>
                        </tr>
                     </tbody>
                  </table>
               
               <p>Note that the <code class="attribute">src</code> and <code class="attribute">alt</code> attributes are <em>required</em> for correct usage in MathML 3, however this is not enforced by the schema due to
                  the <a class="intref" href="#presm_mglyph_deprecated">deprecated usage described below</a>.</p>
               
               </section>
            
            
            <section>
               <h6>Example</h6>
               
               
               <p>The following example illustrates how a researcher might use
                  the <code class="element">mglyph</code> construct with a set of images to work
                  with braid group notation.
                  
                  <div class="example mathml-fragment">
                     <pre>
&lt;mrow&gt;
  &lt;mi&gt;&lt;mglyph src="my-braid-23" alt="2 3 braid"/&gt;&lt;/mi&gt;
  &lt;mo&gt;+&lt;/mo&gt;
  &lt;mi&gt;&lt;mglyph src="my-braid-132" alt="1 3 2 braid"/&gt;&lt;/mi&gt;
  &lt;mo&gt;=&lt;/mo&gt;
  &lt;mi&gt;&lt;mglyph src="my-braid-13" alt="1 3 braid"/&gt;&lt;/mi&gt;
&lt;/mrow&gt;
</pre>
                  </div>
                  This might render as:
                  </p>
               <blockquote>
                  <p><img src="image/f3006.gif" alt="\includegraphics{image/braids}"></img></p>
               </blockquote>
               
               </section>
            
            <section>
               <h6 id="presm_mglyph_deprecated">Deprecated Attributes</h6>
               
               <p>Originally, <code class="element">mglyph</code> was designed to provide access to non-standard
                  fonts. Since this functionality was seldom implemented, nor were downloadable
                  web fonts widely available, this use of <code class="element">mglyph</code> has been deprecated.
                  For reference, the following attributes were previously defined:
                  
                  <table border="1" class="attributes">
                     
                     <thead>
                        
                        <tr>
                           
                           <td>Name</td>
                           
                           <td>values</td>
                           
                           <td>Core</td>
                           </tr>
                        </thead>
                     
                     <tbody>
                        
                        <tr>
                           
                           <td rowspan="2" class="attname">fontfamily</td>
                           
                           <td><a class="intref" href="#type_string"><em>string</em></a></td>
                           
                           <td><span class="coreno">core&#x2716;</span></td>
                           </tr>
                        
                        <tr>
                           
                           <td colspan="2" class="attdesc">
                              the name of a font that may be available to a MathML renderer,
                              or a CSS font specification; See  <a href="#world-int-style"></a>
                              and CSS [[CSS21]] for more information.
                              </td>
                           </tr>
                        
                        <tr>
                           
                           <td rowspan="2" class="attname">index</td>
                           
                           <td><a class="intref" href="#type_integer"><em>integer</em></a></td>
                           
                           <td><span class="coreno">core&#x2716;</span></td>
                           </tr>
                        
                        <tr>
                           
                           <td colspan="2" class="attdesc">
                              Specified a position of the desired glyph within the font named
                              by the <code class="attribute">fontfamily</code> attribute (see <a href="#presm_deprecatt"></a>).
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  In MathML 1 and 2, both were required attributes; they are now optional
                  and should be ignored unless the <code class="attribute">src</code> attribute is missing.
                  </p>
               
               <p>Additionally, in MathML 2, <code class="element">mglyph</code> accepted the attributes described in
                  <a href="#presm_commatt"></a>
                  (<code class="attribute">mathvariant</code> and <code class="attribute">mathsize</code>, along with the attributes deprecated there);
                  to make clear that <code class="element">mglyph</code> is <em>not</em> a token element, and since
                  these attributes have no effect in any case, these attributes have been deprecated.
                  </p>
               </section>
            </section>
         
         
         </section>
      
      
      <section>
         <h4 id="presm_commatt">Mathematics style attributes common to token elements</h4> 
         
         
         <p>In addition to the attributes defined for all presentation elements
            (<a href="#presm_presatt"></a>), MathML includes two  <em>mathematics style</em> attributes
            as well as a directionality attribute
            valid on all presentation token elements,
            <span>as well as the <code class="element">math</code> and <code class="element">mstyle</code> elements;
               <code class="attribute">dir</code> is also valid on <code class="element">mrow</code> elements.</span>
            The attributes are:
            
            
            <table border="1" class="attributes">
               
               <thead>
                  
                  <tr>
                     
                     <td>Name</td>
                     
                     <td>values</td>
                     
                     <td>default</td>
                     
                     <td>Core</td>
                     </tr>
                  </thead>
               
               <tbody>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">mathvariant</td>
                     
                     <td>
                        "normal" | "bold" | "italic" | "bold-italic" | "double-struck" |
                        "bold-fraktur" | "script" | "bold-script" |
                        "fraktur" | "sans-serif" | "bold-sans-serif" | "sans-serif-italic" |
                        "sans-serif-bold-italic" | "monospace" |
                        "initial" | "tailed" | "looped" | "stretched"
                        </td>
                     
                     <td>normal (<em>except on</em> <code class="starttag">&lt;mi&gt;</code>)</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies the logical class of the token. Note that this class
                        is more than styling, it typically conveys semantic intent; see the discussion below.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">mathsize</td>
                     
                     <td>"small" | "normal" | "big" | <a class="intref" href="#type_length"><em>length</em></a></td>
                     
                     <td><em>inherited</em></td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies the size to display the token content.
                        The values <code class="attributevalue">small</code> and <code class="attributevalue">big</code> choose a size
                        smaller or larger than the current font size, but leave the exact proportions
                        unspecified; <code class="attributevalue">normal</code> is allowed for completeness, but since
                        it is equivalent to <code class="attributevalue">100%</code> or <code class="attributevalue">1em</code>, it has no effect.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">dir</td>
                     
                     <td>"ltr" | "rtl"</td>
                     
                     <td><em>inherited</em></td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies the initial directionality for text within the token:
                        <code>ltr</code> (Left To Right) or <code>rtl</code> (Right To Left).
                        This attribute should only be needed in rare cases involving weak or neutral characters;
                        see <a href="#presm_bidi_math"></a> for further discussion.
                        <span>It has no effect on <code class="element">mspace</code>.</span>
                        </td>
                     </tr>
                  </tbody>
               </table>
            </p>
         
         
         <p>The <code class="attribute">mathvariant</code> attribute defines logical classes of token
            elements.  Each class provides a collection of typographically-related
            symbolic tokens.  Each token has a specific meaning within a given
            mathematical expression and, therefore, needs to be visually
            distinguished and protected from inadvertent document-wide style
            changes which might change its meaning.  Each token is identified
            by the combination of the <code class="attribute">mathvariant</code> attribute value
            and the character data in the token element.</p>
         
         
         <p>When MathML rendering takes place in an environment where CSS is
            available, the mathematics style attributes can be viewed as
            predefined selectors for CSS style rules.
            See <a href="#world-int-style"></a> for discussion of the
            interaction of MathML and CSS.
            Also, see [[MathMLforCSS]] for discussion of rendering MathML by CSS
            and a sample CSS style sheet.
            When CSS is not available, it is up to the internal style mechanism of the rendering
            application
            to visually distinguish the different logical classes.
            Most MathML renderers will probably want to rely on some degree to additional,
            internal style processing algorithms.
            In particular, the <code class="attribute">mathvariant</code> attribute does not follow the CSS inheritance model;
            the default value is <code class="attributevalue">normal</code> (non-slanted)
            for all tokens except for <code class="element">mi</code> with single-character content.
            See <a href="#presm_mi"></a> for details.</p>
         
         
         <p><span>Renderers</span> have complete freedom in
            mapping mathematics style attributes to specific rendering properties.
            However, in practice, the mathematics style attribute names and values
            suggest obvious typographical properties, and renderers should attempt
            to respect these natural interpretations as far as possible.  For
            example, it is reasonable to render a token with the
            <code class="attribute">mathvariant</code> attribute set to <code class="attributevalue">sans-serif</code> in
            Helvetica or Arial.  However, rendering the token in a Times Roman
            font could be seriously misleading and should be avoided. </p>
         
         
         <p>In principle, any <code class="attribute">mathvariant</code> value may be used with any
            character data to define a specific symbolic token.  In practice,
            only certain combinations of character data and <code class="attribute">mathvariant</code>
            values will be visually distinguished by a given renderer.  For example,
            there is no clear-cut rendering for a "fraktur alpha" or a "bold italic
            Kanji" character, and the <code class="attribute">mathvariant</code> values "initial",
            "tailed", "looped", and "stretched" are appropriate only for Arabic
            characters.</p>
         
         
         <p>Certain combinations of character data and <code class="attribute">mathvariant</code>
            values are equivalent to assigned Unicode code points that encode
            mathematical alphanumeric symbols.  These Unicode code points are
            the ones in the
            <a href="http://www.unicode.org/charts/PDF/U1EE00.pdf">Arabic Mathematical Alphabetic Symbols</a> block U+1EE00 to U+1EEFF,
            <a href="http://www.unicode.org/charts/PDF/U1D400.pdf">Mathematical Alphanumeric Symbols</a> block U+1D400 to U+1D7FF,
            listed in the Unicode standard, and the ones in the
            <a href="http://www.unicode.org/charts/PDF/U2100.pdf">Letterlike
               Symbols</a> range U+2100 to U+214F that represent "holes" in the
            alphabets in the SMP, listed in <a href="#chars_BMP-SMP"></a>.
            These characters are described in detail in section 2.2 of
            <a href="http://www.unicode.org/reports/tr25/">UTR #25</a>.
            The description of each such character in the Unicode standard
            provides an unstyled character to which it would be equivalent
            except for a font change that corresponds to a <code class="attribute">mathvariant</code>
            value.  A token element that uses the unstyled character in combination
            with the corresponding <code class="attribute">mathvariant</code> value is equivalent to a
            token element that uses the mathematical alphanumeric symbol character
            without the <code class="attribute">mathvariant</code> attribute.  Note that the appearance
            of a mathematical alphanumeric symbol character should not be altered
            by surrounding <code class="attribute">mathvariant</code> or other style declarations.</p>
         
         
         <p>Renderers should support those combinations of character data and
            <code class="attribute">mathvariant</code> values that correspond to Unicode characters,
            and that they can visually distinguish using available font characters.
            Renderers may ignore or support those combinations of character data
            and <code class="attribute">mathvariant</code> values that do not correspond to an assigned
            Unicode code point, and authors should recognize that support for
            mathematical symbols that do not correspond to assigned Unicode code
            points may vary widely from one renderer to another.</p>
         
         
         <p>Since MathML expressions are often embedded in a textual data
            format such as XHTML, the surrounding text and the MathML must share
            rendering attributes such as font size, so that the renderings will be
            compatible in style. For this reason, most attribute values affecting
            text rendering are inherited from the rendering environment, as shown
            in the <span>&#x201c;default&#x201d;</span> column in the table above. (In
            cases where the surrounding text and the MathML are being rendered by
            separate software, e.g. a browser and a plug-in, it is also important
            for the rendering environment to provide the MathML renderer with
            additional information, such as the baseline position of surrounding
            text, which is not specified by any MathML attributes.)
            Note, however, that MathML  doesn't specify the mechanism by which
            style information is inherited from the rendering environment.
            
            </p>
         
         
         <p>If the requested <code class="attribute">mathsize</code> of the current font is not available, the
            renderer should approximate it in the manner likely to lead to the
            most intelligible, highest quality rendering.
            Note that many MathML elements automatically change the font size
            in some of their children; see the discussion in <a href="#presm_scriptlevel"></a>.</p>
         
         
         <section>
            <h5 id="presm_deprecatt">Deprecated style attributes on token elements <span class="coreno">core&#x2716;</span></h5> 
            
            
            <p>The MathML 1.01 style attributes listed below
               are <a class="intref" href="#interf_deprec">deprecated</a> in MathML 2 and 3.  
               These attributes were aligned to CSS <span>but,</span> in rendering environments that support CSS,
               it is preferable to use CSS directly to control the rendering properties
               corresponding to these attributes, rather than the attributes themselves.
               However as explained above, direct manipulation of these
               rendering properties by whatever means should usually be avoided.
               As a general rule, whenever there is a conflict between these
               deprecated attributes and the corresponding attributes (<a href="#presm_commatt"></a>),
               the former attributes should be ignored.</p>
            
            
            <p>The deprecated attributes are:
               
               
               <table border="1" class="attributes">
                  
                  <thead>
                     
                     <tr>
                        
                        <td>Name</td>
                        
                        <td>values</td>
                        
                        <td>default</td>
                        
                        <td>Core</td>
                        </tr>
                     </thead>
                  
                  <tbody>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">fontfamily</td>
                        
                        <td><a class="intref" href="#type_string"><em>string</em></a></td>
                        
                        <td><em>inherited</em></td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Should be the name of a font that may be available to a MathML renderer,
                           or a CSS font specification; See  <a href="#world-int-style"></a>
                           and CSS [[CSS21]] for more information.
                           Deprecated in favor of <code class="attribute">mathvariant</code>.
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">fontweight</td>
                        
                        <td>"normal" | "bold"</td>
                        
                        <td><em>inherited</em></td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specified the font weight for the token.
                           Deprecated in favor of <code class="attribute">mathvariant</code>.
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">fontstyle</td>
                        
                        <td>"normal" | "italic"</td>
                        
                        <td>normal (<em>except on</em> <code class="starttag">&lt;mi&gt;</code>)</td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specified the font style to use for the token.
                           Deprecated in favor of <code class="attribute">mathvariant</code>.
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">fontsize</td>
                        
                        <td><a class="intref" href="#type_length"><em>length</em></a></td>
                        
                        <td><em>inherited</em></td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specified the size for the token.
                           Deprecated in favor of <code class="attribute">mathsize</code>.
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">color</td>
                        
                        <td><a class="intref" href="#type_color"><em>color</em></a></td>
                        
                        <td><em>inherited</em></td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specified the color for the token.
                           Deprecated in favor of <code class="attribute">mathcolor</code>.
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">background</td>
                        
                        <td><a class="intref" href="#type_color"><em>color</em></a> | "transparent"</td>
                        
                        <td>transparent</td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specified the background color to be used to fill in the bounding box
                           of the element and its children. Deprecated in favor of <code class="attribute">mathbackground</code>.
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </p>
            </section>
         
         
         <section>
            <h5 id="presm_html_insertion">Embedding HTML in MathML</h5>
            
            <p>MathML can be combined with other formats as described in
               <a href="#world-int-combine-other"></a>.
               The recommendation is to embed other formats in MathML by extending the MathML
               schema to allow additional elements to be children of the <code class="element">mtext</code> element or
               other leaf elements as appropriate to the role they serve in the expression
               (see  <a href="#presm_mixtextmath"></a>).
               The directionality, font size, and other font attributes should inherit from
               those that would be used for characters of the containing leaf element
               (see <a href="#presm_commatt"></a>).
               </p>
            
            <p>Here is an example of embedding SVG inside of mtext in an HTML context:</p>
            
            <div class="example mathml">
               <pre>
&lt;mtable&gt;
  &lt;mtr&gt;
    &lt;mtd&gt;
      &lt;mtext&gt;&lt;input type="text" placeholder="what shape is this?"/&gt;&lt;/mtext&gt;
    &lt;/mtd&gt;
  &lt;/mtr&gt;
  &lt;mtr&gt;
    &lt;mtd&gt;
      &lt;mtext&gt;
        &lt;svg xmlns="http://www.w3.org/2000/svg"
             width="4cm" height="4cm" viewBox="0 0 400 400"&gt;
          &lt;rect x="1" y="1" width="398" height="398"
                style="fill:none; stroke:blue"/&gt;
          &lt;path d="M 100 100 L 300 100 L 200 300 z"
                style="fill:red; stroke:blue; stroke-width:3"/&gt;
        &lt;/svg&gt;
      &lt;/mtext&gt;
    &lt;/mtd&gt;
  &lt;/mtr&gt;
&lt;/mtable&gt;
</pre>
            </div>
            </section>
         </section>
      
      
      <section>
         <h4 id="presm_mi">Identifier <code class="defn starttag">&lt;mi&gt;</code> <a class="coreyes" href="../mathml-core/#mi">core&#x2714;</a></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p>An <code class="element">mi</code> element represents a symbolic name or
               arbitrary text that should be rendered as an identifier. Identifiers
               can include variables, function names, and symbolic constants.
               A typical graphical renderer would render an <code class="element">mi</code> element
               as its content (See <a href="#presm_tokenchars"></a>),
               with no extra spacing around it (except spacing associated with
               neighboring elements).</p>
            
            
            <p>Not all <span>&#x201c;mathematical identifiers&#x201d;</span> are represented by
               <code class="element">mi</code> elements &#x2014; for example, subscripted or primed
               variables should be represented using <code class="element">msub</code> or
               <code class="element">msup</code> respectively. Conversely, arbitrary text
               playing the role of a <span>&#x201c;term&#x201d;</span> (such as an ellipsis in a summed series)
               can be represented using an <code class="element">mi</code> element, as shown
               in an example in <a href="#presm_mixtextmath"></a>.</p>
            
            
            <p>It should be stressed that <code class="element">mi</code> is a
               presentation element, and as such, it only indicates that its content
               should be rendered as an identifier. In the majority of cases, the
               contents of an <code class="element">mi</code> will actually represent a
               mathematical identifier such as a variable or function name. However,
               as the preceding paragraph indicates, the correspondence between
               notations that should render as identifiers and notations that are
               actually intended to represent mathematical identifiers is not
               perfect. For an element whose semantics is guaranteed to be that of an
               identifier, see the description of <code class="element">ci</code> in 
               <a href="#contm"></a>.</p>
            </section>
         
         
         <section>
            <h5>Attributes</h5>
            
            <p><code class="element">mi</code> elements accept the attributes listed in
               <a href="#presm_commatt"></a>, but in one case with a different default value:
               
               <table border="1" class="attributes">
                  
                  <thead>
                     
                     <tr>
                        
                        <td>Name</td>
                        
                        <td>values</td>
                        
                        <td>default</td>
                        
                        <td>Core</td>
                        </tr>
                     </thead>
                  
                  <tbody>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">mathvariant</td>
                        
                        <td>"normal" | "bold" | "italic" | "bold-italic" | "double-struck" |
                           "bold-fraktur" | "script" | "bold-script" |
                           "fraktur" | "sans-serif" | "bold-sans-serif" | "sans-serif-italic" |
                           "sans-serif-bold-italic" | "monospace" |
                           "initial" | "tailed" | "looped" | "stretched"
                           </td>
                        
                        <td><em>(depends on content; described below)</em></td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           
                           Specifies the logical class of the token.
                           The default is <code class="attributevalue">normal</code> (non-slanted) unless the content
                           is a single character, in which case it would be <code class="attributevalue">italic</code>.
                           </td>
                        </tr>
                     
                     </tbody>
                  </table>
               </p>
            
            
            <p>Note that the deprecated <code class="attribute">fontstyle</code> attribute
               defaults in the same way as <code class="attribute">mathvariant</code>, depending on the content.</p> 
            
            
            <p>Note that for purposes of determining equivalences of Math
               Alphanumeric Symbol
               characters (See <a href="#chars_BMP-SMP"></a> and <a href="#presm_symbolchars"></a>)
               the value of the <code class="attribute">mathvariant</code> attribute should be resolved first,
               including the special defaulting behavior described above.
               </p>
            </section>
         
         
         <section>
            <h5 id="presm_mi_examples">Examples</h5>
            
            <div class="example mathml">
               <pre>&lt;mi&gt;x&lt;/mi&gt;</pre>
            </div>
            
            <div class="example mathml">
               <pre>&lt;mi&gt;D&lt;/mi&gt;</pre>
            </div>
            
            <div class="example mathml">
               <pre>&lt;mi&gt;sin&lt;/mi&gt;</pre>
            </div>
            
            <div class="example mathml">
               <pre>&lt;mi mathvariant='script'&gt;L&lt;/mi&gt;</pre>
            </div>
            
            <div class="example mathml">
               <pre>&lt;mi&gt;&lt;/mi&gt;</pre>
            </div>
            
            
            
            <p>An <code class="element">mi</code> element with no content is allowed;
               <code>&lt;mi&gt;&lt;/mi&gt;</code> might, for example, be used by an
               <span>&#x201c;expression editor&#x201d;</span> to represent a location in a MathML expression
               which requires a <span>&#x201c;term&#x201d;</span> (according to conventional syntax for
               mathematics) but does not yet contain one.</p>
            
            
            <p>Identifiers include function names such as
               <span>&#x201c;sin&#x201d;</span>. Expressions such as <span>&#x201c;sin <i class="var">x</i>&#x201d;</span>
               should be written using the character U+2061 
               (which also has the entity names <code class="entity">af</code> and <code class="entity">ApplyFunction</code>) as shown below;
               see also the discussion of invisible operators in <a href="#presm_mo"></a>.
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
  &lt;mi&gt; sin &lt;/mi&gt;
  &lt;mo&gt; &amp;ApplyFunction; &lt;/mo&gt;
  &lt;mi&gt; x &lt;/mi&gt;
&lt;/mrow&gt;
</pre>
               </div>
               </p>
            
            
            <p>Miscellaneous text that should be treated as a <span>&#x201c;term&#x201d;</span> can also be
               represented by an <code class="element">mi</code> element, as in:
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
  &lt;mn&gt; 1 &lt;/mn&gt;
  &lt;mo&gt; + &lt;/mo&gt;
  &lt;mi&gt; &amp;hellip; &lt;/mi&gt;
  &lt;mo&gt; + &lt;/mo&gt;
  &lt;mi&gt; n &lt;/mi&gt;
&lt;/mrow&gt;
</pre>
               </div>
               </p>
            
            
            <p>When an <code class="element">mi</code> is used in such exceptional
               situations, explicitly setting the <code class="attribute">mathvariant</code> attribute
               may give better results than the default behavior of some
               renderers.</p>
            
            
            <p>The names of symbolic constants should be represented as
               <code class="element">mi</code> elements:
               
               <div class="example mathml">
                  <pre>
&lt;mi&gt; &amp;pi; &lt;/mi&gt;
&lt;mi&gt; &amp;ImaginaryI; &lt;/mi&gt;
&lt;mi&gt; &amp;ExponentialE; &lt;/mi&gt;
</pre>
               </div>
               </p>
            
            </section>
         </section>
      
      
      <section>
         <h4 id="presm_mn">Number <code class="defn starttag">&lt;mn&gt;</code> <a class="coreyes" href="../mathml-core/#mn">core&#x2714;</a></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p>An <code class="element">mn</code> element represents a <span>&#x201c;numeric
                  literal&#x201d;</span> or other data that should be rendered as a numeric
               literal. Generally speaking, a numeric literal is a sequence of digits,
               perhaps including a decimal point, representing an unsigned integer or real
               number.
               A typical graphical renderer would render an <code class="element">mn</code> element as
               its content (See <a href="#presm_tokenchars"></a>), with no extra spacing around them
               (except spacing from neighboring elements such as <code class="element">mo</code>).
               <code class="element">mn</code> elements are typically rendered in an unslanted font.
               </p>
            
            
            <p>The mathematical concept of a <span>&#x201c;number&#x201d;</span> can be quite 
               subtle and involved, depending on the context. As a consequence, not all
               mathematical numbers should be represented using <code class="element">mn</code>; examples of mathematical numbers that should be
               represented differently are shown below, and include 
               complex numbers, ratios of numbers shown as fractions, and names of numeric
               constants.</p>
            
            
            <p>Conversely, since <code class="element">mn</code> is a presentation
               element, there are a few situations where it may <span>be</span> desirable to include
               arbitrary text in the content of an <code class="element">mn</code> that
               should merely render as a numeric literal, even though that content
               may not be unambiguously interpretable as a number according to any
               particular standard encoding of numbers as character sequences. As a
               general rule, however, the <code class="element">mn</code> element should be
               reserved for situations where its content is actually intended to
               represent a numeric quantity in some fashion.  For an element whose
               semantics are guaranteed to be that of a particular kind of
               mathematical number, see the description of <code class="element">cn</code> in
               <a href="#contm"></a>.</p>
            </section>
         
         
         <section>
            <h5>Attributes</h5>
            
            
            <p><code class="element">mn</code> elements accept the attributes listed in <a href="#presm_commatt"></a>.</p>
            </section>
         
         
         <section>
            <h5 id="presm_mn_examples">Examples</h5>
            
            <div class="example mathml">
               <pre>&lt;mn&gt; 2 &lt;/mn&gt;</pre>
            </div>
            
            <div class="example mathml">
               <pre>&lt;mn&gt; 0.123 &lt;/mn&gt;</pre>
            </div>
            
            <div class="example mathml">
               <pre>&lt;mn&gt; 1,000,000 &lt;/mn&gt;</pre>
            </div>
            
            <div class="example mathml">
               <pre>&lt;mn&gt; 2.1e10 &lt;/mn&gt;</pre>
            </div>
            
            <div class="example mathml">
               <pre>&lt;mn&gt; 0xFFEF &lt;/mn&gt;</pre>
            </div>
            
            <div class="example mathml">
               <pre>&lt;mn&gt; MCMLXIX &lt;/mn&gt;</pre>
            </div>
            
            <div class="example mathml">
               <pre>&lt;mn&gt; twenty one &lt;/mn&gt;</pre>
            </div>
            </section>
         
         
         <section>
            <h5 id="presm_not_single_mn">Numbers that should <em>not</em> be written 
               using <code class="starttag">&lt;mn&gt;</code> alone</h5>
            
            
            <p>Many mathematical numbers should be represented using presentation
               elements other than <code class="element">mn</code> alone; this includes
               complex numbers, <span data-diff="add">negative numbers, </span>ratios of numbers shown as fractions, and 
               names of numeric constants. Examples of MathML representations of
               such numbers include:
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
  &lt;mn&gt; 2 &lt;/mn&gt;
  &lt;mo&gt; + &lt;/mo&gt;
  &lt;mrow&gt;
    &lt;mn&gt; 3 &lt;/mn&gt;
    &lt;mo&gt; &amp;InvisibleTimes; &lt;/mo&gt;
    &lt;mi&gt; &amp;ImaginaryI; &lt;/mi&gt;
  &lt;/mrow&gt;
&lt;/mrow&gt;
</pre>
               </div>
               
               <div class="example mathml">
                  <pre>&lt;mfrac&gt; &lt;mn&gt; 1 &lt;/mn&gt; &lt;mn&gt; 2 &lt;/mn&gt; &lt;/mfrac&gt;</pre>
               </div>
               
               <div class="example mathml">
                  <pre>&lt;mrow&gt;&lt;mo&gt;-&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/mrow&gt;</pre>
               </div>
               
               <div class="example mathml">
                  <pre>&lt;mi&gt; &amp;pi; &lt;/mi&gt;</pre>
               </div>
               
               <div class="example mathml">
                  <pre>&lt;mi&gt; &amp;ExponentialE; &lt;/mi&gt;</pre>
               </div>
               </p>
            </section>
         </section>
      
      
      <section>
         <h4 id="presm_mo">Operator, Fence, Separator or Accent
            <code class="defn starttag">&lt;mo&gt;</code> <a class="coreyes" href="../mathml-core/#mo">core&#x2714;</a></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p>An <code class="element">mo</code> element represents an operator or
               anything that should be rendered as an operator. In general, the
               notational conventions for mathematical operators are quite
               complicated, and therefore MathML provides a relatively sophisticated
               mechanism for specifying the rendering behavior of an
               <code class="element">mo</code> element.  As a consequence, in MathML the list
               of things that should <span>&#x201c;render as an operator&#x201d;</span> includes a number of
               notations that are not mathematical operators in the ordinary
               sense. Besides ordinary operators with infix, prefix, or postfix
               forms, these include fence characters such as braces, parentheses, and
               <span>&#x201c;absolute value&#x201d;</span> bars<span>;</span> separators 
               such as comma and semicolon<span>;</span> and
               mathematical accents such as a bar or tilde over a symbol.
               We will use the term "operator" in this chapter to refer to operators in this broad
               sense.</p>
            
            
            <p>Typical graphical renderers show all <code class="element">mo</code>
               elements as the content (See <a href="#presm_tokenchars"></a>),
               with additional spacing around the element determined by its attributes and
               further described below. 
               Renderers without access to complete fonts for the MathML character
               set may choose  to render an <code class="element">mo</code> element as
               <span>not</span> precisely the characters in its content in some cases. For example,
               <code>&lt;mo&gt; &amp;le; &lt;/mo&gt;</code> might be rendered as
               <code>&lt;=</code> to a terminal.  However, as a general rule,
               renderers should attempt to render the content of an
               <code class="element">mo</code> element as literally as possible.
               That is,
               <code>&lt;mo&gt; &amp;le; &lt;/mo&gt;</code> and
               <code>&lt;mo&gt; &amp;lt;= &lt;/mo&gt;</code> should render differently.
               The first one should render as a single character
               representing a less-than-or-equal-to sign, and the second one as the
               two-character sequence <code>&lt;=</code>.</p>
            
            
            <p><span>All o</span>perators, in the general sense used here, 
               are subject to essentially the same rendering
               attributes and rules<span>. S</span>ubtle distinctions in the 
               rendering of these classes of symbols,
               when they exist, are supported using the Boolean attributes <code class="attribute">fence</code>,
               <code class="attribute">separator</code> and <code class="attribute">accent</code>, which can be used to distinguish these cases.</p>
            
            
            <p>A key feature of the <code class="element">mo</code> element is that its
               default attribute values are set on a case-by-case basis from an
               <span>&#x201c;operator dictionary&#x201d;</span> as explained below. In particular, default
               values for <code class="attribute">fence</code>, <code class="attribute">separator</code> and
               <code class="attribute">accent</code> can usually be found in the operator dictionary
               and therefore need not be specified on each <code class="element">mo</code>
               element.</p>
            
            
            <p>Note that some mathematical operators are represented not by <code class="element">mo</code> elements alone, but by <code class="element">mo</code>
               elements <span>&#x201c;embellished&#x201d;</span> with (for example) surrounding
               superscripts; this is further described below. Conversely, as presentation
               elements, <code class="element">mo</code> elements can contain arbitrary text,
               even when that text has no standard interpretation as an operator; for an
               example, see the discussion <span>&#x201c;Mixing text and mathematics&#x201d;</span> in
               <a href="#presm_mtext"></a>. See also <a href="#contm"></a> for
               definitions of MathML content elements that are guaranteed to have the
               semantics of specific mathematical operators.</p>
            
            
            <p>Note also that linebreaking, as discussed in
               <a href="#presm_linebreaking"></a>, usually takes place at operators
               (either before or after, depending on local conventions).
               Thus, <code class="element">mo</code> accepts attributes to encode the desirability
               of breaking at a particular operator, as well as attributes
               describing the treatment of the operator and indentation in case
               the a linebreak is made at that operator.</p>
            </section>
         
         
         <section>
            <h5 id="presm_mo_attrs">Attributes</h5>
            
            
            <p><code class="element">mo</code> elements accept
               the attributes listed in <a href="#presm_commatt"></a>
               and the additional attributes listed here.
               Since the display of operators is so critical in mathematics,
               the <code class="element">mo</code> element accepts a large number of attributes;
               these are described in the next three subsections.
               </p>
            <p>
               Most attributes get their default values from an enclosing
               <code class="element">mstyle</code> element, <code class="element">math</code> element,
               <span> from the containing document,</span>
               or from the
               <a href="#presm_opdict"></a>. 
               When a value that is listed as <span>&#x201c;inherited&#x201d;</span> is not explicitly given on an 
               <code class="element">mo</code>,  <code class="element">mstyle</code> element, <code class="element">math</code> element, or found in the operator
               dictionary for a given <code class="element">mo</code> element, the default value shown in
               parentheses is used.
               </p>
            
            
            <section>
               <h6 id="presm_mo_dict_attrs">Dictionary-based attributes</h6>
               
               <table border="1" id="presm_table-mo" class="attributes">
                  
                  <thead>
                     
                     <tr>
                        
                        <td>Name</td>
                        
                        <td>values</td>
                        
                        <td>default</td>
                        
                        <td>Core</td>
                        </tr>
                     </thead>
                  
                  <tbody>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">form</td>
                        
                        <td>"prefix" | "infix" | "postfix"</td>
                        
                        <td><em>set by position of operator in an</em> <code class="element">mrow</code></td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies the role of the operator in the enclosing expression.
                           This role and the operator content affect the lookup of the operator in the operator
                           dictionary
                           which affects the spacing and other default properties;
                           see <a href="#presm_formdefval"></a>.
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">fence</td>
                        
                        <td>"true" | "false"</td>
                        
                        <td><em>set by dictionary</em> (false)</td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies whether the operator represents a &#x2018;fence&#x2019;, such as a parenthesis.
                           This attribute generally has no direct effect on the visual rendering,
                           but may be useful in specific cases, such as non-visual renderers.
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">separator</td>
                        
                        <td>"true" | "false"</td>
                        
                        <td><em>set by dictionary</em> (false)</td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies whether the operator represents a &#x2018;separator&#x2019;, or punctuation.
                           This attribute generally has no direct effect on the visual rendering,
                           but may be useful in specific cases, such as non-visual renderers.
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">lspace</td>
                        
                        <td><a class="intref" href="#type_length"><em>length</em></a></td>
                        
                        <td><em>set by dictionary</em> (thickmathspace)</td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies the leading space appearing before the operator;
                           see <a href="#presm_opspacing"></a>.
                           (Note that before is on the right in a RTL context; see <a href="#presm_bidi"></a>).
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">rspace</td>
                        
                        <td><a class="intref" href="#type_length"><em>length</em></a></td>
                        
                        <td><em>set by dictionary</em> (thickmathspace)</td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies the trailing space appearing after the operator;
                           see <a href="#presm_opspacing"></a>.
                           (Note that after is on the left in a RTL context; see <a href="#presm_bidi"></a>).
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">stretchy</td>
                        
                        <td>"true" | "false"</td>
                        
                        <td><em>set by dictionary</em> (false)</td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies whether the operator should stretch to the size of adjacent material;
                           see <a href="#presm_op_stretch"></a>.
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">symmetric</td>
                        
                        <td>"true" | "false"</td>
                        
                        <td><em>set by dictionary</em> (false)</td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies whether the operator should be kept symmetric around the math 
                           <a class="intref" href="#dt-axis">axis</a> when stretchy.
                           Note this property only applies to vertically stretched symbols.
                           See <a href="#presm_op_stretch"></a>.
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">maxsize</td>
                        
                        <td> <a class="intref" href="#type_length"><em>length</em></a> | "infinity"</td>
                        
                        <td><em>set by dictionary</em> (infinity)</td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies the maximum size of the operator when stretchy;
                           see <a href="#presm_op_stretch"></a>.
                           <span>Unitless or percentage values indicate a multiple
                              of the reference size, being the size of the unstretched glyph.</span>
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">minsize</td>
                        
                        <td> <a class="intref" href="#type_length"><em>length</em></a></td>
                        
                        <td><em>set by dictionary</em> <span>(100%)</span></td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies the minimum size of the operator when stretchy;
                           see <a href="#presm_op_stretch"></a>.
                           <span>Unitless or percentage values indicate a multiple
                              of the reference size, being the size of the unstretched glyph.</span>
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">largeop</td>
                        
                        <td>"true" | "false"</td>
                        
                        <td><em>set by dictionary</em> (false)</td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies whether the operator is considered a &#x2018;large&#x2019; operator,
                           that is, whether it should be drawn larger than normal when
                           <code class="attribute">displaystyle</code>=<code class="attributevalue">true</code>
                           (similar to using T<sub>E</sub>X's <code>\displaystyle</code>).
                           Examples of large operators include <code class="entity">int</code>
                           and <code class="entity">prod</code>.
                           See <a href="#presm_scriptlevel"></a> for more discussion.
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">movablelimits</td>
                        
                        <td>"true" | "false"</td>
                        
                        <td><em>set by dictionary</em> (false)</td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies whether under- and overscripts attached to
                           this operator &#x2018;move&#x2019; to the more compact sub- and superscript positions
                           when <code class="attribute">displaystyle</code> is false.
                           Examples of operators that typically have <code class="attribute">movablelimits</code>=<code class="attributevalue">true</code>
                           are <code class="entity">sum</code>, <code class="entity">prod</code>, and <code>lim</code>.
                           See <a href="#presm_scriptlevel"></a> for more discussion.
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">accent</td>
                        
                        <td>"true" | "false"</td>
                        
                        <td><em>set by dictionary</em> (false)</td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies whether this operator should be treated as an accent (diacritical mark)
                           when used as an underscript or overscript;
                           see <a class="intref" href="#presm_munder"><code class="element">munder</code></a>,
                           <a class="intref" href="#presm_mover"><code class="element">mover</code></a>
                           and <a class="intref" href="#presm_munderover"><code class="element">munderover</code></a>.
                           </td>
                        </tr>
                     </tbody>
                  </table>
               
               </section>
            
            
            <section>
               <h6 id="presm_lbattrs">Linebreaking attributes</h6>
               
               <p>The following attributes affect when a linebreak does or does not occur,
                  and the appearance of the linebreak when it does occur.</p>
               
               
               <table border="1" class="attributes">
                  
                  <thead>
                     
                     <tr>
                        
                        <td> Name </td>
                        
                        <td> values </td>
                        
                        <td> default </td>
                        
                        <td>Core</td>
                        </tr>
                  </thead>
                  
                  <tbody>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">linebreak</td>
                        
                        <td>"auto" | "newline" | "nobreak" | "goodbreak" | "badbreak"</td>
                        
                        <td>auto</td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies the desirability of a linebreak occurring at this operator:
                           the default <code class="attributevalue">auto</code> indicates the renderer should use its default
                           linebreaking algorithm to determine whether to break;
                           <code class="attributevalue">newline</code> is used to force a linebreak;
                           For automatic linebreaking, <code class="attributevalue">nobreak</code> forbids a break;
                           <code class="attributevalue">goodbreak</code> suggests a good position;
                           <code class="attributevalue">badbreak</code> suggests a poor position.
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">lineleading </td>
                        
                        <td> <a class="intref" href="#type_length"><em>length</em></a> </td>
                        
                        <td><em>inherited</em> (100%) </td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies the amount of vertical space to use after a linebreak.
                           For tall lines, it is often clearer to use more leading at linebreaks.
                           Rendering agents are free to choose an appropriate default.
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">linebreakstyle</td>
                        
                        <td> "before" | "after" | "duplicate"
                           | "infixlinebreakstyle"</td>
                        
                        <td><em>set by dictionary</em> (before) </td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies whether a linebreak occurs &#x2018;before&#x2019; or &#x2018;after&#x2019; the operator
                           when a linebreaks occur on this operator; or whether the operator is duplicated.
                           <code class="attributevalue">before</code> causes the operator to appears at the beginning of the new line
                           (but possibly indented);
                           <code class="attributevalue">after</code> causes it to appear at the end of the line before the break.
                           <code class="attributevalue">duplicate</code> places the operator at both positions.
                           <code class="attributevalue">infixlinebreakstyle</code> uses the value  that has been specified for
                           infix operators; This value (one of <code class="attributevalue">before</code>,
                           <code class="attributevalue">after</code> or <code class="attributevalue">duplicate</code>) can be specified by
                           the application or bound by <a class="intref" href="#presm_mstyle"><code class="element">mstyle</code></a>
                           (<code class="attributevalue">before</code> corresponds to the most common style of linebreaking).
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">linebreakmultchar</td>
                        
                        <td><a class="intref" href="#type_string"><em>string</em></a></td>
                        
                        <td><em>inherited</em> (&amp;InvisibleTimes;) </td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies the character used to make an &amp;InvisibleTimes; operator visible at a linebreak.
                           For example, <code class="attribute">linebreakmultchar</code>="&amp;#xB7;"  would make the
                           multiplication visible as a center dot.
                           </td>
                        </tr>
                     </tbody>
                  </table>
               
               <p>
                  <code class="attribute">linebreak</code> values on adjacent <code class="element">mo</code> and <code class="element">mspace</code>elements do
                  not interact; <code class="attribute">linebreak</code>=<code class="attributevalue">nobreak</code> on a <code class="element">mo</code> does
                  not, in itself, inhibit a break on a preceding or following (possibly nested)
                  <code class="element">mo</code> or <code class="element">mspace</code> element and does not interact with the <code class="attribute">linebreakstyle</code>
                  attribute value of the preceding or following <code class="element">mo</code> element.
                  It does prevent breaks from occurring on either side of the <code class="element">mo</code> element in all other situations.
                  </p>
               
               </section>
            
            
            <section>
               <h6 id="presm_lbindent_attrs">Indentation attributes</h6>
               
               <p>The following attributes affect indentation of the lines making up a formula.
                  Primarily these <span>attributes</span> control the positioning of new lines following a linebreak,
                  whether automatic or manual. However, <code class="attribute">indentalignfirst</code> and <code class="attribute">indentshiftfirst</code>
                  also control the positioning of single line formula without any linebreaks.
                  When these attributes appear on <code class="element">mo</code> or <code class="element">mspace</code> they apply if a linebreak occurs
                  at that element.
                  When they appear on <code class="element">mstyle</code> or <code class="element">math</code> elements, they determine
                  defaults for the style to be used for any linebreaks occurring within.
                  Note that except for cases where heavily marked-up manual linebreaking is desired,
                  many of these attributes are most useful when bound on an
                  <code class="element">mstyle</code> or <code class="element">math</code> element.
                  </p>
               
               
               <p>Note that since the rendering context, such as <span>the
                     available width</span> and current font,
                  is not always available to the author of the MathML, 
                  a render may ignore the values of these attributes if they result in a line in which
                  the remaining width is too small to usefully display the expression or if they result
                  in a line in
                  which the remaining width exceeds the available linewrapping width. </p>
               
               
               <table border="1" class="attributes">
                  
                  <thead>
                     <tr>
                        
                        <td> Name   </td>
                        
                        <td> values </td>
                        
                        <td> default </td>
                        
                        <td>Core</td>
                        </tr>
                     </thead>
                  
                  <tbody>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">indentalign</td>
                        
                        <td>"left" | "center" | "right" | "auto" | "id"</td>
                        
                        <td><em>inherited</em> (auto)       </td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies the positioning of lines when linebreaking takes place within an <code class="element">mrow</code>;
                           see below for discussion of the attribute values.
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">indentshift      </td>
                        
                        <td><a class="intref" href="#type_length"><em>length</em></a></td>
                        
                        <td><em>inherited</em> (0) </td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies an additional indentation offset relative to the position determined
                           by <code class="attribute">indentalign</code>.
                           <span>When the value is a percentage value or number without unit,
                              the value is relative to the
                              horizontal space that a MathML renderer has available, this is the current target
                              width as used for
                              linebreaking as specified in <a href="#presm_linebreaking"></a></span>
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">indenttarget</td>
                        
                        <td><a class="intref" href="#type_idref"><em>idref</em></a></td>
                        
                        <td><em> inherited (none)</em></td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies the <a class="intref" href="#type_id">id</a> of another element
                           whose horizontal position determines the position of indented lines
                           when <code class="attribute">indentalign</code>=<code class="attributevalue">id</code>.
                           Note that the identified element may be outside of the current
                           <code class="element">math</code> element, allowing for inter-expression alignment,
                           or may be within invisible content such as <code class="element">mphantom</code>;
                           it must appear <em>before</em> being referenced, however.
                           This may lead to an id being unavailable to a given renderer
                           <span>or in a position that does not allow for alignment</span>.
                           In such cases, the <code class="attribute">indentalign</code> should revert to <code class="attributevalue">auto</code>.
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">indentalignfirst  </td>
                        
                        <td>"left" | "center" | "right" | "auto" | "id" | "indentalign"</td>
                        
                        <td><em>inherited</em> (indentalign) </td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies the indentation style to use for the first line of a formula;
                           the value <code class="attributevalue">indentalign</code> (the default) means
                           to indent the same way as used for the general line.
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">indentshiftfirst </td>
                        
                        <td><a class="intref" href="#type_length"><em>length</em></a> | "indentshift"  </td>
                        
                        <td><em>inherited</em> (indentshift) </td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies the offset to use for the first line of a formula;
                           the value <code class="attributevalue">indentshift</code> (the default) means 
                           to use the same offset as used for the general line.
                           <span>Percentage values and numbers without unit are interpreted as described for <code class="attribute">indentshift</code></span>
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">indentalignlast   </td>
                        
                        <td>"left" | "center" | "right" | "auto" | "id" | "indentalign"</td>
                        
                        <td><em>inherited</em> (indentalign) </td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies the indentation style to use for the last line when a linebreak
                           occurs within a given <code class="element">mrow</code>;
                           the value <code class="attributevalue">indentalign</code> (the default) means 
                           to indent the same way as used for the general line.
                           When there are exactly two lines, the value of this attribute should
                           be used for the second line in preference to <code class="attribute">indentalign</code>.
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">indentshiftlast  </td>
                        
                        <td><a class="intref" href="#type_length"><em>length</em></a> | "indentshift" </td>
                        
                        <td><em>inherited</em> (indentshift) </td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies the offset to use for the last line when a linebreak
                           occurs within a given <code class="element">mrow</code>;
                           the value <code class="attributevalue">indentshift</code> (the default) means
                           to indent the same way as used for the general line.
                           When there are exactly two lines, the value of this attribute should
                           be used for the second line in preference to <code class="attribute">indentshift</code>.
                           <span>Percentage values and numbers without unit are interpreted as described for <code class="attribute">indentshift</code></span>
                           </td>
                        </tr>
                     </tbody>
               </table>
               
               
               <p>The legal values of indentalign are:
                  
                  <table id="presm_table-indentalign" border="1">
                     <thead>
                        <tr>
                           
                           <td> Value   </td>
                           
                           <td> Meaning</td>
                           </tr>
                        </thead>
                     
                     <tbody>
                        
                        <tr>
                           
                           <td> left         </td>
                           
                           <td> Align the left side of the next line to the left side of the line wrapping width
                              </td>
                           </tr>
                        
                        <tr>
                           
                           <td> center       </td>
                           
                           <td> Align the center of the next line to the center of the line wrapping width </td>
                           </tr>
                        
                        <tr>
                           
                           <td> right        </td>
                           
                           <td> Align the right side of the next line to the right side of the line wrapping width
                              </td>
                           </tr>
                        
                        <tr>
                           
                           <td> auto         </td>
                           
                           <td>
                              (default) indent using the renderer's default indenting style; this may
                              be a fixed amount or one that varies with the depth of the element in
                              the mrow nesting or some other similar method. </td>
                           </tr>
                        
                        <tr>
                           
                           <td> id           </td>
                           
                           <td> Align the left side of the next line to the left side of the element
                              referenced by the <a class="intref" href="#type_idref"><em>idref</em></a>
                              (given by <code class="attribute">indenttarget</code>);
                              if no such element exists, use <code class="attributevalue">auto</code> as the <code class="attribute">indentalign</code> value</td>
                           </tr>
                        </tbody>
                  </table>
               </p>
               
               </section>
            </section>
         
         
         <section>
            <h5>Examples with ordinary operators</h5>
            
            
            <div class="example mathml">
               <pre>&lt;mo&gt; + &lt;/mo&gt;                    </pre>
            </div>
            
            <div class="example mathml">
               <pre>&lt;mo&gt; &amp;lt; &lt;/mo&gt;                 </pre>
            </div>
            
            <div class="example mathml">
               <pre>&lt;mo&gt; &amp;le; &lt;/mo&gt; </pre>
            </div>
            
            <div class="example mathml">
               <pre>&lt;mo&gt; &amp;lt;= &lt;/mo&gt;                </pre>
            </div>
            
            <div class="example mathml">
               <pre>&lt;mo&gt; ++ &lt;/mo&gt;                   </pre>
            </div>
            
            <div class="example mathml">
               <pre>&lt;mo&gt; &amp;sum; &lt;/mo&gt; </pre>
            </div>
            
            <div class="example mathml">
               <pre>&lt;mo&gt; .NOT. &lt;/mo&gt;                </pre>
            </div>
            
            <div class="example mathml">
               <pre>&lt;mo&gt; and &lt;/mo&gt;                  </pre>
            </div>
            
            <div class="example mathml">
               <pre>&lt;mo&gt; &amp;InvisibleTimes; &lt;/mo&gt; </pre>
            </div>
            
            <div class="example mathml">
               <pre>&lt;mo mathvariant='bold'&gt; + &lt;/mo&gt; </pre>
            </div>
            
            </section>
         
         
         <section>
            <h5>Examples with fences and separators</h5>
            
            
            <p>Note that the <code class="element">mo</code> elements in these examples
               don't need explicit <code class="attribute">fence</code> or <code class="attribute">separator</code> attributes,
               since these can be found using the
               operator dictionary as described below. Some of these examples could also
               be encoded using the <code class="element">mfenced</code> element described in
               <a href="#presm_mfenced"></a>.</p>
            
            
            <p>(<i class="var">a</i>+<i class="var">b</i>)
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
  &lt;mo&gt; ( &lt;/mo&gt;
  &lt;mrow&gt;
    &lt;mi&gt; a &lt;/mi&gt;
    &lt;mo&gt; + &lt;/mo&gt;
    &lt;mi&gt; b &lt;/mi&gt;
  &lt;/mrow&gt;
  &lt;mo&gt; ) &lt;/mo&gt;
&lt;/mrow&gt;
</pre>
               </div>
               </p>
            
            
            <p>[0,1)
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
  &lt;mo&gt; [ &lt;/mo&gt;
  &lt;mrow&gt;
    &lt;mn&gt; 0 &lt;/mn&gt;
    &lt;mo&gt; , &lt;/mo&gt;
    &lt;mn&gt; 1 &lt;/mn&gt;
  &lt;/mrow&gt;
  &lt;mo&gt; ) &lt;/mo&gt;
&lt;/mrow&gt;
</pre>
               </div>
               </p>
            
            
            <p><i class="var">f</i>(<i class="var">x</i>,<i class="var">y</i>)
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
  &lt;mi&gt; f &lt;/mi&gt;
  &lt;mo&gt; &amp;ApplyFunction; &lt;/mo&gt;
  &lt;mrow&gt;
    &lt;mo&gt; ( &lt;/mo&gt;
    &lt;mrow&gt;
      &lt;mi&gt; x &lt;/mi&gt;
      &lt;mo&gt; , &lt;/mo&gt;
      &lt;mi&gt; y &lt;/mi&gt;
    &lt;/mrow&gt;
    &lt;mo&gt; ) &lt;/mo&gt;
  &lt;/mrow&gt;
&lt;/mrow&gt;
</pre>
               </div>
               </p>
            </section>
         
         
         
         <section>
            <h5 id="presm_invisibleops">Invisible operators</h5>
            
            
            <p>Certain operators that are <span>&#x201c;invisible&#x201d;</span> in traditional
               mathematical notation should be represented using specific entity
               references within <code class="element">mo</code> elements, rather than simply
               by nothing. The characters used for these <span>&#x201c;invisible
                  operators&#x201d;</span> are:
               
               <table border="1">
                  
                  <thead>
                     
                     <tr>
                        
                        <td>Character</td>
                        
                        <td>Entity name</td>
                        
                        <td>Short name</td>
                        
                        <td>Examples of use</td>
                        </tr>
                     </thead>
                  
                  <tbody>
                     
                     <tr>
                        
                        <td>U+2061</td>
                        
                        <td><code class="entity">ApplyFunction</code></td>
                        
                        <td><code class="entity">af</code></td>
                        
                        <td><i class="var">f</i>(<i class="var">x</i>) sin <i class="var">x</i></td> 
                        </tr>
                     
                     <tr>
                        
                        <td>U+2062</td>
                        
                        <td><code class="entity">InvisibleTimes</code></td>
                        
                        <td><code class="entity">it</code></td>
                        
                        <td><i class="var">x</i><i class="var">y</i></td>
                        </tr>
                     
                     <tr>
                        
                        <td>U+2063</td>
                        
                        <td><code class="entity">InvisibleComma</code></td>
                        
                        <td><code class="entity">ic</code></td>
                        
                        <td><i class="var">m</i><sub>12</sub></td>
                        </tr>
                     
                     <tr>
                        
                        <td>U+2064</td>
                        
                        <td></td>
                        
                        <td></td>
                        
                        <td>2&#xbe;</td>
                        </tr>
                     </tbody>
                  </table>
               </p>
            
            
            <p>The MathML representations of the examples in the above table are:
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
  &lt;mi&gt; f &lt;/mi&gt;
  &lt;mo&gt; &amp;ApplyFunction; &lt;/mo&gt;
  &lt;mrow&gt;
    &lt;mo&gt; ( &lt;/mo&gt;
    &lt;mi&gt; x &lt;/mi&gt;
    &lt;mo&gt; ) &lt;/mo&gt;
  &lt;/mrow&gt;
&lt;/mrow&gt;
</pre>
               </div>
               
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
  &lt;mi&gt; sin &lt;/mi&gt;
  &lt;mo&gt; &amp;ApplyFunction; &lt;/mo&gt;
  &lt;mi&gt; x &lt;/mi&gt;
&lt;/mrow&gt;
</pre>
               </div>
               
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
  &lt;mi&gt; x &lt;/mi&gt;
  &lt;mo&gt; &amp;InvisibleTimes; &lt;/mo&gt;
  &lt;mi&gt; y &lt;/mi&gt;
&lt;/mrow&gt;
</pre>
               </div>
               
               
               <div class="example mathml">
                  <pre>
&lt;msub&gt;
  &lt;mi&gt; m &lt;/mi&gt;
  &lt;mrow&gt;
    &lt;mn&gt; 1 &lt;/mn&gt;
    &lt;mo&gt; &amp;InvisibleComma; &lt;/mo&gt;
    &lt;mn&gt; 2 &lt;/mn&gt;
  &lt;/mrow&gt;
&lt;/msub&gt;
</pre>
               </div>
               
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
  &lt;mn&gt; 2 &lt;/mn&gt;
  &lt;mo&gt; &amp;#x2064; &lt;/mo&gt;
  &lt;mfrac&gt;
    &lt;mn&gt; 3 &lt;/mn&gt;
    &lt;mn&gt; 4 &lt;/mn&gt;
  &lt;/mfrac&gt;
&lt;/mrow&gt;
</pre>
               </div>
               </p>
            
            
            <p>The reasons for using specific <code class="element">mo</code> elements for
               invisible operators include:
               </p>
            <ul>
               
               <li>
                  <p>such operators should often have specific effects on visual
                     rendering (particularly spacing and linebreaking rules) that are not
                     the same as either the lack of any operator, or spacing represented by
                     <code class="element">mspace</code> or <code class="element">mtext</code>
                     elements;</p> 
                  </li>
               
               
               <li>
                  <p>these operators should often have specific audio renderings
                     different than that of the lack of any operator;</p>
                  </li>
               
               
               <li>
                  <p>automatic semantic interpretation of MathML presentation elements
                     is made easier by the explicit specification of such operators.</p>
                  </li>
               </ul>
            
            
            <p>For example, an audio renderer might render <i class="var">f</i>(<i class="var">x</i>)
               (represented as in the above examples) by speaking <span>&#x201c;f of x&#x201d;</span>, but use
               the word <span>&#x201c;times&#x201d;</span> in its rendering of <i class="var">x</i><i class="var">y</i>.
               Although its rendering must still be different depending on the structure
               of neighboring elements (sometimes leaving out <span>&#x201c;of&#x201d;</span> or
               <span>&#x201c;times&#x201d;</span> entirely), its task is made much easier by the use of
               a different <code class="element">mo</code> element for each invisible
               operator.</p>
            </section>
         
         
         <section>
            <h5>Names for other special operators</h5>
            
            
            <p>MathML also includes <code class="entity">DifferentialD</code> (U+2146) for use
               in an <code class="element">mo</code> element representing the differential
               operator symbol usually denoted by <span>&#x201c;d&#x201d;</span>.  The reasons for
               explicitly using this special character are similar to those for using
               the special characters for invisible operators described in the
               preceding section.  </p>
            
            </section>
         
         
         <section>
            <h5>Detailed rendering rules for <code class="starttag">&lt;mo&gt;</code> elements</h5>
            
            
            <p>Typical visual rendering behaviors for <code class="element">mo</code>
               elements are more complex than for the other MathML token elements, so
               the rules for rendering them are described in this separate
               subsection.</p>
            
            
            <p>Note that, like all rendering rules in MathML, these rules are
               suggestions rather than requirements.  Furthermore, no attempt is made
               to specify the rendering completely; rather, enough information is
               given to make the intended effect of the various rendering attributes
               as clear as possible.</p>
            
            
            <section>
               <h6 id="presm_opdict">The operator dictionary</h6>
               
               
               <p>Many mathematical symbols, such as an integral sign, a plus sign,
                  or a parenthesis, have a well-established, predictable, traditional
                  notational usage. Typically, this usage amounts to certain default
                  attribute values for <code class="element">mo</code> elements with specific
                  contents and a specific <code class="attribute">form</code> attribute. Since these
                  defaults vary from symbol to symbol, MathML anticipates that renderers
                  will have an <span>&#x201c;operator dictionary&#x201d;</span> of default attributes for
                  <code class="element">mo</code> elements (see <a href="#oper-dict"></a>) indexed by each
                  <code class="element">mo</code> element's content and <code class="attribute">form</code>
                  attribute.  If an <code class="element">mo</code> element is not listed in the
                  dictionary, the default values shown in parentheses in the table of
                  attributes for <code class="element">mo</code> should be used, since these
                  values are typically acceptable for a generic operator.</p>
               
               
               <p>Some operators are <span>&#x201c;overloaded&#x201d;</span>, in the sense that they can occur
                  in more than one form (prefix, infix, or postfix), with possibly
                  different rendering properties for each form. For example, <span>&#x201c;+&#x201d;</span> can be
                  either a prefix or an infix operator. Typically, a visual renderer
                  would add space around both sides of an infix operator, while only in
                  front of a prefix operator. The <code class="attribute">form</code> attribute allows
                  specification of which form to use, in case more than one form is
                  possible according to the operator dictionary and the default value
                  described below is not suitable.</p>
               </section>
            
            
            <section>
               <h6 id="presm_formdefval">Default value of the <code class="attribute">form</code> attribute</h6>
               
               
               <p>The <code class="attribute">form</code> attribute does not usually have to be
                  specified explicitly, since there are effective heuristic rules for
                  inferring the value of the <code class="attribute">form</code> attribute from the
                  context. If it is not specified, and there is more than one possible
                  form in the dictionary for an <code class="element">mo</code> element with
                  given content, the renderer should choose which form to use as follows
                  (but see the exception for embellished operators, described later):
                  </p>
               <ul>
                  
                  <li>
                     <p>If the operator is the first argument in an <code class="element">mrow</code>
                        <span>with more than one argument</span>
                        (ignoring all space-like arguments (see <a href="#presm_mspace"></a>) in the
                        determination of both the length and the first argument), the prefix form
                        is used;</p>
                     </li>
                  
                  
                  <li>
                     <p>if it is the last argument in an <code class="element">mrow</code> <span>with more than one argument</span>
                        (ignoring all space-like arguments), the postfix
                        form is used;</p>
                     </li>
                  
                  
                  <li>
                     <p>if it is the only element in an implicit or explicit <code class="element">mrow</code>
                        and if it is in a script position of one of the elements listed in <a href="#presm_scrlim"></a>,
                        the postfix form is used;</p>
                     </li>
                  
                  
                  <li>
                     <p>in all other cases, including when the operator is not part of an
                        <code class="element">mrow</code>, the infix form is used.</p>
                     </li>
                  </ul>
               
               
               <p>Note that the <code class="element">mrow</code> discussed above may be <em>inferred</em>;
                  See <a href="#presm_inferredmrow"></a>.</p>
               
               
               <p>Opening fences should have  <code class="attribute">form</code><code>="prefix"</code>,
                  and closing fences should have <code class="attribute">form</code><code>="postfix"</code>;
                  separators are usually <span>&#x201c;infix&#x201d;</span>, but not always,
                  depending on their surroundings. As with ordinary operators,
                  these values do not usually need to be specified explicitly.</p>
               
               
               <p>If the operator does not occur in the dictionary with the specified
                  form, the renderer should use one of the forms that is available
                  there, in the order of preference: infix, postfix, prefix; if no forms
                  are available for the given <code class="element">mo</code> element content, the
                  renderer should use the defaults given in parentheses in the table of
                  attributes for <code class="element">mo</code>.</p>
               </section>
            
            
            <section>
               <h6>Exception for embellished operators</h6>
               
               
               <p>There is one exception to the above rules for choosing an <code class="element">mo</code> element's default <code class="attribute">form</code>
                  attribute. An <code class="element">mo</code> element that is
                  <span>&#x201c;embellished&#x201d;</span> by one or more nested subscripts, superscripts,
                  surrounding text or whitespace, or style changes behaves differently. It is
                  the embellished operator as a whole (this is defined precisely, below)
                  whose position in an <code class="element">mrow</code> is examined by the above
                  rules and whose surrounding spacing is affected by its form, not the <code class="element">mo</code> element at its core; however, the attributes
                  influencing this surrounding spacing are taken from the <code class="element">mo</code> element at the core (or from that element's
                  dictionary entry).</p>
               
               
               <p>For example, the <span>&#x201c;+<sub>4</sub>&#x201d;</span> in 
                  <i class="var">a</i>+<sub>4</sub><i class="var">b</i>
                  should be considered an infix operator as a whole, due to its position
                  in the middle of an <code class="element">mrow</code>, but its rendering
                  attributes should be taken from the <code class="element">mo</code> element
                  representing the <span>&#x201c;+&#x201d;</span>, or when those are not specified explicitly,
                  from the operator dictionary entry for <code>&lt;mo form="infix"&gt; +
                     &lt;/mo&gt;</code>.
                  The precise definition of an <span>&#x201c;embellished operator&#x201d;</span> is: 
                  </p>
               <ul>
                  
                  <li>
                     <p>an <code class="element">mo</code> element;</p>
                     </li>
                  
                  
                  <li>
                     <p>or one of the elements
                        <code class="element">msub</code>,
                        <code class="element">msup</code>,
                        <code class="element">msubsup</code>,
                        <code class="element">munder</code>,
                        <code class="element">mover</code>,
                        <code class="element">munderover</code>,
                        <code class="element">mmultiscripts</code>,
                        <code class="element">mfrac</code>, or
                        <code class="element">semantics</code>
                        (<a href="#mixing_semantic_annotations"></a>), whose first argument exists and is an embellished
                        operator;</p>
                     </li>
                  
                  
                  <li>
                     <p>or one of the elements
                        <code class="element">mstyle</code>,
                        <code class="element">mphantom</code>, or
                        <code class="element">mpadded</code>,
                        such that an <code class="element">mrow</code> containing the same
                        arguments would be an embellished operator;</p>
                     </li>
                  
                  
                  <li>
                     <p>or an <code class="element">maction</code> element whose selected
                        sub-expression exists and is an embellished operator;</p> </li>
                  
                  
                  <li>
                     <p>or an <code class="element">mrow</code> whose arguments consist (in any order)
                        of one embellished operator and zero or more space-like elements.</p>
                     </li> 
                  </ul>
               <p>
                  Note that this definition permits nested embellishment only when
                  there are no intervening enclosing elements not in the above list.</p>
               
               
               <p>The above rules for choosing operator forms and defining
                  embellished operators are chosen so that in all ordinary cases it will
                  not be necessary for the author to specify a <code class="attribute">form</code>
                  attribute.</p>
               </section>
            
            
            <section>
               <h6>Rationale for definition of embellished operators</h6>
               
               
               <p>The following notes are included as a rationale for certain aspects
                  of the above definitions, but should not be important for most users
                  of MathML.</p>
               
               
               <p>An <code class="element">mfrac</code> is included as an
                  <span>&#x201c;embellisher&#x201d;</span> because of the common notation for a
                  differential operator:
                  
                  <div class="example mathml">
                     <pre>
&lt;mfrac&gt;
  &lt;mo&gt; &amp;DifferentialD; &lt;/mo&gt;
  &lt;mrow&gt;
    &lt;mo&gt; &amp;DifferentialD; &lt;/mo&gt;
    &lt;mi&gt; x &lt;/mi&gt;
  &lt;/mrow&gt;
&lt;/mfrac&gt;
</pre>
                  </div>
                  </p>
               
               
               <p>Since the definition of embellished operator affects the use of the
                  attributes related to stretching, it is important that it includes
                  embellished fences as well as ordinary operators; thus it applies to
                  any <code class="element">mo</code> element.</p>
               
               
               <p>Note that an <code class="element">mrow</code> containing a single argument
                  is an embellished operator if and only if its argument is an embellished
                  operator. This is because an <code class="element">mrow</code> with a single
                  argument must be equivalent in all respects to that argument alone (as
                  discussed in <a href="#presm_mrow"></a>).
                  This means that an <code class="element">mo</code> element that is the sole argument of an <code class="element">mrow</code>
                  will determine its default <code class="attribute">form</code> attribute based on that
                  <code class="element">mrow</code>'s position in a surrounding, perhaps inferred,
                  <code class="element">mrow</code> (if there is one), rather than based on its own
                  position in the <code class="element">mrow</code> in which it is the sole argument.</p> 
               
               
               <p>Note that the above definition defines every
                  <code class="element">mo</code> element to be <span>&#x201c;embellished&#x201d;</span> &#x2014; that is,
                  <span>&#x201c;embellished operator&#x201d;</span> can be considered (and implemented in
                  renderers) as a special class of MathML expressions, of which
                  <code class="element">mo</code> is a specific case.</p>
               </section>
            
            
            <section>
               <h6 id="presm_opspacing">Spacing around an operator</h6>
               
               
               <p>The amount of horizontal space added around an operator (or embellished operator),
                  when it occurs in an <code class="element">mrow</code>, can be directly
                  specified by the <code class="attribute">lspace</code> and <code class="attribute">rspace</code>
                  attributes. <span>Note that <code class="attribute">lspace</code> and <code class="attribute">rspace</code> should
                     be interpreted as leading and trailing space, in the case of RTL direction.</span>
                  By convention, operators that tend to bind tightly to their
                  arguments have smaller values for spacing than operators that tend to bind
                  less tightly. This convention should be followed in the operator dictionary
                  included with a MathML renderer.</p>
               
               
               <p>Some renderers may choose to use no space around most operators
                  appearing within subscripts or superscripts, as is done in T<sub>E</sub>X.</p>
               
               
               <p>Non-graphical renderers should treat spacing attributes, and other
                  rendering attributes described here, in analogous ways for their
                  rendering medium.  For example, more space might translate into a
                  longer pause in an audio rendering.</p>
               
               </section>
            </section>
         
         
         <section>
            <h5 id="presm_op_stretch">Stretching of operators, fences and accents</h5>
            
            
            <p>Four attributes govern whether and how an operator (perhaps embellished)
               stretches so that it matches the size of other elements: <code class="attribute">stretchy</code>, <code class="attribute">symmetric</code>, <code class="attribute">maxsize</code>, and <code class="attribute">minsize</code>. If an
               operator has the attribute <code class="attribute">stretchy</code>=<code class="attributevalue">true</code>, then it (that is, each character in its content)
               obeys the stretching rules listed below, given the constraints imposed by
               the fonts and font rendering system. In practice, typical renderers will
               only be able to stretch a small set of characters, and quite possibly will
               only be able to generate a discrete set of character sizes.</p>
            
            
            <p>There is no provision in MathML for specifying in which direction
               (horizontal or vertical) to stretch a specific character or operator;
               rather, when <code class="attribute">stretchy</code>=<code class="attributevalue">true</code> it
               should be stretched in each direction for which stretching is possible
               and reasonable for that character.
               It is up to the renderer to know in which directions it is reasonable to
               stretch a character, if it can stretch the character.
               Most characters can be stretched in at most one direction
               by typical renderers, but some renderers may be able to stretch certain
               characters, such as diagonal arrows, in both directions independently.</p>
            
            
            <p>The <code class="attribute">minsize</code> and <code class="attribute">maxsize</code>
               attributes limit the amount of stretching (in either direction). These two
               attributes are given as multipliers of the operator's normal size in the
               direction or directions of stretching, or as absolute sizes using units.
               For example, if a character has <code class="attribute">maxsize</code>=<code class="attributevalue">300%</code>, then it
               can grow to be no more than three times its normal (unstretched) size.</p>
            
            
            <p>The <code class="attribute">symmetric</code> attribute governs whether the
               height and 
               depth above and below the <a class="termref" href="#dt-axis">axis</a> of the
               character are forced to be equal  
               (by forcing both height and depth to become the maximum of the two).
               An example of a situation where one might set
               <code class="attribute">symmetric</code>=<code class="attributevalue">false</code> 
               arises with parentheses around a matrix not aligned on the <a class="termref" href="#dt-axis">axis</a>, which
               frequently occurs when multiplying non-square matrices. In this case, one
               wants the parentheses to stretch to cover the matrix, whereas stretching
               the parentheses symmetrically would cause them to protrude beyond one edge
               of the matrix. The <code class="attribute">symmetric</code> attribute only applies
               to characters that stretch vertically (otherwise it is ignored).</p>
            
            
            <p>If a stretchy <code class="element">mo</code> element is embellished (as defined
               earlier in this section), the <code class="element">mo</code> element at its core is
               stretched to a size based on the context of the embellished operator
               as a whole, i.e. to the same size as if the embellishments were not
               present. For example, the parentheses in the following example (which
               would typically be set to be stretchy by the operator dictionary) will be
               stretched to the same size as each other, and the same size they would
               have if they were not underlined and overlined, and furthermore will
               cover the same vertical interval:
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
  &lt;munder&gt;
    &lt;mo&gt; ( &lt;/mo&gt;
    &lt;mo&gt; &amp;UnderBar; &lt;/mo&gt;
  &lt;/munder&gt;
  &lt;mfrac&gt;
    &lt;mi&gt; a &lt;/mi&gt;
    &lt;mi&gt; b &lt;/mi&gt;
  &lt;/mfrac&gt;
  &lt;mover&gt;
    &lt;mo&gt; ) &lt;/mo&gt;
    &lt;mo&gt; &amp;OverBar; &lt;/mo&gt;
  &lt;/mover&gt;
&lt;/mrow&gt;
</pre>
               </div>
               </p>
            
            
            <p>Note that this means that the stretching rules given below must
               refer to the context of the embellished operator as a whole, not just
               to the <code class="element">mo</code> element itself.</p>
            
            
            <section>
               <h6>Example of stretchy attributes</h6>
               
               
               <p>This shows one way to set the maximum size of a parenthesis so that
                  it does not grow, even though its default value is
                  <code class="attribute">stretchy</code>=<code class="attributevalue">true</code>.
                  
                  <div class="example mathml">
                     <pre>
&lt;mrow&gt;
  &lt;mo maxsize="1<span>00%</span>"&gt; ( &lt;/mo&gt;
  &lt;mfrac&gt;
    &lt;mi&gt; a &lt;/mi&gt; &lt;mi&gt; b &lt;/mi&gt;
  &lt;/mfrac&gt;
  &lt;mo maxsize="1<span>00%</span>"&gt; ) &lt;/mo&gt;
&lt;/mrow&gt;
</pre>
                  </div>
                  </p>
               
               
               <p>The above should render as 
                  <img src="image/f3001.gif" alt="(\frac{a}{b})" align="middle"></img> 
                  as opposed to the default rendering
                  <img src="image/f3002.gif" alt="\left(\frac{a}{b}\right)" align="middle"></img>.</p>
               
               
               <p>Note that each parenthesis is sized independently; if only one of
                  them had <code class="attribute">maxsize</code>=<code class="attributevalue">100%</code>, they would render with different
                  sizes.</p>
               </section>
            
            
            <section>
               <h6>Vertical Stretching Rules</h6>
               
               <p>The general rules governing stretchy operators are:</p>
               
               <ul>
                  
                  <li>
                     <p>If a stretchy operator is a direct sub-expression of an <code class="element">mrow</code> element, or is the sole direct sub-expression of an
                        <code class="element">mtd</code> element in some row of a table, then it should
                        stretch to cover the height and depth (above and below the <span>axis</span>) of the <em>non</em>-stretchy direct sub-expressions in the
                        <code class="element">mrow</code> element or table row, unless stretching is
                        constrained by <code class="attribute">minsize</code> or <code class="attribute">maxsize</code> attributes.</p>
                     </li>
                  
                  
                  <li>
                     <p>In the case of an embellished stretchy operator, the preceding
                        rule applies to the stretchy operator at its core.</p>
                     </li>
                  
                  
                  <li>
                     <p>The preceding rules also apply in situations where the <code class="element">mrow</code> element is inferred.</p>
                     </li>
                  
                  
                  <li>
                     <p>The rules for symmetric stretching only apply if
                        <code class="attribute">symmetric</code>=<code class="attributevalue">true</code> and if the stretching occurs in an <code class="element">mrow</code>
                        or in an <code class="element">mtr</code> whose <code class="attribute">rowalign</code> value is either <code class="attributevalue">baseline</code>
                        or <code class="attributevalue">axis</code>.</p>
                     </li>
                  </ul>
               
               
               <p>The following algorithm specifies the height and depth of vertically stretched characters:
                  </p>
               
               <ol>
                  
                  <li>
                     <p>Let <code>maxheight</code> and <code>maxdepth</code> be the maximum height and depth of the
                        <em>non</em>-stretchy siblings within the same <code class="element">mrow</code> or <code class="element">mtr</code>.
                        Let axis be the height of the math axis above the baseline.</p>
                     
                     <p>Note that even if a <code class="attribute">minsize</code> or <code class="attribute">maxsize</code> value is set on a stretchy operator,
                        it is <em>not</em> used in the initial calculation of the maximum height and depth of an <code class="element">mrow</code>.</p>
                     </li>
                  
                  <li>
                     <p>
                        If <code class="attribute">symmetric</code>=<code class="attributevalue">true</code>, then the computed height
                        and depth of the stretchy operator are:
                        
                        <div class="example algorithm">
                           <pre>
   height=max(maxheight-axis, maxdepth+axis) + axis
   depth =max(maxheight-axis, maxdepth+axis) - axis
</pre>
                        </div>
                        Otherwise the height and depth are:
                        
                        <div class="example algorithm">
                           <pre>
   height= maxheight
   depth = maxdepth
</pre>
                        </div>
                        </p>
                     </li>
                  
                  <li>
                     <p>
                        If the total size = height+depth is less than minsize
                        or greater than maxsize, increase or decrease both
                        height and depth proportionately so that the effective
                        size meets the constraint.
                        </p>
                     </li>
                  </ol>
               
               
               
               
               
               <p>By default, most vertical arrows, along with most opening and closing fences are defined
                  in the operator
                  dictionary to stretch by default.  </p>
               
               
               <p>In the case of a stretchy operator in a table cell (i.e. within an
                  <code class="element">mtd</code> element), the above rules assume each cell of
                  the table row containing the stretchy operator covers exactly one row.
                  (Equivalently, the value of the <code class="attribute">rowspan</code> attribute is
                  assumed to be 1 for all the table cells in the table row, including
                  the cell containing the operator.)  When this is not the case, the
                  operator should only be stretched vertically to cover those table
                  cells that are entirely within the set of table rows that the
                  operator's cell covers. Table cells that extend into rows not covered
                  by the stretchy operator's table cell should be ignored.  See 
                  <a href="#presm_mtdatts"></a> for details about the <code class="attribute">rowspan</code> attribute. 
                  
                  </p>
               </section>
            
            
            <section>
               <h6 id="presm_horiz_stretch_rules">Horizontal Stretching Rules</h6>
               
               <ul>
                  
                  <li>
                     <p>If a stretchy operator, or an embellished stretchy operator,
                        is a direct sub-expression of an <code class="element">munder</code>,
                        <code class="element">mover</code>, or <code class="element">munderover</code> element, 
                        or if it is the sole direct sub-expression of an <code class="element">mtd</code> element in some
                        column of a table (see <code class="element">mtable</code>), then it, or the <code class="element">mo</code> element at its core, should stretch to cover
                        the width of the other direct sub-expressions in the given element (or
                        in the same table column), given the constraints mentioned above.</p>
                     </li>
                  
                  
                  <li>
                     <p>In the case of an embellished stretchy operator, the preceding
                        rule applies to the stretchy operator at its core.</p>
                     </li>
                  
                  </ul>
               
               
               <p>By default, most horizontal arrows and some accents stretch
                  horizontally.</p>
               
               
               <p>In the case of a stretchy operator in a table cell (i.e. within an
                  <code class="element">mtd</code> element), the above rules assume each cell of
                  the table column containing the stretchy operator covers exactly one
                  column.  (Equivalently, the value of the <code class="attribute">columnspan</code>
                  attribute is assumed to be 1 for all the table cells in the table row,
                  including the cell containing the operator.)  When this is not the
                  case, the operator should only be stretched horizontally to cover
                  those table cells that are entirely within the set of table columns
                  that the operator's cell covers. Table cells that extend into columns
                  not covered by the stretchy operator's table cell should be
                  ignored.  See <a href="#presm_mtdatts"></a> for details about the <code class="attribute">rowspan</code> attribute. </p>
               
               
               <p>The rules for horizontal stretching include <code class="element">mtd</code>
                  elements to allow arrows to stretch for use in commutative diagrams
                  laid out using <code class="element">mtable</code>. The rules for the horizontal
                  stretchiness include scripts to make examples such as the following
                  work:
                  
                  <div class="example mathml">
                     <pre>
&lt;mrow&gt;
  &lt;mi&gt; x &lt;/mi&gt;
  &lt;munder&gt;
    &lt;mo&gt; &amp;RightArrow; &lt;/mo&gt;
    &lt;mtext&gt; maps to &lt;/mtext&gt;
  &lt;/munder&gt;
  &lt;mi&gt; y &lt;/mi&gt;
&lt;/mrow&gt;
</pre>
                  </div>
                  </p>
               
               
               <p>This displays as 
                  <img src="image/f3003.gif" alt="x \widearrow{\mathrm{maps~to}} y" align="middle"></img>.</p>
               </section>
            
            
            <section>
               <h6>Rules Common to both Vertical and Horizontal Stretching</h6>
               
               
               <p>If a stretchy operator is not required to stretch (i.e. if it is
                  not in one of the locations mentioned above, or if there are no other
                  expressions whose size it should stretch to match), then it has the
                  standard (unstretched) size determined by the font and current
                  <code class="attribute">mathsize</code>.</p>
               
               
               <p>If a stretchy operator is required to stretch, but all other expressions
                  in the containing element (as described above) are also stretchy,
                  all elements that can stretch should grow to the maximum of the normal
                  unstretched sizes of all elements in the containing object, if they can
                  grow that large. If the value of <code class="attribute">minsize</code> or <code class="attribute">maxsize</code> prevents 
                  <span>that, then the specified</span> (min or max) size is
                  used.</p>
               
               
               <p>For example, in an <code class="element">mrow</code> containing nothing but
                  vertically stretchy operators, each of the operators should stretch to
                  the maximum of all of their normal unstretched sizes, provided no
                  other attributes are set that override this behavior. Of course,
                  limitations in fonts or font rendering may result in the final,
                  stretched sizes being only approximately the same.</p>
               </section>
            </section>
         
         
         <section>
            <h5 id="presm_mo_linebreaks">Examples of Linebreaking</h5> 
            
            <p>The following example demonstrates forced linebreaks and forced alignment:</p>
            
            <div class="example mathml">
               <pre>
 &lt;mrow&gt;
  &lt;mrow&gt;  &lt;mi&gt;f&lt;/mi&gt; &lt;mo&gt;&amp;ApplyFunction;&lt;/mo&gt; &lt;mo&gt;(&lt;/mo&gt; &lt;mi&gt;x&lt;/mi&gt; &lt;mo&gt;)&lt;/mo&gt;  &lt;/mrow&gt;

  &lt;mo id='eq1-equals'&gt;=&lt;/mo&gt;
  &lt;mrow&gt;
   &lt;msup&gt;
    &lt;mrow&gt; &lt;mo&gt;(&lt;/mo&gt; &lt;mrow&gt; &lt;mi&gt;x&lt;/mi&gt; &lt;mo&gt;+&lt;/mo&gt; &lt;mn&gt;1&lt;/mn&gt; &lt;/mrow&gt; &lt;mo&gt;)&lt;/mo&gt; &lt;/mrow&gt;
    &lt;mn&gt;4&lt;/mn&gt;
   &lt;/msup&gt;
   &lt;mo linebreak='newline' linebreakstyle='before'
                     indentalign='id' indenttarget='eq1-equals'&gt;=&lt;/mo&gt;
   &lt;mrow&gt;
    &lt;msup&gt; &lt;mi&gt;x&lt;/mi&gt; &lt;mn&gt;4&lt;/mn&gt; &lt;/msup&gt;
    &lt;mo id='eq1-plus'&gt;+&lt;/mo&gt;
    &lt;mrow&gt;  &lt;mn&gt;4&lt;/mn&gt; &lt;mo&gt;&amp;InvisibleTimes;&lt;/mo&gt; &lt;msup&gt; &lt;mi&gt;x&lt;/mi&gt; &lt;mn&gt;3&lt;/mn&gt; &lt;/msup&gt;  &lt;/mrow&gt;
    &lt;mo&gt;+&lt;/mo&gt;
    &lt;mrow&gt;  &lt;mn&gt;6&lt;/mn&gt; &lt;mo&gt;&amp;InvisibleTimes;&lt;/mo&gt; &lt;msup&gt; &lt;mi&gt;x&lt;/mi&gt; &lt;mn&gt;2&lt;/mn&gt; &lt;/msup&gt;  &lt;/mrow&gt;

    &lt;mo linebreak='newline' linebreakstyle='before'
                      indentalignlast='id' indenttarget='eq1-plus'&gt;+&lt;/mo&gt;
    &lt;mrow&gt;  &lt;mn&gt;4&lt;/mn&gt; &lt;mo&gt;&amp;InvisibleTimes;&lt;/mo&gt; &lt;mi&gt;x&lt;/mi&gt;  &lt;/mrow&gt;
    &lt;mo&gt;+&lt;/mo&gt;
    &lt;mn&gt;1&lt;/mn&gt;
   &lt;/mrow&gt;
  &lt;/mrow&gt;
 &lt;/mrow&gt;
</pre>
            </div>
            
            <p>This displays as </p>
            
            <blockquote>
               <p><img src="image/linebreak-example1.png" alt="example with equal and plus signs aligned"></img></p>
            </blockquote>
            
            <p>Note that because <code class="attribute">indentalignlast</code> defaults to <code class="attributevalue">indentalign</code>,
               in the above example <code class="attribute">indentalign</code> could have been used in place of
               <code class="attribute">indentalignlast</code>.  Also, the specifying <code>linebreakstyle='before'</code>
               is not needed because that is the default value.  </p>
            </section>
         
         </section>
      
      
      <section>
         <h4 id="presm_mtext">Text <code class="defn starttag">&lt;mtext&gt;</code> <a class="coreyes" href="../mathml-core/#mtext">core&#x2714;</a></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p>An <code class="element">mtext</code> element is used to represent
               arbitrary text that should be rendered as itself. In general, the
               <code class="element">mtext</code> element is intended to denote commentary
               text.</p>
            
            
            <p>Note that some text with a clearly defined notational role might be
               more appropriately marked up using <code class="element">mi</code> or
               <code class="element">mo</code>; this is discussed further below.</p>
            
            
            <p>An <code class="element">mtext</code> element can be used to contain
               <span>&#x201c;renderable whitespace&#x201d;</span>, i.e. invisible characters that are
               intended to alter the positioning of surrounding elements. In non-graphical
               media, such characters are intended to have an analogous effect, such as
               introducing positive or negative time delays or affecting rhythm in an
               audio renderer. This is not related to any whitespace in the source MathML
               consisting of blanks, newlines, tabs, or carriage returns; whitespace
               present directly in the source is trimmed and collapsed, as described in
               <a href="#fund_collapse"></a>. Whitespace that is intended to be rendered
               as part of an element's content must be represented by entity references
               or <code class="element">mspace</code> elements
               (unless it consists only of single blanks between non-whitespace
               characters).</p>
            
            </section>
         
         
         <section>
            <h5>Attributes</h5>
            
            <p><code class="element">mtext</code> elements accept the attributes listed in
               <a href="#presm_commatt"></a>.</p>
            
            
            <p>See also the warnings about the legal grouping of <span>&#x201c;space-like elements&#x201d;</span>
               in <a href="#presm_mspace"></a>, and about the use of
               such elements for <span>&#x201c;tweaking&#x201d;</span> in <a href="#presm_warnfinetuning"></a>.</p>
            </section>
         
         
         <section>
            <h5>Examples</h5>
            
            <div class="example mathml">
               <pre>
&lt;mtext&gt; Theorem 1: &lt;/mtext&gt;
&lt;mtext&gt; &amp;ThinSpace; &lt;/mtext&gt;
&lt;mtext&gt; &amp;ThickSpace;&amp;ThickSpace; &lt;/mtext&gt;
&lt;mtext&gt; /* a comment */ &lt;/mtext&gt;
</pre>
            </div>
            </section>
         
         
         <section>
            <h5 id="presm_mixtextmath">Mixing text and mathematics</h5>
            
            
            <p>In some cases, text embedded in mathematics could be more appropriately
               represented using <code class="element">mo</code> or <code class="element">mi</code> elements.
               For example, the expression 'there exists
               <img src="image/f3004.gif" alt="\delta&gt;0" align="middle"></img>
               such that <i class="var">f</i>(<i class="var">x</i>) &lt;1' is equivalent to
               <img src="image/f3005.gif" alt="\exists \delta&gt;0 \backepsilon f(x)&lt;1" align="middle"></img> 
               and could be represented as:
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
  &lt;mo&gt; there exists &lt;/mo&gt;
  &lt;mrow&gt;
    &lt;mrow&gt;
      &lt;mi&gt; &amp;delta; &lt;/mi&gt;
      &lt;mo&gt; &amp;gt; &lt;/mo&gt;
      &lt;mn&gt; 0 &lt;/mn&gt;
    &lt;/mrow&gt;
    &lt;mo&gt; such that &lt;/mo&gt;
    &lt;mrow&gt;
      &lt;mrow&gt;
        &lt;mi&gt; f &lt;/mi&gt;
        &lt;mo&gt; &amp;ApplyFunction; &lt;/mo&gt;
        &lt;mrow&gt;
          &lt;mo&gt; ( &lt;/mo&gt;
          &lt;mi&gt; x &lt;/mi&gt;
          &lt;mo&gt; ) &lt;/mo&gt;
        &lt;/mrow&gt;
      &lt;/mrow&gt;
      &lt;mo&gt; &amp;lt; &lt;/mo&gt;
      &lt;mn&gt; 1 &lt;/mn&gt;
    &lt;/mrow&gt;
  &lt;/mrow&gt;
&lt;/mrow&gt;
</pre>
               </div>
               </p>
            
            
            <p>An example involving an <code class="element">mi</code> element is:
               <i class="var">x</i>+<i class="var">x</i><sup>2</sup>+&#xb7;&#xb7;&#xb7;+<i class="var">x</i><sup><i class="var">n</i></sup>.
               In this example, ellipsis should be represented using an <code class="element">mi</code> element, since it takes the place of a term in the
               sum; (see <a href="#presm_mi"></a>).</p>
            
            
            <p>On the other hand, expository text within MathML is best
               represented with an <code class="element">mtext</code> element. An example
               of this is: 
               <div class="example text">
                  <pre> Theorem 1: if <i class="var">x</i> &gt; 1, then
<i class="var">x</i><sup>2</sup> &gt; <i class="var">x</i>.  </pre>
               </div> However, when MathML is
               embedded in HTML, or another document markup language, the example is
               probably best rendered with only the two inequalities represented as
               MathML at all, letting the text be part of the surrounding HTML.</p>
            
            
            <p>Another factor to consider in deciding how to mark up text is the
               effect on rendering. Text enclosed in an <code class="element">mo</code>
               element is unlikely to be found in a renderer's operator dictionary,
               so it will be rendered with the format and spacing appropriate for an
               <span>&#x201c;unrecognized operator&#x201d;</span>, which may or may not be better than the
               format and spacing for <span>&#x201c;text&#x201d;</span> obtained by using an
               <code class="element">mtext</code> element. An ellipsis entity in an
               <code class="element">mi</code> element is apt to be spaced more appropriately
               for taking the place of a term within a series than if it appeared in
               an <code class="element">mtext</code> element.</p>
            </section>
         </section>
      
      
      <section>
         <h4 id="presm_mspace">Space <code class="defn emptytag">&lt;mspace/&gt;</code> <a class="coreyes" href="../mathml-core/#mspace">core&#x2714;</a></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p>An <code class="element">mspace</code> empty element represents a blank
               space of any desired size, as set by its attributes.  It can also be
               used to make linebreaking suggestions to a visual renderer.
               Note that the default values for attributes have been chosen so that
               they typically will have no effect on rendering.  Thus, the <code class="element">mspace</code> element is generally used with one
               or more attribute values explicitly specified.
               </p>
            
            <p>Note the warning about the legal grouping of <span>&#x201c;space-like
                  elements&#x201d;</span> given below, and the warning about the use of such
               elements for <span>&#x201c;tweaking&#x201d;</span> in <a href="#presm_warnfinetuning"></a>.
               See also the other elements that can render as
               whitespace, namely <code class="element">mtext</code>, <code class="element">mphantom</code>, and
               <code class="element">maligngroup</code>.</p> </section>
         
         
         <section>
            <h5>Attributes</h5>
            
            <p>In addition to the attributes listed below,
               <code class="element">mspace</code> elements accept the attributes described in <a href="#presm_commatt"></a>,
               but note that <code class="attribute">mathvariant</code> and <code class="attribute">mathcolor</code> have no effect and that
               <code class="attribute">mathsize</code> only affects the interpretation of units in sizing
               attributes (see <a href="#fund_units"></a>).
               <span><code class="element">mspace</code> also accepts the indentation attributes described in <a href="#presm_lbindent_attrs"></a>.</span>
               
               </p>
            
            
            <table border="1" class="attributes">
               
               <thead>
                  
                  <tr>
                     
                     <td>Name</td>
                     
                     <td>values</td>
                     
                     <td>default</td>
                     
                     <td>Core</td>
                     </tr>
                  </thead>
               
               <tbody>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">width</td>
                     
                     <td><a class="intref" href="#type_length"><em>length</em></a></td>
                     
                     <td>0em</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies the desired width of the space.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">height</td>
                     
                     <td><a class="intref" href="#type_length"><em>length</em></a></td>
                     
                     <td>0ex</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies the desired height (above the baseline) of the space.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">depth</td>
                     
                     <td><a class="intref" href="#type_length"><em>length</em></a></td>
                     
                     <td>0ex</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies the desired depth (below the baseline) of the space.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">linebreak</td>
                     
                     <td>"auto" | "newline" | "nobreak" | "goodbreak" | "badbreak"</td>
                     
                     <td>auto</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies the desirability of a linebreak at this space.
                        <span>This attribute should be ignored if any dimensional attribute is set.</span>
                        </td>
                     </tr>
                  </tbody>
               </table>
            
            
            <p>Linebreaking was originally specified on <code class="element">mspace</code> in MathML2,
               but controlling linebreaking on <a class="intref" href="#presm_mo"><code class="element">mo</code></a>
               is to be preferred <span> starting with MathML 3.
                  MathML 3 adds new linebreaking attributes only to <code class="element">mo</code>, not <code class="element">mspace</code>.
                  However, because a linebreak can be specified on <code class="element">mspace</code>,
                  control over the indentation that follows that break can be specified using the attributes
                  listed in
                  <a href="#presm_lbindent_attrs"></a></span>.
               </p>
            
            <p>
               The value <code class="attributevalue">indentingnewline</code> was defined in MathML2 for <code class="element">mspace</code>;
               it is now deprecated.  Its meaning is the same as <code class="attribute">newline</code>, which is compatible with its earlier use when no other linebreaking attributes are
               specified.
               Note that <code class="attribute">linebreak</code> values on adjacent <code class="element">mo</code> and <code class="element">mspace</code> elements do
               not interact; a <code class="attributevalue">nobreak</code> on an <code class="element">mspace</code> will
               not, in itself, inhibit a break on an adjacent <code class="element">mo</code> element.
               </p>
            
            
            
            
            <div class="issue" id="missing-char"><span class="head">Missing Character</span>
               
               
               <p>There are two ways that a character value might not be present.
                  The first is that it wasn't part of the MathML.
                  The second is that it was inserted, but the line from the character to the line break
                  was so long
                  that it wrapped and the character ended up on a line prior to the previous line.
                  Is the "Indent" behavior appropriate?</p>
               </div>
            
            
            <div class="issue" id="indent-count"><span class="head">Indent Count</span>
               
               
               <p>Another possible value, which is similar to what Word uses, is specify a number and
                  that number means 'indent to the ith operator on the previous line'. The operator
                  is not specified.</p>
               </div>
            
            
            <div class="issue" id="indent-align"><span class="head">Indent Align</span>
               
               
               <p>Another option is to add a new element (or reuse malignmark) and allow the value "AlignMark"
                  as an indent value. In this case, it would align to the mark in the previous line.</p>
               </div>
            
            
            <div class="issue" id="indent-id"><span class="head">Indent ID</span>
               
               
               <p>Yet another idea is to have indent=id and have an id specified on some element mean
                  the point to be indented to.</p>
               </div>
            </section>
         
         
         <section>
            <h5>Examples</h5>
            
            
            <div class="example mathml-fragment">
               <pre>
&lt;mspace height="3ex" depth="2ex"/&gt;

&lt;mrow&gt;
  &lt;mi&gt;a&lt;/mi&gt;
  &lt;mo id="firstop"&gt;+&lt;/mo&gt;
  &lt;mi&gt;b&lt;/mi&gt;
  &lt;mspace linebreak="newline" indentalign="id" indenttarget="firstop"/&gt;
  &lt;mo&gt;+&lt;/mo&gt;
  &lt;mi&gt;c&lt;/mi&gt;
&lt;/mrow&gt;
</pre>
            </div>
            
            <p>
               In the last example, <code class="element">mspace</code> will cause the line to end after the "b" and the following line to be indented so
               that the "+" that follows will align with the "+" with <code class="attribute">id</code>="firstop".
               </p>
            </section>
         
         
         <section>
            <h5>Definition of space-like elements</h5>
            
            
            <p>A number of MathML presentation elements are <span>&#x201c;space-like&#x201d;</span> in the
               sense that they typically render as whitespace, and do not affect the
               mathematical meaning of the expressions in which they appear. As a
               consequence, these elements often function in somewhat exceptional
               ways in other MathML expressions. For example, space-like elements are
               handled specially in the suggested rendering rules for
               <code class="element">mo</code> given in <a href="#presm_mo"></a>. 
               The following MathML elements are defined to be <span>&#x201c;space-like&#x201d;</span>:
               </p>
            <ul>
               
               <li>
                  <p>an <code class="element">mtext</code>, <code class="element">mspace</code>,
                     <code class="element">maligngroup</code>, or <code class="element">malignmark</code>
                     element;</p> </li>
               
               
               <li>
                  <p>an <code class="element">mstyle</code>, <code class="element">mphantom</code>, or
                     <code class="element">mpadded</code> element, all of whose direct sub-expressions
                     are space-like;</p> </li>
               
               
               <li>
                  <p>a <code class="element">semantics</code> element whose first argument exists
                     and is space-like;</p> </li>
               
               
               <li>
                  <p>an <code class="element">maction</code> element whose selected
                     sub-expression exists and is space-like;</p> </li>
               
               
               <li>
                  <p>an <code class="element">mrow</code> all of whose direct
                     sub-expressions are space-like.</p>
                  </li>
               
               </ul>
            
            
            <p>Note that an <code class="element">mphantom</code> is <em>not</em>
               automatically defined to be space-like, unless its content is
               space-like. This is because operator spacing is affected by whether
               adjacent elements are space-like. Since the
               <code class="element">mphantom</code> element is primarily intended as an aid
               in aligning expressions, operators adjacent to an
               <code class="element">mphantom</code> should behave as if they were adjacent
               to the <em>contents</em> of the <code class="element">mphantom</code>,
               rather than to an equivalently sized area of whitespace.</p>
            </section>
         
         
         <section>
            <h5>Legal grouping of space-like elements</h5>
            
            
            <p>Authors who insert space-like elements or
               <code class="element">mphantom</code> elements into an existing MathML
               expression should note that such elements <em>are</em> counted as
               arguments, in elements that require a specific number of arguments,
               or that interpret different argument positions differently.</p>
            
            
            <p>Therefore, space-like elements inserted into such a MathML element
               should be grouped with a neighboring argument of that element by
               introducing an <code class="element">mrow</code> for that purpose. For example,
               to allow for vertical alignment on the right edge of the base of a
               superscript, the expression
               
               <div class="example mathml-error">
                  <pre>
&lt;msup&gt;
  &lt;mi&gt; x &lt;/mi&gt;
  &lt;malignmark edge="right"/&gt;
  &lt;mn&gt; 2 &lt;/mn&gt;
&lt;/msup&gt;
</pre>
               </div>
               is illegal, because <code class="element">msup</code> must have exactly 2 arguments;
               the correct expression would be:
               
               <div class="example mathml">
                  <pre>
&lt;msup&gt;
  &lt;mrow&gt;
    &lt;mi&gt; x &lt;/mi&gt;
    &lt;malignmark edge="right"/&gt;
  &lt;/mrow&gt;
  &lt;mn&gt; 2 &lt;/mn&gt;
&lt;/msup&gt;
</pre>
               </div>
               </p>
            
            
            <p>See also the warning about <span>&#x201c;tweaking&#x201d;</span> in
               <a href="#presm_warnfinetuning"></a>.</p>
            </section>
         </section>
      
      
      <section>
         <h4 id="presm_ms">String Literal <code class="defn starttag">&lt;ms&gt;</code> <a class="coreyes" href="../mathml-core/#ms">core&#x2714;</a></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p>The <code class="element">ms</code> element is used to represent
               <span>&#x201c;string literals&#x201d;</span> in expressions meant to be interpreted by
               computer algebra systems or other systems containing <span>&#x201c;programming
                  languages&#x201d;</span>. By default, string literals are displayed surrounded by
               double quotes, with no extra spacing added around the string.
               As explained in <a href="#presm_mtext"></a>, ordinary text
               embedded in a mathematical expression should be marked up with <code class="element">mtext</code>,
               or in some cases <code class="element">mo</code> or <code class="element">mi</code>, but never with <code class="element">ms</code>.</p>
            
            
            
            <p>Note that the string literals encoded by <code class="element">ms</code> are <span>made up of characters, <code class="element">mglyph</code>s and
                  <code class="element">malignmark</code>s</span> rather than <span>&#x201c;ASCII
                  strings&#x201d;</span>.  For
               example, <code>&lt;ms&gt;&amp;amp;&lt;/ms&gt;</code> represents a string
               literal containing a single character, <code>&amp;</code>, and
               <code>&lt;ms&gt;&amp;amp;amp;&lt;/ms&gt;</code> represents a string literal
               containing 5 characters, the first one of which is
               <code>&amp;</code>.</p>
            
            
            <p>The content of <code class="element">ms</code> elements should be rendered with visible
               <span>&#x201c;escaping&#x201d;</span> of certain characters in the content,
               including at least <span>the left and right quoting
                  characters</span>, and preferably whitespace other than individual
               space characters. The intent is for the viewer to see that the
               expression is a string literal, and to see exactly which characters
               form its content. For example, <code>&lt;ms&gt;double quote is
                  "&lt;/ms&gt;</code> might be rendered as "double quote is \"".</p>
            
            
            <p>Like all token elements, <code class="element">ms</code> <em>does</em> trim and
               collapse whitespace in its content according to the rules of 
               <a href="#fund_collapse"></a>, so whitespace intended to remain in
               the content should be encoded as described in that section.</p>
            </section>
         
         
         <section>
            <h5>Attributes</h5>
            
            
            <p><code class="element">ms</code> elements accept the attributes listed in
               <a href="#presm_commatt"></a>, and additionally: </p>
            
            <table border="1" class="attributes">
               
               <thead>
                  
                  <tr>
                     
                     <td>Name</td>
                     
                     <td>values</td>
                     
                     <td>default</td>
                     
                     <td>Core</td>
                     </tr>
                  </thead>
               
               <tbody>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">lquote</td>
                     
                     <td><a class="intref" href="#type_string"><em>string</em></a></td>
                     
                     <td><code class="entity">quot</code></td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies the opening quote to enclose the content.
                        (not necessarily &#x2018;left quote&#x2019; in RTL context).
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">rquote</td>
                     
                     <td><a class="intref" href="#type_string"><em>string</em></a></td>
                     
                     <td><code class="entity">quot</code></td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies the closing quote to enclose the content.
                        (not necessarily &#x2018;right quote&#x2019; in RTL context).
                        </td>
                     </tr>
                  </tbody>
               </table>
            
            </section>
         </section>
      
      </section>
   
   
   <section>
      <h3 id="presm_genlayout">General Layout Schemata</h3>
      
      
      <p>Besides tokens there are several families of MathML presentation
         elements. One family of elements deals with various
         <span>&#x201c;scripting&#x201d;</span> notations, such as subscript and
         superscript. Another family is concerned with matrices and tables. The
         remainder of the elements, discussed in this section, describe other basic
         notations such as fractions and radicals, or deal with general functions
         such as setting style properties and error handling.</p>
      
      
      <section>
         <h4 id="presm_mrow">Horizontally Group Sub-Expressions
            <code class="defn starttag">&lt;mrow&gt;</code> <a class="coreyes" href="../mathml-core/#mrow">core&#x2714;</a></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p>An <code class="element">mrow</code> element is used to group together any
               number of sub-expressions, usually consisting of one or more <code class="element">mo</code> elements acting as <span>&#x201c;operators&#x201d;</span> on one
               or more other expressions that are their <span>&#x201c;operands&#x201d;</span>.</p>
            
            
            <p>Several elements automatically treat their arguments as if they were
               contained in an <code class="element">mrow</code> element. See the discussion of
               inferred <code class="element">mrow</code>s in <a href="#presm_reqarg"></a>.
               See also <code class="element">mfenced</code> (<a href="#presm_mfenced"></a>),
               which can effectively form an <code class="element">mrow</code> containing its arguments separated by commas.</p>
            
            
            <p><code class="element">mrow</code> elements are typically rendered visually
               as a horizontal row of their arguments, left to right in the order in
               which the arguments occur<span> within</span> a context with LTR directionality,
               or right to left <span>within a context with RTL directionality</span>.  
               The <code class="attribute">dir</code> attribute can be used to specify 
               the directionality for a specific <code class="element">mrow</code>, otherwise it inherits the
               directionality from the context. For aural agents, the arguments would be
               rendered audibly as a sequence of renderings of
               the arguments. The description in <a href="#presm_mo"></a> of suggested rendering
               rules for <code class="element">mo</code> elements assumes that all horizontal
               spacing between operators and their operands is added by the rendering
               of <code class="element">mo</code> elements (or, more generally, embellished
               operators), not by the rendering of the <code class="element">mrow</code>s
               they are contained in.</p>
            
            
            <p>MathML provides support for both automatic and manual
               linebreaking of  expressions (that is, to break excessively long
               expressions into several lines). All such linebreaks take place
               within <code class="element">mrow</code>s, whether they are explicitly marked up
               in the document, or inferred (See <a href="#presm_inferredmrow"></a>),
               although the control of linebreaking is effected through attributes
               on other elements (See <a href="#presm_linebreaking"></a>).
               </p>
            
            </section>
         
         
         <section>
            <h5>Attributes</h5>
            
            
            <p><code class="element">mrow</code> elements accept the attribute listed below in addition to
               those listed in <a href="#presm_presatt"></a>.</p>
            
            <table border="1" class="attributes">
               
               <thead>
                  
                  <tr>
                     
                     <td>Name</td>
                     
                     <td>values</td>
                     
                     <td>default</td>
                     
                     <td>Core</td>
                     </tr>
                  </thead>
               
               <tbody>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">dir</td>
                     
                     <td>"ltr" | "rtl"</td>
                     
                     <td><em>inherited</em></td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies the overall directionality <code>ltr</code> (Left To Right) or
                        <code>rtl</code> (Right To Left) to use to layout the children of the row.
                        See <a href="#presm_bidi_math"></a> for further discussion.
                        </td>
                     </tr>
                  </tbody>
               </table>
            
            
            </section>
         
         
         <section>
            <h5>Proper grouping of sub-expressions using <code class="starttag">&lt;mrow&gt;</code></h5>
            
            
            <p>Sub-expressions should be grouped by the document author in the same way
               as they are grouped in the mathematical interpretation of the expression;
               that is, according to the underlying <span>&#x201c;syntax tree&#x201d;</span> of the
               expression. Specifically, operators and their mathematical arguments should
               occur in a single <code class="element">mrow</code>; more than one operator
               should occur directly in one <code class="element">mrow</code> only when they
               can be considered (in a syntactic sense) to act together on the interleaved
               arguments, e.g. for a single parenthesized term and its parentheses, for
               chains of relational operators, or for sequences of terms separated by
               <code>+</code> and <code>-</code>. A precise rule is given below.</p>
            
            
            <p>Proper grouping has several purposes: it improves display by
               possibly affecting spacing; it allows for more intelligent
               linebreaking and indentation; and it simplifies possible semantic
               interpretation of presentation elements by computer algebra systems,
               and audio renderers.</p>
            
            
            <p>Although improper grouping will sometimes result in suboptimal
               renderings, and will often make interpretation other than pure visual
               rendering difficult or impossible, any grouping of expressions using
               <code class="element">mrow</code> is allowed in MathML syntax; that is,
               renderers should not assume the rules for proper grouping will be
               followed.</p>
            
            
            <section>
               <h6><code class="starttag">&lt;mrow&gt;</code> of one argument</h6>
               
               
               <p>MathML renderers are required to treat an <code class="element">mrow</code>
                  element containing exactly one argument as equivalent in all ways to
                  the single argument occurring alone, provided there are no attributes
                  on the <code class="element">mrow</code> element. If there are
                  attributes on the <code class="element">mrow</code> element, no
                  requirement of equivalence is imposed. This equivalence condition is
                  intended to simplify the implementation of MathML-generating software
                  such as template-based authoring tools. It directly affects the
                  definitions of embellished operator and space-like element and the
                  rules for determining the default value of the <code class="attribute">form</code>
                  attribute of an <code class="element">mo</code> element;
                  see <a href="#presm_mo"></a> and <a href="#presm_mspace"></a>. See also the discussion of equivalence of MathML
                  expressions in <a href="#interf_genproc"></a>.</p>
               </section>
            
            
            <section>
               <h6>Precise rule for proper grouping</h6>
               
               
               <p>A precise rule for when and how to nest sub-expressions using
                  <code class="element">mrow</code> is especially desirable when generating
                  MathML automatically by conversion from other formats for displayed
                  mathematics, such as T<sub>E</sub>X, which don't always specify how sub-expressions
                  nest. When a precise rule for grouping is desired, the following rule
                  should be used:</p>
               
               
               <p>Two adjacent operators, <span>possibly embellished</span>, possibly separated by operands (i.e. anything
                  other than operators), should occur in the same
                  <code class="element">mrow</code> only when the leading operator has an infix or
                  prefix form (perhaps inferred), the following operator has an infix or
                  postfix form, and the operators have the same priority in the 
                  operator dictionary  (<a href="#oper-dict"></a>).
                  In all other cases, nested <code class="element">mrow</code>s should be used.</p>
               
               
               <p>When forming a nested <code class="element">mrow</code> (during generation
                  of MathML) that includes just one of two successive operators with
                  the forms mentioned above (which mean that either operator could in
                  principle act on the intervening operand or operands), it is necessary
                  to decide which operator acts on those operands directly (or would do
                  so, if they were present). Ideally, this should be determined from the
                  original expression; for example, in conversion from an
                  operator-precedence-based format, it would be the operator with the
                  higher precedence.</p>
               
               
               <p>Note that the above rule has no effect on whether any MathML
                  expression is valid, only on the recommended way of generating MathML
                  from other formats for displayed mathematics or directly from written
                  notation.</p>
               
               
               <p>(Some of the terminology used in stating the above rule <span>in</span> defined
                  in <a href="#presm_mo"></a>.)</p>
               </section>
            </section>
         
         
         <section>
            <h5>Examples</h5>
            
            <p>As an example, 2<i class="var">x</i>+<i class="var">y</i>-<i class="var">z</i>
               should be written as:
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
  &lt;mrow&gt;
    &lt;mn&gt; 2 &lt;/mn&gt;
    &lt;mo&gt; &amp;InvisibleTimes; &lt;/mo&gt;
    &lt;mi&gt; x &lt;/mi&gt;
  &lt;/mrow&gt;
  &lt;mo&gt; + &lt;/mo&gt;
  &lt;mi&gt; y &lt;/mi&gt;
  &lt;mo&gt; - &lt;/mo&gt;
  &lt;mi&gt; z &lt;/mi&gt;
&lt;/mrow&gt;
</pre>
               </div>
               </p>
            
            
            <p>The proper encoding of (<i class="var">x</i>, <i class="var">y</i>) furnishes a less obvious
               example of nesting <code class="element">mrow</code>s:
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
  &lt;mo&gt; ( &lt;/mo&gt;
  &lt;mrow&gt;
    &lt;mi&gt; x &lt;/mi&gt;
    &lt;mo&gt; , &lt;/mo&gt;
    &lt;mi&gt; y &lt;/mi&gt;
  &lt;/mrow&gt;
  &lt;mo&gt; ) &lt;/mo&gt;
&lt;/mrow&gt;
</pre>
               </div>
               </p>
            
            
            <p>In this case, a nested <code class="element">mrow</code> is required inside
               the parentheses, since parentheses and commas, thought of as fence and
               separator <span>&#x201c;operators&#x201d;</span>, do not act together on their arguments.</p>
            </section>
         </section>
      
      
      <section>
         <h4 id="presm_mfrac">Fractions <code class="defn starttag">&lt;mfrac&gt;</code> <a class="coreyes" href="../mathml-core/#mfrac">core&#x2714;</a></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p>The <code class="element">mfrac</code> element is used for fractions. It can
               also be used to mark up fraction-like objects such as binomial coefficients
               and Legendre symbols. The syntax for <code class="element">mfrac</code> is
               
               <div class="example ">
                  <pre>
&lt;mfrac&gt; <em>numerator</em> <em>denominator</em> &lt;/mfrac&gt;
</pre>
               </div>
            </p>
            
            <p>The <code class="element">mfrac</code> element sets <code class="attribute">displaystyle</code> to <code class="attributevalue">false</code>, or if it
               was already false increments <code class="attribute">scriptlevel</code> by 1,
               within <em>numerator</em> and <em>denominator</em>.
               (See <a href="#presm_scriptlevel"></a>.) </p>
            
            </section>
         
         
         <section>
            <h5>Attributes</h5>
            
            
            <p><code class="element">mfrac</code> elements accept the attributes listed below
               in addition to those listed in <a href="#presm_presatt"></a>.
               The fraction line, if any, should be drawn using the color specified by <code class="attribute">mathcolor</code>.</p>
            
            
            
            <table border="1" class="attributes">
               
               <thead>
                  
                  <tr>
                     
                     <td>Name</td>
                     
                     <td>values</td>
                     
                     <td>default</td>
                     
                     <td>Core</td>
                     </tr>
                  </thead>
               
               <tbody>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">linethickness</td>
                     
                     <td> <a class="intref" href="#type_length"><em>length</em></a> | "thin" | "medium" | "thick"</td>
                     
                     <td>medium</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies the thickness of the horizontal <span>&#x201c;fraction bar&#x201d;</span>, or <span>&#x201c;rule&#x201d;</span>
                        The default value is <code class="attributevalue">medium</code>,
                        <code class="attributevalue">thin</code> is thinner, but visible, 
                        <code class="attributevalue">thick</code> is thicker;
                        the exact thickness of these is left up to the rendering agent.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">numalign</td>
                     
                     <td>"left" | "center" | "right"</td>
                     
                     <td>center</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies the alignment of the numerator over the fraction.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">denomalign</td>
                     
                     <td>"left" | "center" | "right"</td>
                     
                     <td>center</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies the alignment of the denominator under the fraction.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">bevelled</td>
                     
                     <td>"true" | "false"</td>
                     
                     <td>false</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies whether the fraction should be displayed in a beveled style
                        (the numerator slightly raised, the denominator slightly lowered
                        and both separated by a slash), rather than "build up" vertically.
                        See below for an example.
                        </td>
                     </tr>
                  </tbody>
               </table>
            
            
            <p>Thicker lines (e.g. <code class="attribute">linethickness</code>="thick") might be used with nested fractions;
               a value of "0" renders without the bar such as for  binomial coefficients.
               These cases are shown below:
               </p>
            <blockquote>
               <p><img src="image/f3007.gif" alt="\binom{a}{b} \quad \genfrac{}{}{1pt}{}{\frac{a}{b}}{\frac{c}{d}}"></img></p>
            </blockquote>
            
            
            <p>An example illustrating the bevelled form is shown below:
               </p>
            <blockquote>
               <p><img src="image/f3008.gif" alt="\frac{1}{x^3 + \frac{x}{3}} = \raisebox{1ex}{$1$}\!        \left/ \!\raisebox{-1ex}{$x^3+\frac{x}{3}$} \right."></img></p>
            </blockquote>
            <p>
               In a RTL directionality context,  the numerator leads (on the right),
               the denominator follows (on the left) and the diagonal line slants upwards going from
               right to left<span> (See <a href="#presm_bidi_math"></a> for clarification)</span>.
               Although this format is an established convention, it is not universally
               followed; for situations where a forward slash is desired in a RTL context,
               alternative markup, such as an <code class="element">mo</code> within an <code class="element">mrow</code> should be used.
               </p>
            
            </section>
         
         
         <section>
            <h5>Examples</h5>
            
            
            <p>The examples shown above can be represented in MathML as:
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
   &lt;mo&gt; ( &lt;/mo&gt;
   &lt;mfrac linethickness="0"&gt;
      &lt;mi&gt; a &lt;/mi&gt;
      &lt;mi&gt; b &lt;/mi&gt;
   &lt;/mfrac&gt;
   &lt;mo&gt; ) &lt;/mo&gt;
&lt;/mrow&gt;
&lt;mfrac linethickness="2<span>00%</span>"&gt;
   &lt;mfrac&gt;
      &lt;mi&gt; a &lt;/mi&gt;
      &lt;mi&gt; b &lt;/mi&gt;
   &lt;/mfrac&gt;
   &lt;mfrac&gt;
      &lt;mi&gt; c &lt;/mi&gt;
      &lt;mi&gt; d &lt;/mi&gt;
   &lt;/mfrac&gt;
&lt;/mfrac&gt;
</pre>
               </div>
               
               
               <div class="example mathml">
                  <pre>
&lt;mfrac&gt;
   &lt;mn&gt; 1 &lt;/mn&gt;
   &lt;mrow&gt;
      &lt;msup&gt;
         &lt;mi&gt; x &lt;/mi&gt;
         &lt;mn&gt; 3 &lt;/mn&gt;
       &lt;/msup&gt;
       &lt;mo&gt; + &lt;/mo&gt;
       &lt;mfrac&gt;
         &lt;mi&gt; x &lt;/mi&gt;
         &lt;mn&gt; 3 &lt;/mn&gt;
       &lt;/mfrac&gt;
   &lt;/mrow&gt;
&lt;/mfrac&gt;
&lt;mo&gt; = &lt;/mo&gt;
&lt;mfrac bevelled="true"&gt;
   &lt;mn&gt; 1 &lt;/mn&gt;
   &lt;mrow&gt;
      &lt;msup&gt;
         &lt;mi&gt; x &lt;/mi&gt;
         &lt;mn&gt; 3 &lt;/mn&gt;
       &lt;/msup&gt;
       &lt;mo&gt; + &lt;/mo&gt;
       &lt;mfrac&gt;
         &lt;mi&gt; x &lt;/mi&gt;
         &lt;mn&gt; 3 &lt;/mn&gt;
       &lt;/mfrac&gt;
   &lt;/mrow&gt;
&lt;/mfrac&gt;
</pre>
               </div>
               
               </p>
            
            
            <p>A more generic example is:
               
               <div class="example mathml">
                  <pre>
&lt;mfrac&gt;
   &lt;mrow&gt;
      &lt;mn&gt; 1 &lt;/mn&gt;
      &lt;mo&gt; + &lt;/mo&gt;
      &lt;msqrt&gt;
         &lt;mn&gt; 5 &lt;/mn&gt;
      &lt;/msqrt&gt;
   &lt;/mrow&gt;
   &lt;mn&gt; 2 &lt;/mn&gt;
&lt;/mfrac&gt;
</pre>
               </div>
               </p>
            </section>
         </section>
      
      
      <section>
         <h4 id="presm_mroot">Radicals <code class="defn starttag">&lt;msqrt&gt;</code> <span class="coreno">core&#x2716;</span>,
            <code class="defn starttag">&lt;mroot&gt;</code> <a class="coreyes" href="../mathml-core/#msqrt">core&#x2714;</a></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p>These elements construct radicals. The <code class="element">msqrt</code> element is
               used for square roots, while the <code class="element">mroot</code> element is used
               to draw radicals with indices, e.g. a cube root. The syntax for these
               elements is:
               
               <div class="example ">
                  <pre>
&lt;msqrt&gt; <em>base</em> &lt;/msqrt&gt;
&lt;mroot&gt; <em>base</em> <em>index</em> &lt;/mroot&gt;
</pre>
               </div>
               </p>
            
            
            <p>The <code class="element">mroot</code> element requires exactly 2 arguments.
               However, <code class="element">msqrt</code> accepts a single argument, possibly
               being an inferred <code class="element">mrow</code> of multiple children; see <a href="#presm_reqarg"></a>.
               The <code class="element">mroot</code> element increments <code class="attribute">scriptlevel</code> by 2,
               and sets <code class="attribute">displaystyle</code> to <code class="attributevalue">false</code>, within
               <em>index</em>, but leaves both attributes unchanged within <em>base</em>. 
               The <code class="element">msqrt</code> element leaves both
               attributes unchanged within its argument.
               (See <a href="#presm_scriptlevel"></a>.)</p>
            
            <p>Note that in a RTL directionality, the surd begins
               on the right, rather than the left, along with the index in the case
               of <code class="element">mroot</code>.</p>
            
            </section>
         
         
         <section>
            <h5>Attributes</h5>
            
            <p><code class="element">msqrt</code> and <code class="element">mroot</code> elements accept the attributes listed in
               <a href="#presm_presatt"></a>.  The surd and overbar should be drawn using the
               color specified by <code class="attribute">mathcolor</code>.</p>
            
            </section>
         </section>
      
      
      <section>
         <h4 id="presm_mstyle">Style Change <code class="defn starttag">&lt;mstyle&gt;</code> <a class="coreyes" href="../mathml-core/#mstyle">core&#x2714;</a></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p>The <code class="element">mstyle</code> element is used to make style
               changes that affect the rendering of its
               contents.  
               <span>Firstly, as a presentation element, it accepts
                  the attributes described in <a href="#presm_presatt"></a>.
                  Additionally, it</span>
               can be given any attribute
               accepted by any other presentation element, except for the
               attributes described below.  
               <span>Finally,</span>
               the <code class="element">mstyle</code> element can be given certain special
               attributes listed in the next subsection.</p> 
            
            
            <p>The <code class="element">mstyle</code> element accepts a single argument,
               possibly being an inferred <code class="element">mrow</code> of multiple children;
               see <a href="#presm_reqarg"></a>.</p>
            
            
            <p>Loosely speaking, the effect of the <code class="element">mstyle</code> element
               is to change the default value of an attribute for the elements it
               contains. Style changes work in one of several ways, depending on 
               the way in which default values are specified for an attribute.
               The cases are:
               </p>
            <ul>
               
               <li>
                  <p>Some attributes, such as <code class="attribute">displaystyle</code> or 
                     <code class="attribute">scriptlevel</code> (explained below), are inherited 
                     from the surrounding context when they are not explicitly set. Specifying
                     such an attribute on an <code class="element">mstyle</code> element sets the
                     value that will be inherited by its child elements. Unless a child element
                     overrides this inherited value, it will pass it on to its children, and
                     they will pass it to their children, and so on. But if a child element does
                     override it, either by an explicit attribute setting or automatically (as
                     is common for <code class="attribute">scriptlevel</code>), the new (overriding)
                     value will be passed on to that element's children, and then to their
                     children, etc, unless it is again overridden.</p>
                  </li>
               
               
               <li>
                  <p>Other attributes, such as <code class="attribute">linethickness</code> on
                     <code class="element">mfrac</code>, have default values that are not normally
                     inherited. That is, if the <code class="attribute">linethickness</code> attribute
                     is not set on the  <code class="element">mfrac</code> element,
                     it will normally use the default value of <code class="attributevalue">1</code>, even if it was
                     contained in a larger <code class="element">mfrac</code> element that set this
                     attribute to a different value. For attributes like this, specifying a
                     value with an <code class="element">mstyle</code> element has the effect of
                     changing the default value for all elements within its scope. The net
                     effect is that setting the attribute value with <code class="element">mstyle</code> propagates the change to all the elements it
                     contains directly or indirectly, except for the individual elements on
                     which the value is overridden. Unlike in the case of inherited attributes,
                     elements that explicitly override this attribute have no effect on this
                     attribute's value in their children.</p>
                  </li>
               
               <li>
                  <p>Another group of attributes, such as <code class="attribute">stretchy</code> and <code class="attribute">form</code>, are
                     computed from operator dictionary information, position in the
                     enclosing <code class="element">mrow</code>, and other similar data.  For
                     these attributes, a value specified by an enclosing <code class="element">mstyle</code> overrides the value that would normally be
                     computed.</p>
                  </li>
               </ul>
            
            
            <p>Note that attribute values inherited from an
               <code class="element">mstyle</code> in any manner affect a <span>descendant</span> element
               in the <code class="element">mstyle</code>'s content only if that attribute is
               not given a value <span>by the descendant element</span>. On any element for
               which the attribute is set explicitly, the value specified  overrides the inherited
               value. The only exception to this
               rule is when the <span>attribute</span> value 
               is documented as
               specifying an incremental change to the value inherited from that
               element's context or rendering environment.</p>
            
            
            <p>Note also that the difference between inherited and non-inherited
               attributes set by <code class="element">mstyle</code>, explained above, only
               matters when the attribute is set on some element within the
               <code class="element">mstyle</code>'s contents that has <span>descendants</span> also
               setting it. Thus it never matters for attributes, such as
               <code class="attribute">mathsize</code>, which can only be set on token elements (or on
               <code class="element">mstyle</code> itself).</p>
            
            
            <p>MathML specifies that when
               the attributes <code class="attribute">height</code>, <code class="attribute">depth</code> or <code class="attribute">width</code>
               are specified on an <code class="element">mstyle</code> element, they apply only to
               <code class="element">mspace</code> elements, and not to the corresponding attributes of
               <code class="element">mglyph</code>, <code class="element">mpadded</code>, or <code class="element">mtable</code>.  Similarly, when
               <code class="attribute">rowalign</code>, <code class="attribute">columnalign</code>, or <code class="attribute">groupalign</code>
               are specified on an <code class="element">mstyle</code> element, they apply only to the
               <code class="element">mtable</code> element, and not the <code class="element">mtr</code>, <code class="element">mlabeledtr</code>,
               <code class="element">mtd</code>, and <code class="element">maligngroup</code> elements.
               When the <code class="attribute">lspace</code> attribute is set with <code class="element">mstyle</code>, it
               applies only to the <code class="element">mo</code> element and not to <code class="element">mpadded</code>.
               To be consistent, the <code class="attribute">voffset</code> attribute of the
               <code class="element">mpadded</code> element can not be set on <code class="element">mstyle</code>.
               When the deprecated <code class="attribute">fontfamily</code> attribute is specified on an
               <code class="element">mstyle</code> element, it does not apply to the <code class="element">mglyph</code> element.
               The deprecated <code class="attribute">index</code> attribute cannot be set on <code class="element">mstyle</code>.
               When the <code class="attribute">align</code> attribute is set with <code class="element">mstyle</code>, it
               applies only to the <code class="element">munder</code>, <code class="element">mover</code>, and <code class="element">munderover</code>
               elements, and not to the <code class="element">mtable</code> and <code class="element">mstack</code> elements.
               The required attributes <code class="attribute">src</code> and <code class="attribute">alt</code> on <code class="element">mglyph</code>,
               and <code class="attribute">actiontype</code> on <code class="element">maction</code>, cannot be set on <code class="element">mstyle</code>.
               </p> 
            
            <p>As a presentation element, <code class="element">mstyle</code> directly accepts
               the <code class="attribute">mathcolor</code> and  <code class="attribute">mathbackground</code> attributes.
               Thus, the <code class="attribute">mathbackground</code> specifies the color to fill the bounding
               box of the <code class="element">mstyle</code> element itself; it does <em>not</em>
               specify the default background color.
               This is an incompatible change from MathML 2, but we feel it is more useful
               and intuitive.  Since the default for <code class="attribute">mathcolor</code> is inherited,
               this is no change in its behaviour.
               </p>
            
            </section>
         
         
         <section>
            <h5 id="presm_mstyle_attrs">Attributes</h5>
            
            
            <p>As stated above, <code class="element">mstyle</code> accepts all
               attributes of all MathML presentation elements which do not have
               required values.  That is, all attributes which have an explicit
               default value or a default value which is inherited or computed are
               accepted by the <code class="element">mstyle</code> element.</p>
            
            
            <p><code class="element">mstyle</code> elements accept the attributes listed in
               <a href="#presm_presatt"></a>.</p>
            
            
            
            <p>Additionally, <code class="element">mstyle</code> can be given the following special
               attributes that are implicitly inherited by every MathML element as
               part of its rendering environment:
               
               <table border="1" class="attributes">
                  
                  <thead>
                     
                     <tr>
                        
                        <td>Name</td>
                        
                        <td>values</td>
                        
                        <td>default</td>
                        
                        <td>Core</td>
                        </tr>
                     </thead>
                  
                  <tbody>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">scriptlevel</td>
                        
                        <td>( "+" | "-" )? <a class="intref" href="#type_unsigned-integer"><em>unsigned-integer</em></a></td>
                        
                        <td><em>inherited</em></td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Changes the <code class="attribute">scriptlevel</code> in effect for the children.
                           When the value is given without a sign, it sets <code class="attribute">scriptlevel</code> to the specified value;
                           when a sign is given, it increments ("+") or decrements ("-") the current value.
                           (Note that large decrements can result in negative values of <code class="attribute">scriptlevel</code>,
                           but these values are considered legal.)
                           See <a href="#presm_scriptlevel"></a>.
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">displaystyle</td>
                        
                        <td>"true" | "false"</td>
                        
                        <td><em>inherited</em></td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Changes the <code class="attribute">displaystyle</code> in effect for the children.
                           See <a href="#presm_scriptlevel"></a>.
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">scriptsizemultiplier</td>
                        
                        <td><a class="intref" href="#type_number"><em>number</em></a></td>
                        
                        <td>0.71</td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies the multiplier to be used to adjust font size due
                           to changes in <code class="attribute">scriptlevel</code>.
                           See <a href="#presm_scriptlevel"></a>.
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">scriptminsize</td>
                        
                        <td><a class="intref" href="#type_length"><em>length</em></a></td>
                        
                        <td>8pt</td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies the minimum font size allowed due to changes in <code class="attribute">scriptlevel</code>.
                           Note that this does not limit the font size due to changes to <code class="attribute">mathsize</code>.
                           See <a href="#presm_scriptlevel"></a>.
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">infixlinebreakstyle</td>
                        
                        <td>"before" | "after" | "duplicate"</td>
                        
                        <td>before</td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies the default linebreakstyle to use for infix operators;
                           see <a href="#presm_lbattrs"></a>
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">decimalpoint</td>
                        
                        <td><a class="intref" href="#type_character"><em>character</em></a></td>
                        
                        <td>.</td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           specifies the character used to determine the alignment point within
                           <a class="intref" href="#presm_mstack"><code class="element">mstack</code></a>
                           and 
                           <a class="intref" href="#presm_mtable"><code class="element">mtable</code></a> columns
                           when the "decimalpoint" value is used to specify the alignment.
                           The default, ".", is the decimal separator used to separate the integral
                           and decimal fractional parts of floating point numbers in many countries.
                           (See <a href="#presm_elementary"></a> and <a href="#presm_malign"></a>).
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </p>
            
            
            <p>If <code class="attribute">scriptlevel</code> is changed incrementally by an
               <code class="element">mstyle</code> element that also sets certain other
               attributes, the overall effect of the changes may depend on the order
               in which they are processed. In such cases, the attributes in the
               following list should be processed in the following order, regardless
               of the order in which they occur in the XML-format attribute list of
               the <code class="element">mstyle</code> start tag:
               <code class="attribute">scriptsizemultiplier</code>, <code class="attribute">scriptminsize</code>,
               <code class="attribute">scriptlevel</code>, <code class="attribute">mathsize</code>.</p>
            
            
            <section>
               <h6>Deprecated Attributes</h6>
               
               <p>MathML2 allowed the binding of <a class="intref" href="#type_namedspace"><em>namedspaces</em></a>
                  to new values.
                  It appears that this capability was never implemented, and is now deprecated;
                  <a class="intref" href="#type_namedspace"><em>namedspaces</em></a> are now considered constants.
                  For backwards compatibility, the following attributes are accepted
                  on the <code class="element">mstyle</code> element, but are expected to have no effect.
                  </p>
               
               <table border="1" class="attributes">
                  
                  <thead>
                     
                     <tr>
                        
                        <td>Name</td>
                        
                        <td>values</td>
                        
                        <td>default</td>
                        </tr>
                     </thead>
                  
                  <tbody>
                     
                     <tr>
                        
                        <td class="attname">veryverythinmathspace</td>
                        
                        <td><a class="intref" href="#type_length"><em>length</em></a></td>
                        
                        <td>0.0555556em</td>
                        </tr>
                     
                     <tr>
                        
                        <td class="attname">verythinmathspace</td>
                        
                        <td><a class="intref" href="#type_length"><em>length</em></a></td>
                        
                        <td>0.111111em</td>
                        </tr>
                     
                     <tr>
                        
                        <td class="attname">thinmathspace</td>
                        
                        <td><a class="intref" href="#type_length"><em>length</em></a></td>
                        
                        <td>0.166667em</td>
                        </tr>
                     
                     <tr>
                        
                        <td class="attname">mediummathspace</td>
                        
                        <td><a class="intref" href="#type_length"><em>length</em></a></td>
                        
                        <td>0.222222em</td>
                        </tr>
                     
                     <tr>
                        
                        <td class="attname">thickmathspace</td>
                        
                        <td><a class="intref" href="#type_length"><em>length</em></a></td>
                        
                        <td>0.277778em</td>
                        </tr>
                     
                     <tr>
                        
                        <td class="attname">verythickmathspace</td>
                        
                        <td><a class="intref" href="#type_length"><em>length</em></a></td>
                        
                        <td>0.333333em</td>
                        </tr>
                     
                     <tr>
                        
                        <td class="attname">veryverythickmathspace</td>
                        
                        <td><a class="intref" href="#type_length"><em>length</em></a></td>
                        
                        <td>0.388889em</td>
                        </tr>
                     </tbody>
                  </table>
               
               </section>
            </section>
         
         
         <section>
            <h5>Examples</h5>
            
            
            <p>The example of limiting the stretchiness of a parenthesis shown in the
               section on &lt;mo&gt;,
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
   &lt;mo maxsize="1<span>00%</span>"&gt; ( &lt;/mo&gt;
   &lt;mfrac&gt; &lt;mi&gt; a &lt;/mi&gt; &lt;mi&gt; b &lt;/mi&gt; &lt;/mfrac&gt;
   &lt;mo maxsize="1<span>00%</span>"&gt; ) &lt;/mo&gt;
&lt;/mrow&gt;
</pre>
               </div>
               </p>
            
            
            <p>can be rewritten using <code class="element">mstyle</code> as:
               
               <div class="example mathml">
                  <pre>
&lt;mstyle maxsize="1<span>00%</span>"&gt;
   &lt;mrow&gt;
      &lt;mo&gt; ( &lt;/mo&gt;
      &lt;mfrac&gt; &lt;mi&gt; a &lt;/mi&gt; &lt;mi&gt; b &lt;/mi&gt; &lt;/mfrac&gt;
      &lt;mo&gt; ) &lt;/mo&gt;
   &lt;/mrow&gt;
&lt;/mstyle&gt;
</pre>
               </div>
               </p>
            </section>
         </section>
      
      
      <section>
         <h4 id="presm_merror">Error Message <code class="defn starttag">&lt;merror&gt;</code> <a class="coreyes" href="../mathml-core/#merror">core&#x2714;</a></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p>The <code class="element">merror</code> element displays its contents as an
               <span>&#x201c;error message&#x201d;</span>. This might be done, for example, by displaying the
               contents in red, flashing the contents, or changing the background
               color. The contents can be any expression or expression sequence.</p>
            
            
            <p><code class="element">merror</code> accepts 
               a single argument possibly being an inferred <code class="element">mrow</code> of multiple children;
               see <a href="#presm_reqarg"></a>.</p>
            
            
            <p>The intent of this element is to provide a standard way for
               programs that <em>generate</em> MathML from other input to report
               syntax errors in their input. Since it is anticipated that
               preprocessors that parse input syntaxes designed for easy hand entry
               will be developed to generate MathML, it is important that they have
               the ability to indicate that a syntax error occurred at a certain
               point. See <a href="#interf_error"></a>.</p>
            
            
            <p>The suggested use of <code class="element">merror</code> for reporting
               syntax errors is for a preprocessor to replace the erroneous part of
               its input with an <code class="element">merror</code> element containing a
               description of the error, while processing the surrounding expressions
               normally as far as possible. By this means, the error message will be
               rendered where the erroneous input would have appeared, had it been
               correct; this makes it easier for an author to determine from the
               rendered output what portion of the input was in error.</p>
            
            
            <p>No specific error message format is suggested here, but as with
               error messages from any program, the format should be designed to make
               as clear as possible (to a human viewer of the rendered error message)
               what was wrong with the input and how it can be fixed. If the
               erroneous input contains correctly formatted subsections, it may be
               useful for these to be preprocessed normally and included in the error
               message (within the contents of the <code class="element">merror</code>
               element), taking advantage of the ability of
               <code class="element">merror</code> to contain arbitrary MathML expressions
               rather than only text.</p>
            </section>
         
         
         <section>
            <h5>Attributes</h5>
            
            
            <p><code class="element">merror</code> elements accept the attributes listed in
               <a href="#presm_presatt"></a>.</p>
            
            
            </section>
         
         
         <section>
            <h5>Example</h5>
            
            
            <p>If a MathML syntax-checking preprocessor
               received the input
               
               <div class="example mathml-error">
                  <pre>
&lt;mfraction&gt;
   &lt;mrow&gt; &lt;mn&gt; 1 &lt;/mn&gt; &lt;mo&gt; + &lt;/mo&gt; &lt;msqrt&gt; &lt;mn&gt; 5 &lt;/mn&gt; &lt;/msqrt&gt; &lt;/mrow&gt;
   &lt;mn&gt; 2 &lt;/mn&gt;
&lt;/mfraction&gt;
</pre>
               </div>
               which contains the non-MathML element <code class="element" data-namespace="mathml-error">mfraction</code>
               (presumably in place of the MathML element <code class="element">mfrac</code>),
               it might generate the error message
               
               <div class="example mathml">
                  <pre>
&lt;merror&gt;
   &lt;mtext&gt; Unrecognized element: mfraction;
           arguments were:  &lt;/mtext&gt;
   &lt;mrow&gt; &lt;mn&gt; 1 &lt;/mn&gt; &lt;mo&gt; + &lt;/mo&gt; &lt;msqrt&gt; &lt;mn&gt; 5 &lt;/mn&gt; &lt;/msqrt&gt; &lt;/mrow&gt;
   &lt;mtext&gt;  and  &lt;/mtext&gt;
   &lt;mn&gt; 2 &lt;/mn&gt;
&lt;/merror&gt;
</pre>
               </div>
               </p>
            
            
            <p>Note that the preprocessor's input is not, in this case, valid MathML,
               but the error message it outputs is valid MathML.</p>
            </section>
         </section>
      
      
      <section>
         <h4 id="presm_mpadded">Adjust Space Around Content
            <code class="defn starttag">&lt;mpadded&gt;</code> <a class="coreyes" href="../mathml-core/#mpadded">core&#x2714;</a></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p>An <code class="element">mpadded</code> element renders the same as its child content,
               but with the size of <span>the child's</span> bounding box and the relative positioning
               point of its content modified according to 
               <span><code class="element">mpadded</code>'s</span> attributes.  It
               does not rescale (stretch or shrink) its content.  The name of the
               element reflects the typical use of <code class="element">mpadded</code> to add padding,
               or extra space, around its content.  However, <code class="element">mpadded</code> can be
               used to make more general adjustments <span>of </span>size and positioning, and some
               combinations, e.g. negative padding, can cause the content of
               <code class="element">mpadded</code> to overlap the rendering of neighboring content.  See
               <a href="#presm_warnfinetuning"></a> for warnings about several
               potential pitfalls of this effect.</p>
            
            
            <p>The <code class="element">mpadded</code> element accepts
               a single argument which may be an inferred <code class="element">mrow</code> of multiple children;
               see <a href="#presm_reqarg"></a>.</p>
            
            
            <p>It is suggested that audio renderers add (or shorten) time delays
               based on the attributes representing horizontal space
               (<code class="attribute">width</code> and <code class="attribute">lspace</code>).</p>
            </section>
         
         
         <section>
            <h5 id="presm_mpaddedatt">Attributes</h5>
            
            <p><code class="element">mpadded</code> elements accept the attributes listed
               below in addition to those specified in <a href="#presm_presatt"></a>.</p>
            
            
            
            <table border="1" class="attributes">
               
               <thead>
                  
                  <tr>
                     
                     <td>Name</td>
                     
                     <td>values</td>
                     
                     <td>default</td>
                     
                     <td>Core</td>
                     </tr>
                  </thead>
               
               <tbody>
                  
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">height</td>
                     
                     <td>( "+" | "-" )?
                        <a class="intref" href="#type_unsigned-number"><em>unsigned-number</em></a>
                        ( ("%"  <em>pseudo-unit</em>?)
                        | <em>pseudo-unit</em>
                        | <a class="intref" href="#type_unit"><em>unit</em></a>
                        | <a class="intref" href="#type_namedspace"><em>namedspace</em></a>
                        )?</td>
                     
                     <td><em>same as content</em></td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Sets or increments the height of the <code class="element">mpadded</code> element.
                        See below for discussion.
                        </td>
                     </tr>
                  
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">depth</td>
                     
                     <td>( "+" | "-" )?
                        <a class="intref" href="#type_unsigned-number"><em>unsigned-number</em></a>
                        (("%"  <em>pseudo-unit</em>?)
                        | <em>pseudo-unit</em>
                        | <a class="intref" href="#type_unit"><em>unit</em></a>
                        | <a class="intref" href="#type_namedspace"><em>namedspace</em></a>
                        )?</td>
                     
                     <td><em>same as content</em></td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Sets or increments the depth of the <code class="element">mpadded</code> element.
                        See below for discussion.
                        </td>
                     </tr>
                  
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">width</td>
                     
                     <td>( "+" | "-" )?
                        <a class="intref" href="#type_unsigned-number"><em>unsigned-number</em></a>
                        ( ("%" <em>pseudo-unit</em>?)
                        | <em>pseudo-unit</em> 
                        | <a class="intref" href="#type_unit"><em>unit</em></a>
                        | <a class="intref" href="#type_namedspace"><em>namedspace</em></a>
                        )?</td>
                     
                     <td><em>same as content</em></td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Sets or increments the width of the <code class="element">mpadded</code> element.
                        See below for discussion.
                        </td>
                     </tr>
                  
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">lspace</td>
                     
                     <td>( "+" | "-" )?
                        <a class="intref" href="#type_unsigned-number"><em>unsigned-number</em></a>
                        ( ("%" <em>pseudo-unit</em>?)
                        | <em>pseudo-unit</em>
                        | <a class="intref" href="#type_unit"><em>unit</em></a>
                        | <a class="intref" href="#type_namedspace"><em>namedspace</em></a>
                        )?</td>
                     
                     <td>0em</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Sets the horizontal position of the child content.
                        See below for discussion.
                        </td>
                     </tr>
                  
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">voffset</td>
                     
                     <td>( "+" | "-" )?
                        <a class="intref" href="#type_unsigned-number"><em>unsigned-number</em></a>
                        ( ("%" <em>pseudo-unit</em>?)
                        | <em>pseudo-unit</em>
                        | <a class="intref" href="#type_unit"><em>unit</em></a>
                        | <a class="intref" href="#type_namedspace"><em>namedspace</em></a>
                        )?</td>
                     
                     <td>0em</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Sets the vertical position of the child content.
                        See below for discussion.
                        </td>
                     </tr>
                  
                  </tbody>
               </table>
            
            
            <p>The <em>pseudo-unit</em> syntax symbol is described below.
               <span>Also, <code class="attribute">height</code>, <code class="attribute">depth</code> and 
                  <code class="attribute">width</code> attributes are
                  referred to as size attributes, while <code class="attribute">lspace</code> and <code class="attribute">voffset</code> attributes 
                  are position attributes.</span></p>
            
            
            <p>These attributes specify the size of the bounding box of the <code class="element">mpadded</code>
               element relative to the size of the bounding box of its child content, and specify
               the position of the child content of the <code class="element">mpadded</code> element relative to the
               natural positioning of the <code class="element">mpadded</code> element.  The typographical
               layout parameters determined by these attributes are described in the next subsection.
               Depending on the form of the attribute value, a dimension may be set to a new value,
               or specified relative to the child content's corresponding dimension.  Values may
               be given as
               multiples or percentages of any of the  
               dimensions of the normal rendering of the child content using so-called pseudo-units,
               or they can be set directly using standard units <a href="#fund_units"></a>.</p>
            
            
            <p>If the value of a size attribute begins with a <code>+</code> or <code>-</code> sign,
               it specifies an <em>increment</em> or <em>decrement</em> to the corresponding
               dimension by the following length value. Otherwise the corresponding
               dimension is set directly to the following length value. 
               Note that since a leading minus sign indicates a decrement, the size
               attributes (<code class="attribute">height</code>, <code class="attribute">depth</code>, <code class="attribute">width</code>) 
               cannot be set directly to negative values.  In addition, specifying a
               decrement that would produce a net negative value for these attributes
               has the same effect as
               setting the attribute to zero.  In other words, the effective
               bounding box of an <code class="element">mpadded</code> element always has non-negative
               dimensions. However, negative values are allowed for the relative positioning
               attributes <code class="attribute">lspace</code> and <code class="attribute">voffset</code>.</p>
            
            
            <p>Length values (excluding any sign) can be specified in several formats.
               Each format begins with an <a class="intref" href="#type_unsigned-number"><em>unsigned-number</em></a>,
               which may be followed by
               a <code>%</code> sign (effectively scaling the number)
               and an optional <em>pseudo-unit</em>,
               by a <em>pseudo-unit</em> alone,
               or by a <a class="intref" href="#type_unit"><em>unit</em></a> (excepting <code>%</code>).
               The possible <em>pseudo-units</em> are the keywords <code>height</code>,
               <code>depth</code>, and <code>width</code>.  They represent the length of the same-named dimension of the
               <code class="element">mpadded</code> element's child content.
               </p>
            
            
            <p>For any of these length formats, the resulting length
               is the product of the number (possibly including the <code>%</code>)
               and the following <em>pseudo-unit</em>, 
               <a class="intref" href="#type_unit"><em>unit</em></a>,
               <a class="intref" href="#type_namedspace"><em>namedspace</em></a>
               or the default value for the attribute if no such unit or space is given.</p>
            
            
            <p>Some examples of attribute formats using pseudo-units (explicit or
               default) are as follows: <code>depth="100%height"</code> and
               <code>depth="1.0height"</code> both set the depth of the
               <code class="element">mpadded</code> element to the height of its content.
               <code>depth="105%"</code> sets the depth to 1.05 times the content's
               depth, and either <code>depth="+100%"</code> or
               <code>depth="200%"</code> sets the depth to twice the content's
               depth.</p>
            
            
            
            <p>The rules given above imply that all of the following attribute
               settings have the same effect, which is to leave the content's
               dimensions unchanged:
               
               <div class="example ">
                  <pre>
&lt;mpadded width="+0em"&gt; ... &lt;/mpadded&gt;
&lt;mpadded width="+0%"&gt; ... &lt;/mpadded&gt;
&lt;mpadded width="-0em"&gt; ... &lt;/mpadded&gt;
&lt;mpadded width="-0height"&gt; ... &lt;/mpadded&gt;
&lt;mpadded width="100%"&gt; ... &lt;/mpadded&gt;
&lt;mpadded width="100%width"&gt; ... &lt;/mpadded&gt;
&lt;mpadded width="1width"&gt; ... &lt;/mpadded&gt;
&lt;mpadded width="1.0width"&gt; ... &lt;/mpadded&gt;
&lt;mpadded&gt; ... &lt;/mpadded&gt;
</pre>
               </div>
               Note that the examples in the Version 2 of the MathML specification showed
               spaces within the attribute values, suggesting that this was the intended format.
               Formally, spaces are not allowed within these values, but implementers may
               wish to ignore such spaces to maximize backward compatibility. 
               </p>
            
            </section>
         
         
         <section>
            <h5>Meanings of <span>size and position</span> attributes</h5>
            
            
            <p>See <a href="#glossary"></a> for definitions of some of the typesetting 
               terms used here.</p>
            
            
            <p>The content of an <code class="element">mpadded</code> element defines a fragment of mathematical 
               notation, such as a character, fraction, or expression, that can be regarded as 
               a single typographical element with a natural positioning point relative to its 
               natural bounding box.</p>
            
            
            <p>The size of the bounding box of an <code class="element">mpadded</code> element is
               defined as the size of the bounding box of its content, except as
               modified by <span>the <code class="element">mpadded</code> element's</span> 
               <code class="attribute">height</code>, <code class="attribute">depth</code>, and
               <code class="attribute">width</code> attributes.  The natural positioning point of the
               child content of the <code class="element">mpadded</code> element is located to coincide
               with the natural positioning point of the <code class="element">mpadded</code> element,
               except as modified by the <code class="attribute">lspace</code> and <code class="attribute">voffset</code>
               attributes.  Thus, the size attributes of <code class="element">mpadded</code> can be used
               to expand or shrink the apparent bounding box of its content, and the
               position attributes of <code class="element">mpadded</code> can be used to move the
               content relative to the bounding box (and hence also neighboring elements).
               Note that MathML doesn't define the precise relationship between "ink",
               bounding boxes and positioning points, which are implementation
               specific.  Thus, absolute values for mpadded attributes may not be
               portable between implementations.
               </p>
            
            
            <p>The <code class="attribute">height</code> attribute specifies the vertical extent of the 
               bounding box of the <code class="element">mpadded</code> element above its baseline.
               Increasing the <code class="attribute">height</code> increases the space between the baseline 
               of the <code class="element">mpadded</code> element and the content above it, and introduces 
               padding above the rendering of the child content.  Decreasing the 
               <code class="attribute">height</code> reduces the space between the baseline of the 
               <code class="element">mpadded</code> element and the content above it, and removes 
               space above the rendering of the child content.  Decreasing the 
               <code class="attribute">height</code> may cause content above the <code class="element">mpadded</code> 
               element to overlap the rendering of the child content, and should 
               generally be avoided.</p>
            
            
            <p>The <code class="attribute">depth</code> attribute specifies the vertical extent of the 
               bounding box of the <code class="element">mpadded</code> element below its baseline.
               Increasing the <code class="attribute">depth</code> increases the space between the baseline 
               of the <code class="element">mpadded</code> element and the content below it, and introduces 
               padding below the rendering of the child content.  Decreasing the 
               <code class="attribute">depth</code> reduces the space between the baseline of the <code class="element">mpadded</code> 
               element and the content below it, and removes space below the rendering 
               of the child content.  Decreasing the <code class="attribute">depth</code> may cause content 
               below the <code class="element">mpadded</code> element to overlap the rendering of the child 
               content, and should generally be avoided.</p>
            
            
            <p>The <code class="attribute">width</code> attribute specifies the horizontal distance 
               between the positioning point of the <code class="element">mpadded</code> element and the 
               positioning point of the following content.
               Increasing the <code class="attribute">width</code> increases the space between the 
               positioning point of the <code class="element">mpadded</code> element and the content 
               that follows it, and introduces padding after the rendering of the 
               child content.  Decreasing the <code class="attribute">width</code> reduces the space 
               between the positioning point of the <code class="element">mpadded</code> element and 
               the content that follows it, and removes space after the rendering 
               of the child content.  Setting the <code class="attribute">width</code> to zero causes 
               following content to be positioned at the positioning point of the 
               <code class="element">mpadded</code> element.  Decreasing the <code class="attribute">width</code> should 
               generally be avoided, as it may cause overprinting of the following 
               content.</p>
            
            
            <p>The <code class="attribute">lspace</code> attribute <span>("leading" space; 
                  see <a href="#presm_bidi_math"></a>)</span> specifies the horizontal 
               location of the positioning point of the child content with respect to 
               the positioning point of the <code class="element">mpadded</code> element.  By default they 
               coincide, and therefore absolute values for lspace have the same effect 
               as relative values.
               Positive values for the <code class="attribute">lspace</code> attribute increase the space 
               between the preceding content and the child content, and introduce padding 
               before the rendering of the child content.  Negative values for the 
               <code class="attribute">lspace</code> attributes reduce the space between the preceding 
               content and the child content, and may cause overprinting of the 
               preceding content, and should generally be avoided.  Note that the 
               <code class="attribute">lspace</code> attribute does not affect the <code class="attribute">width</code> of 
               the <code class="element">mpadded</code> element, and so the <code class="attribute">lspace</code> attribute 
               will also affect the space between the child content and following 
               content, and may cause overprinting of the following content, unless 
               the <code class="attribute">width</code> is adjusted accordingly.</p>
            
            
            
            <p>The <code class="attribute">voffset</code> attribute specifies the vertical location 
               of the positioning point of the child content with respect to the 
               positioning point of the <code class="element">mpadded</code> element.  Positive values 
               for the <code class="attribute">voffset</code> attribute raise the rendering of the child 
               content above the baseline.  Negative values for the <code class="attribute">voffset</code> 
               attribute lower the rendering of the child content below the baseline.  
               In either case, the <code class="attribute">voffset</code> attribute may cause overprinting 
               of neighboring content, which should generally be avoided.  Note that t
               he <code class="attribute">voffset</code> attribute does not affect the <code class="attribute">height</code> 
               or <code class="attribute">depth</code> of the <code class="element">mpadded</code> element, and so the <code class="attribute">voffset</code> 
               attribute will also affect the space between the child content and neighboring 
               content, and may cause overprinting of the neighboring content, unless the 
               <code class="attribute">height</code> or <code class="attribute">depth</code> is adjusted accordingly.</p>
            
            
            <p>MathML renderers should ensure that, except for the effects of the 
               attributes, the relative spacing between the contents of the 
               <code class="element">mpadded</code> element and surrounding MathML elements would 
               not be modified by replacing an <code class="element">mpadded</code> element with an 
               <code class="element">mrow</code> element with the same content, even if linebreaking 
               occurs within the <code class="element">mpadded</code> element.  MathML does not define 
               how non-default attribute values of an <code class="element">mpadded</code> element interact 
               with the linebreaking algorithm.</p>
            
            
            <div class="issue" id="mpadded-examples"><span class="head"><code class="element">mpadded</code> examples</span>
               
               
               <p>One or more illustrated examples should be included.</p>
               </div>
            
            
            <p>The effects of the size and position attributes are illustrated
               below. The following diagram illustrates the use of <code class="attribute">lspace</code>
               and <code class="attribute">voffset</code> to shift the position of child content without
               modifying the <code class="element">mpadded</code> bounding box.</p>
            
            
            <blockquote>
               <p><img src="image/mpadded-shift.png" alt="illustration of the use of mpadded to shift the position of child content without modifying the bounding box"></img></p>
            </blockquote>
            
            
            
            <p>The corresponding MathML is:
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
  &lt;mi&gt;x&lt;/mi&gt;
  &lt;mpadded lspace="0.2em" voffset="0.3ex"&gt;
    &lt;mi&gt;y&lt;/mi&gt;
  &lt;/mpadded&gt;
  &lt;mi&gt;z&lt;/mi&gt;
&lt;/mrow&gt;
</pre>
               </div>
               </p>
            
            <p>The next diagram illustrates the use of 
               <code class="attribute">width</code>, <code class="attribute">height</code> and <code class="attribute">depth</code> 
               to modifying the <code class="element">mpadded</code> bounding box without changing the relative position 
               of the child content. </p>
            
            
            <blockquote>
               <p><img src="image/mpadded-resize.png" alt="illustration of the use of mpadded to modifying its bounding box without shifting the relative location of its child content"></img></p>
            </blockquote>
            
            
            <p>The corresponding MathML is:
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
  &lt;mi&gt;x&lt;/mi&gt;
  &lt;mpadded width="+90%width" height="+0.3ex" depth="+0.3ex"&gt;
    &lt;mi&gt;y&lt;/mi&gt;
  &lt;/mpadded&gt;
  &lt;mi&gt;z&lt;/mi&gt;
&lt;/mrow&gt;
</pre>
               </div>
               </p>
            
            
            <p>The final diagram illustrates the generic use of <code class="element">mpadded</code> to modify both 
               the bounding box and relative position of child content.</p>
            
            
            <blockquote>
               <p><img src="image/mpadded-combined.png" alt="illustration of the use of mpadded to modify both the bounding box size and position of child content"></img></p>
            </blockquote>
            
            
            <p>The corresponding MathML is:
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
  &lt;mi&gt;x&lt;/mi&gt;
  &lt;mpadded lspace="0.3em" width="+0.6em"&gt;
    &lt;mi&gt;y&lt;/mi&gt;
  &lt;/mpadded&gt;
  &lt;mi&gt;z&lt;/mi&gt;
&lt;/mrow&gt;
</pre>
               </div>
               </p>
            </section>
         
         </section>
      
      
      <section>
         <h4 id="presm_mphantom">Making Sub-Expressions Invisible <code class="defn starttag">&lt;mphantom&gt;</code> <a class="coreyes" href="../mathml-core/#mphantom">core&#x2714;</a></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p>The <code class="element">mphantom</code> element renders invisibly, but
               with the same size and other dimensions, including baseline position,
               that its contents would have if they were rendered
               normally. <code class="element">mphantom</code> can be used to align parts of
               an expression by invisibly duplicating sub-expressions.</p>
            
            
            <p>The <code class="element">mphantom</code> element accepts
               a single argument possibly being an inferred <code class="element">mrow</code> of multiple children;
               see <a href="#presm_reqarg"></a>.</p>
            
            
            <p>Note that it is possible to wrap both an
               <code class="element">mphantom</code> and an <code class="element">mpadded</code>
               element around one MathML expression, as in
               <code>&lt;mphantom&gt;&lt;mpadded attribute-settings&gt;
                  ... &lt;/mpadded&gt;&lt;/mphantom&gt;</code>, to change its size and make it
               invisible at the same time.</p>
            
            
            <p>MathML renderers should ensure that the relative spacing between
               the contents of an <code class="element">mphantom</code> element and the
               surrounding MathML elements is the same as it would be if the
               <code class="element">mphantom</code> element were replaced by an
               <code class="element">mrow</code> element with the same content. This holds
               even if linebreaking occurs within the <code class="element">mphantom</code>
               element.</p>
            
            
            <p>For the above reason, <code class="element">mphantom</code> is
               <em>not</em> considered space-like (<a href="#presm_mspace"></a>) unless its
               content is space-like, since the suggested rendering rules for
               operators are affected by whether nearby elements are space-like.  Even
               so, the warning about the legal grouping of space-like elements may
               apply to uses of <code class="element">mphantom</code>.</p>
            </section>
         
         
         <section>
            <h5>Attributes</h5>
            
            
            <p><code class="element">mphantom</code> elements accept the attributes listed in
               <a href="#presm_presatt"></a> (the <code class="attribute">mathcolor</code> has no effect).</p>
            
            </section>
         
         
         <section>
            <h5>Examples</h5>
            
            <p>There is one situation where the preceding rules for rendering an
               <code class="element">mphantom</code> may not give the desired effect. When an
               <code class="element">mphantom</code> is wrapped around a subsequence of the
               arguments of an <code class="element">mrow</code>, the default determination
               of the <code class="attribute">form</code> attribute for an <code class="element">mo</code>
               element within the subsequence can change. (See the default value of
               the <code class="attribute">form</code> attribute described in <a href="#presm_mo"></a>.) It may be
               necessary to add an explicit <code class="attribute">form</code> attribute to such an
               <code class="element">mo</code> in these cases. This is illustrated in the
               following example.</p>
            
            
            <p>In this example, <code class="element">mphantom</code> is used to ensure
               alignment of corresponding parts of the numerator and denominator of a
               fraction:
               
               <div class="example mathml">
                  <pre>
&lt;mfrac&gt;
  &lt;mrow&gt;
    &lt;mi&gt; x &lt;/mi&gt;
    &lt;mo&gt; + &lt;/mo&gt;
    &lt;mi&gt; y &lt;/mi&gt;
    &lt;mo&gt; + &lt;/mo&gt;
    &lt;mi&gt; z &lt;/mi&gt;
  &lt;/mrow&gt;
  &lt;mrow&gt;
    &lt;mi&gt; x &lt;/mi&gt;
    &lt;mphantom&gt;
      &lt;mo form="infix"&gt; + &lt;/mo&gt;
      &lt;mi&gt; y &lt;/mi&gt;
    &lt;/mphantom&gt;
    &lt;mo&gt; + &lt;/mo&gt;
    &lt;mi&gt; z &lt;/mi&gt;
  &lt;/mrow&gt;
&lt;/mfrac&gt;
</pre>
               </div>
               </p>
            
            
            <p>This would render as something like
               </p>
            <blockquote>
               <p><img src="image/mphantom.gif" alt="\frac{x+y+x}{x\phantom{{}+y}+z}"></img></p>
            </blockquote>
            <p>
               rather than as
               </p>
            <blockquote>
               <p><img src="image/mphantom-bad.gif" alt="\frac{x+y+z}{x+z}"></img></p>
            </blockquote>
            
            
            <p>The explicit attribute setting <code class="attribute">form</code><code>="infix"</code> on the
               <code class="element">mo</code> element inside the <code class="element">mphantom</code> sets the
               <code class="attribute">form</code> attribute to what it would have been in the absence of the
               surrounding <code class="element">mphantom</code>. This is necessary since
               otherwise, the <code>+</code> sign would be interpreted as a prefix
               operator, which might have slightly different spacing.</p>
            
            
            <p>Alternatively, this problem could be avoided without any explicit
               attribute settings, by wrapping each of the arguments
               <code>&lt;mo&gt;+&lt;/mo&gt;</code> and <code>&lt;mi&gt;y&lt;/mi&gt;</code> in its
               own <code class="element">mphantom</code> element, i.e.
               
               <div class="example mathml">
                  <pre>
&lt;mfrac&gt;
   &lt;mrow&gt;
      &lt;mi&gt; x &lt;/mi&gt;
      &lt;mo&gt; + &lt;/mo&gt;
      &lt;mi&gt; y &lt;/mi&gt;
      &lt;mo&gt; + &lt;/mo&gt;
      &lt;mi&gt; z &lt;/mi&gt;
   &lt;/mrow&gt;
   &lt;mrow&gt;
      &lt;mi&gt; x &lt;/mi&gt;
      &lt;mphantom&gt;
         &lt;mo&gt; + &lt;/mo&gt;
      &lt;/mphantom&gt;
      &lt;mphantom&gt;
         &lt;mi&gt; y &lt;/mi&gt;
      &lt;/mphantom&gt;
      &lt;mo&gt; + &lt;/mo&gt;
      &lt;mi&gt; z &lt;/mi&gt;
   &lt;/mrow&gt;
&lt;/mfrac&gt;
</pre>
               </div>
               </p>
            </section>
         </section>
      
      
      <section>
         <h4 id="presm_mfenced">Expression Inside Pair of Fences
            <code class="defn starttag">&lt;mfenced&gt;</code> <a class="coreyes" href="../mathml-core/#mfenced">core&#x2714;</a></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p>The <code class="element">mfenced</code> element provides a convenient form
               in which to express common constructs involving fences (i.e. braces,
               brackets, and parentheses), possibly including separators (such as
               comma) between the arguments.</p>
            
            
            <p>For example, <code>&lt;mfenced&gt; &lt;mi&gt;x&lt;/mi&gt; &lt;/mfenced&gt;</code>
               renders as <span>&#x201c;(<i class="var">x</i>)&#x201d;</span> and is equivalent to
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt; &lt;mo&gt; ( &lt;/mo&gt; &lt;mi&gt;x&lt;/mi&gt; &lt;mo&gt; ) &lt;/mo&gt; &lt;/mrow&gt;
</pre>
               </div>
               and
               <code>&lt;mfenced&gt; &lt;mi&gt;x&lt;/mi&gt; &lt;mi&gt;y&lt;/mi&gt; &lt;/mfenced&gt;</code>
               renders as <span>&#x201c;(<i class="var">x</i>, <i class="var">y</i>)&#x201d;</span>
               and is equivalent to
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
  &lt;mo&gt; ( &lt;/mo&gt;
  &lt;mrow&gt; &lt;mi&gt;x&lt;/mi&gt; &lt;mo&gt;,&lt;/mo&gt; &lt;mi&gt;y&lt;/mi&gt; &lt;/mrow&gt;
  &lt;mo&gt; ) &lt;/mo&gt;
&lt;/mrow&gt;
</pre>
               </div>
               </p>
            
            
            <p>Individual fences or separators are represented using
               <code class="element">mo</code> elements, as described in <a href="#presm_mo"></a>. Thus, any <code class="element">mfenced</code>
               element is completely equivalent to an expanded form described below;
               either form can be used in MathML, at the convenience of an author or
               of a MathML-generating program. A MathML renderer is required to
               render either of these forms in exactly the same way.</p>
            
            
            <p>In general, an <code class="element">mfenced</code> element can contain
               zero or more arguments, and will enclose them between fences in an
               <code class="element">mrow</code>; if there is more than one argument, it will
               insert separators between adjacent arguments, using an additional
               nested <code class="element">mrow</code> around the arguments and separators
               for proper grouping (<a href="#presm_mrow"></a>). The general expanded form is
               shown below. The fences and separators will be parentheses and comma
               by default, but can be changed using attributes, as shown in the
               following table.</p>
            </section>
         
         
         <section>
            <h5>Attributes</h5>
            
            <p><code class="element">mfenced</code> elements accept the attributes listed
               below in addition to those specified in <a href="#presm_presatt"></a>.
               The delimiters and separators should be drawn using the color specified by <code class="attribute">mathcolor</code>.</p>
            
            
            
            <table border="1" class="attributes">
               
               <thead>
                  
                  <tr>
                     
                     <td>Name</td>
                     
                     <td>values</td>
                     
                     <td>default</td>
                     
                     <td>Core</td>
                     </tr>
                  </thead>
               
               <tbody>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">open</td>
                     
                     <td><a class="intref" href="#type_string"><em>string</em></a></td>
                     
                     <td>(</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies the opening delimiter.
                        Since it is used as the content of an <code class="element">mo</code> element, any whitespace
                        will be trimmed and collapsed as described in <a href="#fund_collapse"></a>.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">close</td>
                     
                     <td><a class="intref" href="#type_string"><em>string</em></a></td>
                     
                     <td>)</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies the closing delimiter.
                        Since it is used as the content of an <code class="element">mo</code> element, any whitespace
                        will be trimmed and collapsed as described in <a href="#fund_collapse"></a>.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">separators</td>
                     
                     <td><a class="intref" href="#type_string"><em>string</em></a></td>
                     
                     <td>,</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies a sequence of zero or more separator characters, optionally separated by
                        whitespace.
                        Each pair of arguments is displayed separated by the corresponding separator
                        (none appears after the last argument).
                        If there are too many separators, the excess are ignored;
                        if there are too few, the last separator is repeated.
                        Any whitespace within <code class="attribute">separators</code> is ignored.
                        </td>
                     </tr>
                  </tbody>
               </table>
            
            
            <p>A generic <code class="element">mfenced</code> element, with all attributes
               explicit, looks as follows:
               
               <div class="example ">
                  <pre>
&lt;mfenced open="opening-fence"
         close="closing-fence"
         separators="sep#1 sep#2 ... sep#(n-1)" &gt;
   arg#1
   ...
   arg#n
&lt;/mfenced&gt;
</pre>
               </div>
               </p>
            
            
            <p>In <span>an</span> RTL directionality context, since the initial text
               direction is RTL, characters in the <code class="attribute">open</code> and <code class="attribute">close</code>
               attributes that have a mirroring counterpart will be rendered in that
               mirrored form.  In particular, the default values will render correctly
               as a parenthesized sequence in both LTR and RTL contexts.</p>
            
            
            
            <p>The general <code class="element">mfenced</code> element shown above is
               equivalent to the following expanded form:
               
               <div class="example ">
                  <pre>
&lt;mrow&gt;
   &lt;mo fence="true"&gt; opening-fence &lt;/mo&gt;
   &lt;mrow&gt;
      arg#1
      &lt;mo separator="true"&gt; sep#1 &lt;/mo&gt;
      ...
      &lt;mo separator="true"&gt; sep#(n-1) &lt;/mo&gt;
      arg#n
   &lt;/mrow&gt;
   &lt;mo fence="true"&gt; closing-fence &lt;/mo&gt;
&lt;/mrow&gt;
</pre>
               </div>
               </p>
            
            
            <p>Each argument except the last is followed by a separator. The inner
               <code class="element">mrow</code> is added for proper grouping, as described in
               <a href="#presm_mrow"></a>.</p>
            
            
            <p>When there is only one argument, the above form has no separators;
               since <code>&lt;mrow&gt; arg#1 &lt;/mrow&gt;</code> is equivalent to
               <code>arg#1</code> (as described in <a href="#presm_mrow"></a>), this case is also equivalent to:
               
               <div class="example ">
                  <pre>
&lt;mrow&gt;
   &lt;mo fence="true"&gt; opening-fence &lt;/mo&gt;
   arg#1
   &lt;mo fence="true"&gt; closing-fence &lt;/mo&gt;
&lt;/mrow&gt;
</pre>
               </div>
               </p>
            
            
            <p>If there are too many separator characters, the extra ones are
               ignored. If separator characters are given, but there are too few, the
               last one is repeated as necessary. Thus, the default value of
               <code class="attribute">separators</code>="," is equivalent to
               <code class="attribute">separators</code>=",,", <code class="attribute">separators</code>=",,,", etc. If
               there are no separator characters provided but some are needed, for
               example if <code class="attribute">separators</code>=" " or "" and there is more than
               one argument, then no separator elements are inserted at all &#x2014; that
               is, the elements <code>&lt;mo separator="true"&gt; sep#i
                  &lt;/mo&gt;</code> are left out entirely. Note that this is different
               from inserting separators consisting of <code class="element">mo</code>
               elements with empty content.</p>
            
            
            <p>Finally, for the case with no arguments, i.e.
               
               <div class="example ">
                  <pre>
&lt;mfenced open="opening-fence"
         close="closing-fence"
         separators="anything" &gt;
&lt;/mfenced&gt;
</pre>
               </div>
               the equivalent expanded form is defined to include just
               the fences within an <code class="element">mrow</code>:
               
               <div class="example ">
                  <pre>
&lt;mrow&gt;
   &lt;mo fence="true"&gt; opening-fence &lt;/mo&gt;
   &lt;mo fence="true"&gt; closing-fence &lt;/mo&gt;
&lt;/mrow&gt;
</pre>
               </div>
               </p>
            
            
            <p>Note that not all <span>&#x201c;fenced expressions&#x201d;</span> can be encoded by an
               <code class="element">mfenced</code> element. Such exceptional expressions
               include those with an <span>&#x201c;embellished&#x201d;</span> separator or fence or one
               enclosed in an <code class="element">mstyle</code> element, a missing or extra
               separator or fence, or a separator with multiple content
               characters. In these cases, it is necessary to encode the expression
               using an appropriately modified version of an expanded form. As
               discussed above, it is always permissible to use the expanded form
               directly, even when it is not necessary. In particular, authors cannot
               be guaranteed that MathML preprocessors won't replace occurrences of
               <code class="element">mfenced</code> with equivalent expanded forms.</p>
            
            
            <p>Note that the equivalent expanded forms shown above include
               attributes on the <code class="element">mo</code> elements that identify them as fences or
               separators. Since the most common choices of fences and separators
               already occur in the operator dictionary with those attributes,
               authors would not normally need to specify those attributes explicitly
               when using the expanded form directly. Also, the rules for the default
               <code class="attribute">form</code> attribute (<a href="#presm_mo"></a>) cause the
               opening and closing fences to be effectively given the values
               <code class="attribute">form</code><code>="prefix"</code> and
               <code class="attribute">form</code><code>="postfix"</code> respectively, and the
               separators to be given the value
               <code class="attribute">form</code><code>="infix"</code>.</p>
            
            
            <p>Note that it would be incorrect to use <code class="element">mfenced</code>
               with a separator of, for instance, <span>&#x201c;+&#x201d;</span>, as an abbreviation for an
               expression using <span>&#x201c;+&#x201d;</span> as an ordinary operator, e.g.
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
  &lt;mi&gt;x&lt;/mi&gt; &lt;mo&gt;+&lt;/mo&gt; &lt;mi&gt;y&lt;/mi&gt; &lt;mo&gt;+&lt;/mo&gt; &lt;mi&gt;z&lt;/mi&gt;
&lt;/mrow&gt;
</pre>
               </div>
               This is because the <code>+</code> signs would be treated as separators,
               not infix operators. That is, it would render as if they were marked up as
               <code>&lt;mo separator="true"&gt;+&lt;/mo&gt;</code>, which might therefore
               render inappropriately.</p>
            </section>
         
         
         <section>
            <h5>Examples</h5>
            
            
            <p>(<i class="var">a</i>+<i class="var">b</i>)
               
               <div class="example mathml">
                  <pre>
&lt;mfenced&gt;
  &lt;mrow&gt;
    &lt;mi&gt; a &lt;/mi&gt;
    &lt;mo&gt; + &lt;/mo&gt;
    &lt;mi&gt; b &lt;/mi&gt;
  &lt;/mrow&gt;
&lt;/mfenced&gt;
</pre>
               </div>
               </p>
            
            
            <p>Note that the above <code class="element">mrow</code> is necessary so that
               the <code class="element">mfenced</code> has just one argument. Without it, this
               would render incorrectly as <span>&#x201c;(<i class="var">a</i>, +,
                  <i class="var">b</i>)&#x201d;</span>.</p>
            
            
            <p>[0,1)
               
               <div class="example mathml">
                  <pre>
&lt;mfenced open="["&gt;
  &lt;mn&gt; 0 &lt;/mn&gt;
  &lt;mn&gt; 1 &lt;/mn&gt;
&lt;/mfenced&gt;
</pre>
               </div>
               </p>
            
            
            <p><i class="var">f</i>(<i class="var">x</i>,<i class="var">y</i>)
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
  &lt;mi&gt; f &lt;/mi&gt;
  &lt;mo&gt; &amp;ApplyFunction; &lt;/mo&gt;
  &lt;mfenced&gt;
    &lt;mi&gt; x &lt;/mi&gt;
    &lt;mi&gt; y &lt;/mi&gt;
  &lt;/mfenced&gt;
&lt;/mrow&gt;
</pre>
               </div>
               </p>
            </section>
         </section>
      
      
      <section>
         <h4 id="presm_menclose">Enclose Expression Inside Notation
            <code class="defn starttag">&lt;menclose&gt;</code> <a class="coreyes" href="../mathml-core/#menclose">core&#x2714;</a></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p>The <code class="element">menclose</code> element renders its content
               inside the enclosing notation specified by its <code class="attribute">notation</code> attribute. 
               <code class="element">menclose</code> accepts 
               a single argument possibly being an inferred <code class="element">mrow</code> of multiple children;
               see <a href="#presm_reqarg"></a>.</p>
            </section>
         
         
         <section>
            <h5>Attributes</h5>
            
            <p><code class="element">menclose</code> elements accept the attributes listed
               below in addition to those specified in <a href="#presm_presatt"></a>.
               The notations should be drawn using the color specified by <code class="attribute">mathcolor</code>.</p>
            
            
            <p>
               The values allowed for <code class="attribute">notation</code> are open-ended.
               Conforming renderers may ignore any value they do not handle, although
               renderers are encouraged to render as many of the values listed below as
               possible.
               </p>
            
            
            <table border="1" class="attributes">
               
               <thead>
                  
                  <tr>
                     
                     <td>Name</td>
                     
                     <td>values</td>
                     
                     <td>default</td>
                     
                     <td>Core</td>
                     </tr>
                  </thead>
               
               <tbody>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">notation</td>
                     
                     <td>(<code class="attributevalue">longdiv</code> | <code class="attributevalue">actuarial</code> | <code class="attributevalue">phasorangle</code> | <code class="attributevalue">radical</code> | <code class="attributevalue">box</code> | <code class="attributevalue">roundedbox</code> | <code class="attributevalue">circle</code> |
                        <code class="attributevalue">left</code> | <code class="attributevalue">right</code> | <code class="attributevalue">top</code> | <code class="attributevalue">bottom</code> |
                        <code class="attributevalue">updiagonalstrike</code> | <code class="attributevalue">downdiagonalstrike</code> | <code class="attributevalue">verticalstrike</code> | <code class="attributevalue">horizontalstrike</code> | <code class="attributevalue">northeastarrow</code>
                        | <code class="attributevalue">madruwb</code> | text) + 
                        </td>
                     
                     <td>longdiv</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies a space separated list of notations to be used to enclose the children.
                        See below for a description of each type of notation.
                        </td>
                     </tr>
                  </tbody>
               </table>
            
            
            <p>Any number of values can be given for
               <code class="attribute">notation</code> separated by whitespace; all of those given and
               understood by a MathML renderer should be rendered.
               Each should be rendered as if the others were not present; they should not nest one
               inside of the other.  For example,
               <code class="attribute">notation</code>=<code class="attributevalue">circle box</code> should
               result in circle and a box around the contents of <code class="element">menclose</code>; the circle and box may overlap.  This is shown in the first example below.
               Of the predefined notations, only <span>the following are</span>
               affected by the directionality (see <a href="#presm_bidi_math"></a>):
               </p>
            <ul>
               
               <li>
                  <p> <code class="attributevalue">radical</code> </p>
               </li>
               
               <li>
                  <p> <code class="attributevalue">phasorangle</code> </p>
               </li>
               </ul>
            
            
            <p>When <code class="attribute">notation</code> has the value <code class="attributevalue">longdiv</code>,
               the contents are drawn enclosed by a long division symbol.
               <span>MathML 3 adds the <code class="element">mlongdiv</code> element
                  (<a href="#presm_mlongdiv"></a>). This element supports notations for long division
                  used in several countries and can be used to create a complete example of
                  long division as shown in <a href="#presm_mlongdiv_ex"></a>. </span>
               When <code class="attribute">notation</code> is specified as
               <code class="attributevalue">actuarial</code>, the contents are drawn enclosed by an
               actuarial symbol. A similar result can be achieved
               with the value <code class="attributevalue">top right</code>. The case of
               <code class="attribute">notation</code>=<code class="attributevalue">radical</code> is equivalent to the
               <code class="element">msqrt</code> schema.</p>
            
            
            <p> The values <code class="attributevalue">box</code>,
               <code class="attributevalue">roundedbox</code>, and <code class="attributevalue">circle</code> should
               enclose the contents as indicated by the values.  The amount of
               distance between the box, roundedbox, or circle, and the contents are
               not specified by MathML, and is left to the renderer.  In practice,
               paddings on each side of 0.4em in the horizontal direction and .5ex in
               the vertical direction seem to work well.</p>
            
            
            <p>The values <code class="attributevalue">left</code>,
               <code class="attributevalue">right</code>, <code class="attributevalue">top</code> and
               <code class="attributevalue">bottom</code> should result in lines drawn on those sides of
               the contents.  The values <code class="attributevalue">northeastarrow</code>,
               <code class="attributevalue">updiagonalstrike</code>,
               <code class="attributevalue">downdiagonalstrike</code>, <code class="attributevalue">verticalstrike</code>
               and <code class="attributevalue">horizontalstrike</code> should result in the indicated
               strikeout lines being superimposed over the content of the
               <code class="element">menclose</code>, e.g. a strikeout that extends from the lower left 
               corner to the upper right corner of the <code class="element">menclose</code> element for
               <code class="attributevalue">updiagonalstrike</code>, etc.
               </p>
            
            <p>
               The value <code class="attributevalue">northeastarrow</code> is a recommended value to implement because it can be
               used to implement TeX's \cancelto command. If a renderer implements other arrows for
               <code class="attribute">menclose</code>, it is recommended that the arrow names are chosen from the following full set of
               names for consistancy and standardization among renderers:
               </p>
            <ul>
               
               <li>
                  <p><code class="attributevalue">uparrow</code></p>
               </li>
               
               <li>
                  <p><code class="attributevalue">rightarrow</code></p>
               </li>
               
               <li>
                  <p><code class="attributevalue">downarrow</code></p>
               </li>
               
               <li>
                  <p><code class="attributevalue">leftarrow</code></p>
               </li>
               
               <li>
                  <p><code class="attributevalue">northwestarrow</code></p>
               </li>
               
               <li>
                  <p><code class="attributevalue">southwestarrow</code></p>
               </li>
               
               <li>
                  <p><code class="attributevalue">southeastarrow</code></p>
               </li>
               
               <li>
                  <p><code class="attributevalue">northeastarrow</code></p>
               </li>
               
               <li>
                  <p><code class="attributevalue">updownarrow</code></p>
               </li>
               
               <li>
                  <p><code class="attributevalue">leftrightarrow</code></p>
               </li>
               
               <li>
                  <p><code class="attributevalue">northwestsoutheastarrow</code></p>
               </li>
               
               <li>
                  <p><code class="attributevalue">northeastsouthwestarrow</code></p>
               </li>
               </ul>
            
            
            <p>The value <code class="attributevalue">madruwb</code> should generate an enclosure
               representing an Arabic factorial (&#x2018;madruwb&#x2019; is the transliteration
               of the Arabic &#x645;&#x636;&#x631;&#x648;&#x628; for factorial).
               This is shown in the third example below.</p>
            
            
            <p>The baseline of an <code class="element">menclose</code> element is the baseline of its child (which might be an implied <code class="element">mrow</code>).</p>
            
            </section>
         
         
         <section>
            <h5>Examples</h5>
            
            
            
            <p>An example of using multiple attributes is
               
               <div class="example mathml">
                  <pre>
&lt;menclose notation='circle box'&gt;
  &lt;mi&gt; x &lt;/mi&gt;&lt;mo&gt; + &lt;/mo&gt;&lt;mi&gt; y &lt;/mi&gt;
&lt;/menclose&gt;
</pre>
               </div>
               which renders with the box and circle overlapping roughly as
               </p>
            <blockquote>
               <p><img src="image/circlebox.png" alt="[Image of a circle and box around x plus y]"></img></p>
            </blockquote>
            <p>.
               </p>
            
            
            <p>An example of using <code class="element">menclose</code> for actuarial
               notation is
               
               <div class="example mathml">
                  <pre>
&lt;msub&gt;
  &lt;mi&gt;a&lt;/mi&gt;
  &lt;mrow&gt;
    &lt;menclose notation='actuarial'&gt;
      &lt;mi&gt;n&lt;/mi&gt;
    &lt;/menclose&gt;
    &lt;mo&gt;&amp;ic;&lt;/mo&gt;
    &lt;mi&gt;i&lt;/mi&gt;
  &lt;/mrow&gt;
&lt;/msub&gt;
</pre>
               </div>
               which renders roughly as
               </p>
            <blockquote>
               <p><img src="image/actuarial.png" alt="[image of actuarial notation for a angle n at i]"></img></p>
            </blockquote>
            
            
            <p>An example of <code class="attributevalue">phasorangle</code>, which is used in circuit analysis, is:
               
               <div class="example mathml">
                  <pre>
  &lt;mi&gt;C&lt;/mi&gt;
  &lt;mrow&gt;
    &lt;menclose notation='phasorangle'&gt;
      &lt;mrow&gt;
        &lt;mo&gt;&amp;#x2212;&lt;/mo&gt;
        &lt;mfrac&gt;
          &lt;mi&gt;&amp;pi;&lt;/mi&gt;
          &lt;mn&gt;2&lt;/mn&gt;
        &lt;/mfrac&gt;
      &lt;/mrow&gt;
    &lt;/menclose&gt;
  &lt;/mrow&gt;
</pre>
               </div>
               which renders roughly as
               </p>
            <blockquote>
               <p><img src="image/phasorangle.png" alt="[image of phasorangle notation for the angle negative pi over 2]"></img></p>
            </blockquote>
            
            <p>An example of <code class="attributevalue">madruwb</code> is:
               
               <div class="example mathml">
                  <pre>
  &lt;menclose notation="madruwb"&gt;
    &lt;mn&gt;12&lt;/mn&gt;
  &lt;/menclose&gt;
</pre>
               </div>
               which renders roughly as
               </p>
            <blockquote>
               <p><img src="image/madruwb12.png" alt="[Image of 12 factorial in Arabic style]"></img></p>
            </blockquote>
            <p>.
               </p>
            </section>
         </section>
      </section>
   
   
   <section>
      <h3 id="presm_scrlim">Script and Limit Schemata</h3>
      
      
      <p>The elements described in this section position one or more scripts
         around a base. Attaching various kinds of scripts and embellishments to
         symbols is a very common notational device in mathematics. For purely
         visual layout, a single general-purpose element could suffice for
         positioning scripts and embellishments in any of the traditional script
         locations around a given base. However, in order to capture the abstract
         structure of common notation better, MathML provides several more
         specialized scripting elements.</p>
      
      
      <p>In addition to sub/superscript elements, MathML has overscript
         and underscript elements that place scripts above and below the base. These
         elements can be used to place limits on large operators, or for placing
         accents and lines above or below the base. The rules for rendering accents
         differ from those for overscripts and underscripts, and this difference can
         be controlled with the <code class="attribute">accent</code> and <code class="attribute">accentunder</code> attributes, as described in the appropriate
         sections below.</p>
      
      
      <p>Rendering of scripts is affected by the <code class="attribute">scriptlevel</code> and <code class="attribute">displaystyle</code>
         attributes, which are part of the environment inherited by the rendering
         process of every MathML expression, and are described in <a href="#presm_scriptlevel"></a>.
         These attributes cannot be given explicitly on a scripting element, but can be
         specified on the start tag of a surrounding <code class="element">mstyle</code>
         element if desired.</p>
      
      
      <p>MathML also provides an element for attachment of tensor indices.
         Tensor indices are distinct from ordinary subscripts and superscripts in
         that they must align in vertical columns. Tensor indices can also occur in
         prescript positions.  Note that ordinary scripts follow the base (on the right
         in LTR context, but on the left in RTL context); prescripts precede the base
         (on the left (right) in LTR (RTL) context).</p>
      
      
      <p>Because presentation elements should be used to describe the abstract
         notational structure of expressions, it is important that the base
         expression in all <span>&#x201c;scripting&#x201d;</span> elements (i.e. the first
         argument expression) should be the entire expression that is being
         scripted, not just the trailing character. For example,
         (<i class="var">x</i>+<i class="var">y</i>)<sup>2</sup> should be written as:
         
         <div class="example mathml">
            <pre>
&lt;msup&gt;
  &lt;mrow&gt;
    &lt;mo&gt; ( &lt;/mo&gt;
    &lt;mrow&gt;
      &lt;mi&gt; x &lt;/mi&gt;
      &lt;mo&gt; + &lt;/mo&gt;
      &lt;mi&gt; y &lt;/mi&gt;
    &lt;/mrow&gt;
    &lt;mo&gt; ) &lt;/mo&gt;
  &lt;/mrow&gt;
  &lt;mn&gt; 2 &lt;/mn&gt;
&lt;/msup&gt;
</pre>
         </div>
         </p>
      
      
      <section>
         <h4 id="presm_msub">Subscript <code class="defn starttag">&lt;msub&gt;</code> <a class="coreyes" href="../mathml-core/#msub">core&#x2714;</a></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p>The <code class="element">msub</code> element attaches a subscript to a base using the syntax
               
               <div class="example ">
                  <pre>
&lt;msub&gt; <em>base</em> <em>subscript</em> &lt;/msub&gt;
</pre>
               </div>
               It increments <code class="attribute">scriptlevel</code> by 1, and sets <code class="attribute">displaystyle</code> to
               <code class="attributevalue">false</code>, within <em>subscript</em>, but leaves both attributes
               unchanged within <em>base</em>. (See <a href="#presm_scriptlevel"></a>.)</p>
            </section>
         
         
         <section>
            <h5>Attributes</h5>
            
            <p><code class="element">msub</code> elements accept the attributes listed
               below in addition to those specified in <a href="#presm_presatt"></a>.</p>
            
            
            <table border="1" class="attributes">
               
               <thead>
                  
                  <tr>
                     
                     <td>Name</td>
                     
                     <td>values</td>
                     
                     <td>default</td>
                     
                     <td>Core</td>
                     </tr>
                  </thead>
               
               <tbody>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">subscriptshift</td>
                     
                     <td><a class="intref" href="#type_length"><em>length</em></a></td>
                     
                     <td><em>automatic</em></td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies the minimum amount to shift the baseline of <em>subscript</em> down;
                        the default is for the rendering agent to use its own positioning rules.
                        </td>
                     </tr>
                  </tbody>
               </table>
            </section>
         </section>
      
      
      <section>
         <h4 id="presm_msup">Superscript <code class="defn starttag">&lt;msup&gt;</code> <a class="coreyes" href="../mathml-core/#msup">core&#x2714;</a></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p>The <code class="element">msup</code> element attaches a superscript to a base using the syntax
               
               <div class="example ">
                  <pre>
&lt;msup&gt; <em>base</em> <em>superscript</em> &lt;/msup&gt;
</pre>
               </div>
               It increments <code class="attribute">scriptlevel</code> by 1, and sets <code class="attribute">displaystyle</code> to <code class="attributevalue">false</code>, within
               <em>superscript</em>, but leaves both attributes unchanged within
               <em>base</em>. (See <a href="#presm_scriptlevel"></a>.) </p>
            
            </section>
         
         
         <section>
            <h5>Attributes</h5>
            
            <p><code class="element">msup</code> elements accept the attributes listed
               below in addition to those specified in <a href="#presm_presatt"></a>.</p>
            
            
            <table border="1" class="attributes">
               
               <thead>
                  
                  <tr>
                     
                     <td>Name</td>
                     
                     <td>values</td>
                     
                     <td>default</td>
                     
                     <td>Core</td>
                     </tr>
                  </thead>
               
               <tbody>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">superscriptshift</td>
                     
                     <td><a class="intref" href="#type_length"><em>length</em></a></td>
                     
                     <td><em>automatic</em></td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies the minimum amount to shift the baseline of <em>superscript</em> up;
                        the default is for the rendering agent to use its own positioning rules.
                        </td>
                     </tr>
                  </tbody>
               </table>
            
            </section>
         </section>
      
      
      <section>
         <h4 id="presm_msubsup">Subscript-superscript Pair <code class="defn starttag">&lt;msubsup&gt;</code> <a class="coreyes" href="../mathml-core/#msubsup">core&#x2714;</a></h4>
         
         
         <section>
            <h5>Description</h5>
            
            <p>The <code class="element">msubsup</code> element is used to attach both a subscript and
               superscript to a base expression.
               
               <div class="example ">
                  <pre>
&lt;msubsup&gt; <em>base</em> <em>subscript</em> <em>superscript</em> &lt;/msubsup&gt;
</pre>
               </div>
               It increments <code class="attribute">scriptlevel</code> by 1, and sets <code class="attribute">displaystyle</code> to
               <code class="attributevalue">false</code>, within <em>subscript</em> and <em>superscript</em>,
               but leaves both attributes unchanged within <em>base</em>.
               (See <a href="#presm_scriptlevel"></a>.) 
               </p>
            
            
            <p> Note that both scripts are positioned tight against the base as shown here
               <img src="image/f3014.gif" alt="x_1^2" align="middle"></img>
               versus the staggered positioning of nested scripts as shown here
               <img src="image/f3013.gif" alt="x_1{}^2" align="middle"></img>;
               the latter can be achieved by nesting an <code class="element">msub</code> inside an <code class="element">msup</code>.</p>
            </section>
         
         
         <section>
            <h5 id="presm_subsupatt">Attributes</h5>
            
            <p><code class="element">msubsup</code> elements accept the attributes listed
               below in addition to those specified in <a href="#presm_presatt"></a>.</p>
            
            
            <table border="1" class="attributes">
               
               <thead>
                  
                  <tr>
                     
                     <td>Name</td>
                     
                     <td>values</td>
                     
                     <td>default</td>
                     
                     <td>Core</td>
                     </tr>
                  </thead>
               
               <tbody>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">subscriptshift</td>
                     
                     <td><a class="intref" href="#type_length"><em>length</em></a></td>
                     
                     <td><em>automatic</em></td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies the minimum amount to shift the baseline of <em>subscript</em> down;
                        the default is for the rendering agent to use its own positioning rules.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">superscriptshift</td>
                     
                     <td><a class="intref" href="#type_length"><em>length</em></a></td>
                     
                     <td><em>automatic</em></td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies the minimum amount to shift the baseline of <em>superscript</em> up;
                        the default is for the rendering agent to use its own positioning rules.
                        </td>
                     </tr>
                  </tbody>
               </table>
            
            </section>
         
         
         <section>
            <h5>Examples</h5>
            
            
            <p>The <code class="element">msubsup</code> is most commonly used for adding
               sub/superscript pairs to identifiers as illustrated above. However,
               another important use is placing limits on certain large operators
               whose limits are traditionally displayed in the script positions even
               when rendered in display style. The most common of these is the
               integral. For example,</p>
            
            
            <blockquote>
               <p><img src="image/f3015.gif" alt="\int\nolimits_0^1 \eulere^x \,\diffd x"></img></p>
            </blockquote>
            <p>
               would be represented as
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
  &lt;msubsup&gt;
    &lt;mo&gt; &amp;int; &lt;/mo&gt;
    &lt;mn&gt; 0 &lt;/mn&gt;
    &lt;mn&gt; 1 &lt;/mn&gt;
  &lt;/msubsup&gt;
  &lt;mrow&gt;
    &lt;msup&gt;
      &lt;mi&gt; &amp;ExponentialE; &lt;/mi&gt;
      &lt;mi&gt; x &lt;/mi&gt;
    &lt;/msup&gt;
    &lt;mo&gt; &amp;InvisibleTimes; &lt;/mo&gt;
    &lt;mrow&gt;
      &lt;mo&gt; &amp;DifferentialD; &lt;/mo&gt;
      &lt;mi&gt; x &lt;/mi&gt;
    &lt;/mrow&gt;
  &lt;/mrow&gt;
&lt;/mrow&gt;
</pre>
               </div>
               </p>
            </section>
         </section>
      
      
      <section>
         <h4 id="presm_munder">Underscript <code class="defn starttag">&lt;munder&gt;</code></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p>The <code class="element">munder</code> element attaches an accent or limit placed under a base using the syntax
               
               <div class="example ">
                  <pre>
&lt;munder&gt; <em>base</em> <em>underscript</em> &lt;/munder&gt;
</pre>
               </div>
               It always sets <code class="attribute">displaystyle</code> to <code class="attributevalue">false</code> within the underscript,
               but increments <code class="attribute">scriptlevel</code> by 1 only when <code class="attribute">accentunder</code> is <code class="attributevalue">false</code>.
               Within <em>base</em>, it always leaves both attributes unchanged.
               (See <a href="#presm_scriptlevel"></a>.) 
               </p>
            
            
            <p>If <em>base</em> is an operator with <code class="attribute">movablelimits</code>=<code class="attributevalue">true</code>
               (or an embellished operator whose <code class="element">mo</code> element core has <code class="attribute">movablelimits</code>=<code class="attributevalue">true</code>),
               and <code class="attribute">displaystyle</code>=<code class="attributevalue">false</code>,
               then <em>underscript</em> is drawn in a subscript position.
               In this case, the <code class="attribute">accentunder</code> attribute is ignored.
               This is often used for limits on symbols such as <code class="entity">sum</code>.
               </p>
            
            </section>
         
         
         <section>
            <h5>Attributes</h5>
            
            <p><code class="element">munder</code> elements accept the attributes listed
               below in addition to those specified in <a href="#presm_presatt"></a>.</p>
            
            
            <table border="1" class="attributes">
               
               <thead>
                  
                  <tr>
                     
                     <td>Name</td>
                     
                     <td>values</td>
                     
                     <td>default</td>
                     
                     <td>Core</td>
                     </tr>
                  </thead>
               
               <tbody>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">accentunder</td>
                     
                     <td>"true" | "false"</td>
                     
                     <td><em>automatic</em></td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies whether <em>underscript</em> is drawn as an <span>&#x201c;accent&#x201d;</span> or as a limit.
                        An accent is drawn the same size as the base (without incrementing <code class="attribute">scriptlevel</code>)
                        and is drawn closer to the base.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">align</td>
                     
                     <td>"left" | "right" | "center"</td>
                     
                     <td>center</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies whether the script is aligned left, center, or right under/over the base.
                        <span>As specfied in <a href="#presm_horiz_stretch_rules"></a>,
                           the core of underscripts that are embellished operators should stretch to cover the
                           base,
                           but the alignment is based on the entire underscript.</span>
                        </td>
                     </tr>
                  </tbody>
               </table>
            
            
            
            <p>The default value of <code class="attribute">accentunder</code> is false, unless
               <em>underscript</em> is an <code class="element">mo</code> element or an
               embellished operator (see <a href="#presm_mo"></a>). If
               <em>underscript</em> is an <code class="element">mo</code> element, the
               value of its <code class="attribute">accent</code> attribute is used as the default
               value of <code class="attribute">accentunder</code>. If <em>underscript</em> is an
               embellished operator, the <code class="attribute">accent</code> attribute of the
               <code class="element">mo</code> element at its core is used as the default
               value.  As with all attributes, an explicitly given value overrides
               the default.</p>
            
            
            <p>Here is an example (accent versus underscript):
               <img src="image/f3016.gif" alt="\underbrace{x+y+z}" align="middle"></img> versus
               <img src="image/f3017.gif" alt="\underbrace{\strut x+y+z}" align="middle"></img>.
               The MathML representation for this example is shown below.</p>
            
            </section>
         
         
         <section>
            <h5>Examples</h5>
            
            
            <p>The MathML representation for the example shown above is:
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
  &lt;munder accentunder="true"&gt;
    &lt;mrow&gt;
      &lt;mi&gt; x &lt;/mi&gt;
      &lt;mo&gt; + &lt;/mo&gt;
      &lt;mi&gt; y &lt;/mi&gt;
      &lt;mo&gt; + &lt;/mo&gt;
      &lt;mi&gt; z &lt;/mi&gt;
    &lt;/mrow&gt;
    &lt;mo&gt; &amp;UnderBrace; &lt;/mo&gt;
  &lt;/munder&gt;
  &lt;mtext&gt;&amp;nbsp;versus&amp;nbsp;&lt;/mtext&gt;
  &lt;munder accentunder="false"&gt;
    &lt;mrow&gt;
      &lt;mi&gt; x &lt;/mi&gt;
      &lt;mo&gt; + &lt;/mo&gt;
      &lt;mi&gt; y &lt;/mi&gt;
      &lt;mo&gt; + &lt;/mo&gt;
      &lt;mi&gt; z &lt;/mi&gt;
    &lt;/mrow&gt;
    &lt;mo&gt; &amp;UnderBrace; &lt;/mo&gt;
  &lt;/munder&gt;
&lt;/mrow&gt;
</pre>
               </div>
               </p>
            </section>
         </section>
      
      
      <section>
         <h4 id="presm_mover">Overscript <code class="defn starttag">&lt;mover&gt;</code></h4>
         
         
         <section>
            <h5>Description</h5>
            
            <p>The <code class="element">mover</code> element attaches an accent or limit placed over a base using the syntax
               
               <div class="example ">
                  <pre>
&lt;mover&gt; <em>base</em> <em>overscript</em> &lt;/mover&gt;
</pre>
               </div>
               It always sets <code class="attribute">displaystyle</code> to <code class="attributevalue">false</code> within overscript,
               but increments <code class="attribute">scriptlevel</code> by 1 only when <code class="attribute">accent</code> is <code class="attributevalue">false</code>.
               Within <em>base</em>, it always leaves both attributes unchanged.
               (See <a href="#presm_scriptlevel"></a>.)</p>
            
            
            <p>If <em>base</em> is an operator with <code class="attribute">movablelimits</code>=<code class="attributevalue">true</code>
               (or an embellished operator whose <code class="element">mo</code> element core has <code class="attribute">movablelimits</code>=<code class="attributevalue">true</code>),
               and <code class="attribute">displaystyle</code>=<code class="attributevalue">false</code>,
               then <em>overscript</em> is drawn in a superscript position.
               In this case, the <code class="attribute">accent</code> attribute is ignored.
               This is often used for limits on symbols such as <code class="entity">sum</code>.</p>
            
            </section>
         
         
         <section>
            <h5>Attributes</h5>
            
            <p><code class="element">mover</code> elements accept the attributes listed
               below in addition to those specified in <a href="#presm_presatt"></a>.</p>
            
            
            
            <p>
               
               <table border="1" class="attributes">
                  
                  <thead>
                     
                     <tr>
                        
                        <td>Name</td>
                        
                        <td>values</td>
                        
                        <td>default</td>
                        
                        <td>Core</td>
                        </tr>
                     </thead>
                  
                  <tbody>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">accent</td>
                        
                        <td>"true" | "false"</td>
                        
                        <td><em>automatic</em></td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies whether <em>overscript</em> is drawn as an <span>&#x201c;accent&#x201d;</span> or as a limit.
                           An accent is drawn the same size as the base (without incrementing <code class="attribute">scriptlevel</code>)
                           and is drawn closer to the base.
                           </td>
                        </tr>
                     
                     <tr>
                        
                        <td rowspan="2" class="attname">align</td>
                        
                        <td>"left" | "right" | "center"</td>
                        
                        <td>center</td>
                        
                        <td><span class="coreno">core&#x2716;</span></td>
                        </tr>
                     
                     <tr>
                        
                        <td colspan="3" class="attdesc">
                           Specifies whether the script is aligned left, center, or right under/over the base.
                           <span>As specfied in <a href="#presm_horiz_stretch_rules"></a>,
                              the core of overscripts that are embellished operators should stretch to cover the
                              base,
                              but the alignment is based on the entire overscript.</span>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </p>
            
            
            <p>The difference between an accent versus limit is shown here:
               <img src="image/f3018.gif" alt="\hat{x}" align="middle"></img> versus
               <img src="image/f3019.gif" alt="\hat{\strut x}" align="middle"></img>.
               These differences also apply to <span>&#x201c;mathematical accents&#x201d;</span> such as
               bars <span>or braces</span> over expressions:
               <img src="image/f3020.gif" alt="\overbrace{x+y+z}" align="middle"></img> versus
               <img src="image/f3021.gif" alt="\overbrace{\strut x+y+z}" align="middle"></img>.
               The MathML representation for each of these examples is shown below.</p>
            
            
            <p>The default value of <em>accent</em> is false, unless
               <em>overscript</em> is an <code class="element">mo</code> element or an
               embellished operator (see <a href="#presm_mo"></a>). If
               <em>overscript</em> is an <code class="element">mo</code> element, the value
               of its <code class="attribute">accent</code> attribute is used as the default value
               of <code class="attribute">accent</code> for <code class="element">mover</code>.  If
               <em>overscript</em> is an embellished operator, the <code class="attribute">accent</code> attribute of the <code class="element">mo</code>
               element at its core is used as the default value.</p>
            
            </section>
         
         
         <section>
            <h5>Examples</h5>
            
            
            <p>The MathML representation for the examples shown above is:
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
  &lt;mover accent="true"&gt;
    &lt;mi&gt; x &lt;/mi&gt;
    &lt;mo&gt; &amp;Hat; &lt;/mo&gt;
  &lt;/mover&gt;
  &lt;mtext&gt;&amp;nbsp;versus&amp;nbsp;&lt;/mtext&gt;
  &lt;mover accent="false"&gt;
    &lt;mi&gt; x &lt;/mi&gt;
    &lt;mo&gt; &amp;Hat; &lt;/mo&gt;
  &lt;/mover&gt;
&lt;/mrow&gt;
</pre>
               </div>
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
  &lt;mover accent="true"&gt;
    &lt;mrow&gt;
      &lt;mi&gt; x &lt;/mi&gt;
      &lt;mo&gt; + &lt;/mo&gt;
      &lt;mi&gt; y &lt;/mi&gt;
      &lt;mo&gt; + &lt;/mo&gt;
      &lt;mi&gt; z &lt;/mi&gt;
    &lt;/mrow&gt;
    &lt;mo&gt; &amp;OverBrace; &lt;/mo&gt;
  &lt;/mover&gt;
  &lt;mtext&gt;&amp;nbsp;versus&amp;nbsp;&lt;/mtext&gt;
  &lt;mover accent="false"&gt;
    &lt;mrow&gt;
      &lt;mi&gt; x &lt;/mi&gt;
      &lt;mo&gt; + &lt;/mo&gt;
      &lt;mi&gt; y &lt;/mi&gt;
      &lt;mo&gt; + &lt;/mo&gt;
      &lt;mi&gt; z &lt;/mi&gt;
    &lt;/mrow&gt;
    &lt;mo&gt; &amp;OverBrace; &lt;/mo&gt;
  &lt;/mover&gt;
&lt;/mrow&gt;
</pre>
               </div>
               </p>
            </section>
         </section>
      
      
      <section>
         <h4 id="presm_munderover">Underscript-overscript Pair
            <code class="defn starttag">&lt;munderover&gt;</code></h4>
         
         
         <section>
            <h5>Description</h5>
            
            <p>The <code class="element">munderover</code> element attaches accents or limits placed both over and under a base using the syntax
               
               <div class="example ">
                  <pre>
&lt;munderover&gt; <em>base</em> <em>underscript</em> <em>overscript</em> &lt;/munderover&gt;
</pre>
               </div>
               It always sets <code class="attribute">displaystyle</code> to <code class="attributevalue">false</code>
               within <em>underscript</em> and <em>overscript</em>,
               but increments <code class="attribute">scriptlevel</code> by 1 only when 
               <code class="attribute">accentunder</code> or <code class="attribute">accent</code>, respectively, are <code class="attributevalue">false</code>.
               Within <em>base</em>, it always leaves both attributes unchanged.
               (see <a href="#presm_scriptlevel"></a>).</p>
            
            
            <p>If <em>base</em> is an operator with <code class="attribute">movablelimits</code>=<code class="attributevalue">true</code>
               (or an embellished operator whose <code class="element">mo</code> element core has <code class="attribute">movablelimits</code>=<code class="attributevalue">true</code>),
               and <code class="attribute">displaystyle</code>=<code class="attributevalue">false</code>,
               then <em>underscript</em> and <em>overscript</em> are drawn in a subscript and superscript position,
               respectively. In this case, the <code class="attribute">accentunder</code> and <code class="attribute">accent</code> attributes are ignored.
               This is often used for limits on symbols such as <code class="entity">sum</code>.</p>
            
            </section>
         
         
         <section>
            <h5>Attributes</h5>
            
            
            <p><code class="element">munderover</code> elements accept the attributes listed
               below in addition to those specified in <a href="#presm_presatt"></a>.</p>
            
            
            
            <table border="1" class="attributes">
               
               <thead>
                  
                  <tr>
                     
                     <td>Name</td>
                     
                     <td>values</td>
                     
                     <td>default</td>
                     
                     <td>Core</td>
                     </tr>
                  </thead>
               
               <tbody>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">accent</td>
                     
                     <td>"true" | "false"</td>
                     
                     <td><em>automatic</em></td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies whether <em>overscript</em> is drawn as an <span>&#x201c;accent&#x201d;</span> or as a limit.
                        An accent is drawn the same size as the base (without incrementing <code class="attribute">scriptlevel</code>)
                        and is drawn closer to the base.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">accentunder</td>
                     
                     <td>"true" | "false"</td>
                     
                     <td><em>automatic</em></td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies whether <em>underscript</em> is drawn as an <span>&#x201c;accent&#x201d;</span> or as a limit.
                        An accent is drawn the same size as the base (without incrementing <code class="attribute">scriptlevel</code>)
                        and is drawn closer to the base.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">align</td>
                     
                     <td>"left" | "right" | "center"</td>
                     
                     <td>center</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies whether the scripts are aligned left, center, or right under/over the base.
                        <span>As specfied in <a href="#presm_horiz_stretch_rules"></a>,
                           the core of underscripts and overscripts that are embellished operators should stretch
                           to cover the base,
                           but the alignment is based on the entire underscript or overscript.</span>
                        </td>
                     </tr>
                  </tbody>
               </table>
            
            
            <p>The <code class="element">munderover</code> element is used <span>instead of separate
                  <code class="element">munder</code> and <code class="element">mover</code> elements</span> so that the
               underscript and overscript are vertically spaced equally in relation
               to the base and so that they follow the slant of the base as in the
               second expression shown below:</p>
            
            
            <p><img src="image/f3022.gif" alt="\int_0^{\!\!\!\infty}" align="middle"></img>
               versus
               <img src="image/f3023.gif" alt="\int_0^{\infty}" align="middle"></img>.
               The MathML representation for this example is shown below.</p>
            
            
            <p>The difference in the vertical spacing is too small to be noticed on a
               low resolution display at a normal font size, but is noticeable on a higher
               resolution device such as a printer and when using large font sizes.  In
               addition to the visual differences, attaching both the underscript and
               overscript to the same base more accurately reflects the semantics of the
               expression.</p>
            
            
            <p>The defaults for <code class="attribute">accent</code> and <code class="attribute">accentunder</code>
               are computed in the same way as for
               <a class="intref" href="#presm_munder"><code class="element">munder</code></a> and
               <a class="intref" href="#presm_mover"><code class="element">mover</code></a>, respectively.</p>
            
            </section>
         
         
         <section>
            <h5>Examples</h5>
            
            
            <p>The MathML representation for the example shown above with the first
               expression made using separate <code class="element">munder</code> and
               <code class="element">mover</code> elements, and the second one using an
               <code class="element">munderover</code> element, is:
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
  &lt;mover&gt;
    &lt;munder&gt;
      &lt;mo&gt; &amp;int; &lt;/mo&gt;
      &lt;mn&gt; 0 &lt;/mn&gt;
    &lt;/munder&gt;
    &lt;mi&gt; &amp;infin; &lt;/mi&gt;
  &lt;/mover&gt;
  &lt;mtext&gt;&amp;nbsp;versus&amp;nbsp;&lt;/mtext&gt;
  &lt;munderover&gt;
    &lt;mo&gt; &amp;int; &lt;/mo&gt;
    &lt;mn&gt; 0 &lt;/mn&gt;
    &lt;mi&gt; &amp;infin; &lt;/mi&gt;
  &lt;/munderover&gt;
&lt;/mrow&gt;
</pre>
               </div>
               </p>
            </section>
         </section>
      
      
      <section>
         <h4 id="presm_mmultiscripts">Prescripts and Tensor Indices
            <code class="defn starttag">&lt;mmultiscripts&gt;</code><span>,
               <code class="defn emptytag">&lt;mprescripts/&gt;</code>,
               <code class="defn emptytag">&lt;none/&gt;</code></span></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p>Presubscripts and tensor notations are represented by a single
               element, <code class="element">mmultiscripts</code>, using the syntax:
               
               <div class="example ">
                  <pre>
&lt;mmultiscripts&gt;
    <em>base</em>
     (<em>subscript superscript</em>)*
     [ &lt;mprescripts/&gt; (<em>presubscript presuperscript</em>)* ]
&lt;/mmultiscripts&gt;
</pre>
               </div>
               </p>
            
            <p>This element allows the representation of any number of vertically-aligned pairs of
               subscripts
               and superscripts, attached to one base expression. It supports both
               postscripts  and
               prescripts.
               Missing scripts can be represented by the empty element
               <code class="element">none</code>.</p>
            
            
            <p>The prescripts are optional, and when present are given
               <em>after</em> the postscripts, because prescripts are relatively
               rare compared to tensor notation.</p>
            
            
            <p>The argument sequence consists of the base followed by zero or more
               pairs of vertically-aligned subscripts and superscripts (in that
               order) that represent all of the postscripts. This list is optionally
               followed by an empty element <code class="element">mprescripts</code> and a
               list of zero or more pairs of vertically-aligned presubscripts and
               presuperscripts that represent all of the prescripts. The pair lists
               for postscripts and prescripts are <span>displayed</span> in the same order as the
               directional context (ie. left-to-right order in LTR context). If
               no subscript or superscript should be rendered in a given position,
               then the empty element <code class="element">none</code> should be used in
               that position.
               <span data-diff="add">For each sub and superscript pair,
                  horizontal-alignment of the elements in the pair should be
                  towards the the base of the <code class="element">mmultiscripts</code>.
                  That is, pre-scripts should be right aligned,
                  and post-scripts should be left aligned.</span></p>
            
            
            <p>The base, subscripts, superscripts, the optional separator element
               <code class="element">mprescripts</code>, the presubscripts, and the
               presuperscripts, are all direct sub-expressions of the
               <code class="element">mmultiscripts</code> element, i.e. they are all at the
               same level of the expression tree. Whether a script argument is a
               subscript or a superscript, or whether it is a presubscript or a
               presuperscript is determined by whether it occurs in an even-numbered
               or odd-numbered argument position, respectively, ignoring the empty
               element <code class="element">mprescripts</code> itself when determining the
               position. The first argument, the base, is considered to be in
               position 1. The total number of arguments must be odd, if
               <code class="element">mprescripts</code> is not given, or even, if it is.</p>
            
            
            <p>The empty element <code class="element">mprescripts</code> is only allowed as direct sub-expression
               of <code class="element">mmultiscripts</code>.</p>
            </section>
         
         
         <section>
            <h5>Attributes</h5>
            
            <p>Same as the attributes of <code class="element">msubsup</code>.  <span>See
                  <a href="#presm_subsupatt"></a></span>.</p> 
            
            
            <p>The <code class="element">mmultiscripts</code> element increments <code class="attribute">scriptlevel</code> by 1, and sets <code class="attribute">displaystyle</code> to <code class="attributevalue">false</code>, within
               each of its arguments except <em>base</em>, but leaves both attributes
               unchanged within <em>base</em>. (See <a href="#presm_scriptlevel"></a>.)
               </p>
            </section>
         
         
         <section>
            <h5>Examples</h5>
            
            
            <p><span data-diff="chg">Examples</span> of the use of <code class="element">mmultiscripts</code> are:</p>
            
            <p><sub>0</sub><i class="var">F</i><sub>1</sub>(;<i class="var">a</i>;<i class="var">z</i>).
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
  &lt;mmultiscripts&gt;
    &lt;mi&gt; F &lt;/mi&gt;
    &lt;mn&gt; 1 &lt;/mn&gt;
    &lt;none/&gt;
    &lt;mprescripts/&gt;
    &lt;mn&gt; 0 &lt;/mn&gt;
    &lt;none/&gt;
  &lt;/mmultiscripts&gt;
  &lt;mo&gt; &amp;ApplyFunction; &lt;/mo&gt;
  &lt;mrow&gt;
    &lt;mo&gt; ( &lt;/mo&gt;
    &lt;mrow&gt; 
      &lt;mo&gt; ; &lt;/mo&gt;
      &lt;mi&gt; a &lt;/mi&gt;
      &lt;mo&gt; ; &lt;/mo&gt;
      &lt;mi&gt; z &lt;/mi&gt;
    &lt;/mrow&gt; 
    &lt;mo&gt; ) &lt;/mo&gt;
  &lt;/mrow&gt;
&lt;/mrow&gt;
</pre>
               </div>
               </p>
            
            
            <p><img src="image/tensorindices.png" alt="R_i{}^j{}_k{}_l" align="middle"></img>
               (where <i class="var">k</i> and <i class="var">l</i> are different indices)
               
               <div class="example mathml">
                  <pre>
&lt;mmultiscripts&gt;
  &lt;mi&gt; R &lt;/mi&gt;
  &lt;mi&gt; i &lt;/mi&gt;
  &lt;none/&gt;
  &lt;none/&gt;
  &lt;mi&gt; j &lt;/mi&gt;
  &lt;mi&gt; k &lt;/mi&gt;
  &lt;none/&gt;
  &lt;mi&gt; l &lt;/mi&gt;
  &lt;none/&gt;
&lt;/mmultiscripts&gt;
</pre>
               </div>
               </p>
            
            
            <p><img src="image/prescriptsalign.png" alt="{}_{123}^{\phantom{00}1}X{}_{123}^{1\phantom{00}}" align="middle"></img>
               
               <div class="example mathml">
                  <pre>
  &lt;mmultiscripts&gt;
    &lt;mi&gt;  X &lt;/mi&gt;
    &lt;mn&gt; 123 &lt;/mn&gt;
    &lt;mn&gt; 1 &lt;/mn&gt;
    &lt;mprescripts/&gt;
    &lt;mn&gt; 123 &lt;/mn&gt;
    &lt;mn&gt; 1 &lt;/mn&gt;
  &lt;/mmultiscripts&gt;
  </pre>
               </div>
               </p>
            
            
            <p>An additional example of <code class="element">mmultiscripts</code> shows how the binomial
               coefficient
               </p>
            <blockquote>
               <p><img src="image/binom5-12.png" alt="[binomial(5,12) in english style]"></img></p>
            </blockquote>
            <p>
               can be displayed in Arabic style
               </p>
            <blockquote>
               <p><img src="image/arbinom5-12.png" alt="[binomial(5,12) in Arabic style]"></img></p>
            </blockquote>
            
            <div class="example mathml">
               <pre>
&lt;mstyle dir="rtl"&gt;
  &lt;mmultiscripts&gt;&lt;mo&gt;&amp;#x0644;&lt;/mo&gt;
    &lt;mn&gt;12&lt;/mn&gt;&lt;none/&gt;
    &lt;mprescripts/&gt;
    &lt;none/&gt;&lt;mn&gt;5&lt;/mn&gt;
  &lt;/mmultiscripts&gt;
&lt;/mstyle&gt;
</pre>
            </div>
            </section>
         </section>
      </section>
   
   
   <section>
      <h3 id="presm_tabmat">Tabular Math</h3>
      
      
      <p>Matrices, arrays and other table-like mathematical notation are marked
         up using <code class="element">mtable</code>,
         <code class="element">mtr</code>, <code class="element">mlabeledtr</code> and
         <code class="element">mtd</code> elements. These elements are similar to the
         <code class="element" data-namespace="xhtml">table</code>, <code class="element" data-namespace="xhtml">tr</code> and <code class="element" data-namespace="xhtml">td</code> elements of HTML, except that they provide
         specialized attributes for the fine layout control
         necessary for commutative diagrams, block matrices and so on.</p>
      
      
      <p>While the two-dimensional layouts used for elementary math such as addition and multiplication
         are somewhat similar to tables, they differ in important ways.
         For layout and for accessibility reasons, the <code class="element">mstack</code> and <code class="element">mlongdiv</code> elements discussed
         in <a href="#presm_elementary"></a> should be used for elementary math notations.</p>
      
      
      <p>In addition to the table elements mentioned above, the <code class="element">mlabeledtr</code> element is used for labeling rows
         of a table.  This is useful for numbered equations.
         The first child of <code class="element">mlabeledtr</code> is the label.
         A label is somewhat special in that it is not considered an expression
         in the matrix and is not counted when determining the number of columns
         in that row.</p>
      
      
      <section>
         <h4 id="presm_mtable">Table or Matrix
            <code class="defn starttag">&lt;mtable&gt;</code> <a class="coreyes" href="../mathml-core/#mtable">core&#x2714;</a></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p>A matrix or table is specified using the <code class="element">mtable</code> element. Inside of the <code class="element">mtable</code> element, only <code class="element">mtr</code>
               or <code class="element">mlabeledtr</code> elements may appear.
               (In MathML 1.x, the <code class="element">mtable</code> was allowed to &#x2018;infer&#x2019; <code class="element">mtr</code> elements around its arguments,
               and the <code class="element">mtr</code> element could infer <code class="element">mtd</code> elements.
               This behaviour is <a class="intref" href="#interf_deprec">deprecated</a>.)
               </p>
            
            
            <p>Table rows that have fewer columns than other rows of the same
               table (whether the other rows precede or follow them) are effectively
               padded on the right (or left in RTL context) with empty <code class="element">mtd</code> elements so
               that the number of columns in each row equals the maximum number of
               columns in any row of the table. Note that the use of
               <code class="element">mtd</code> elements with non-default values of the
               <code class="attribute">rowspan</code> or <code class="attribute">columnspan</code>
               attributes may affect
               the number of <code class="element">mtd</code> elements that should be given
               in subsequent <code class="element">mtr</code> elements to cover a given
               number of columns.
               Note also that the label in an <code class="element">mlabeledtr</code> element
               is not considered a column in the table.</p>
            
            
            <p>MathML does not specify a table layout algorithm.  In
               particular, it is the responsibility of a MathML renderer to resolve
               conflicts between the <code class="attribute">width</code> attribute and other
               constraints on the width of a table, such as explicit values for <code class="attribute">columnwidth</code> attributes,
               and minimum sizes for table cell contents.  For a discussion of table layout algorithms,
               see
               <a href="http://www.w3.org/TR/CSS2/tables.html#width-layout">Cascading
                  Style Sheets, level 2</a>.</p>
            
            </section>
         
         
         <section>
            <h5 id="presm_mtable_attrs">Attributes</h5>
            
            
            <p><code class="element">mtable</code> elements accept the attributes listed
               below in addition to those specified in <a href="#presm_presatt"></a>.
               Any rules drawn as part of the <code class="element">mtable</code> should be drawn using the color
               specified by <code class="attribute">mathcolor</code>.</p>
            
            
            
            <table border="1" class="attributes">
               
               <thead>
                  
                  <tr>
                     
                     <td>Name</td>
                     
                     <td>values</td>
                     
                     <td>default</td>
                     
                     <td>Core</td>
                     </tr>
                  </thead>
               
               <tbody>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">align</td>
                     
                     <td>("top" | "bottom" | "center" | "baseline" | "axis"), <em>rownumber</em>?</td>
                     
                     <td>axis</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies the vertical alignment of the table with respect to its environment.
                        <code class="attributevalue">axis</code> means to align the vertical center of the table on
                        the environment's <a class="termref" href="#dt-axis">axis</a>.
                        (The <a class="termref" href="#dt-axis">axis</a> of an equation is an alignment line used by typesetters.
                        It is the line on which a minus sign typically lies.)
                        <code class="attributevalue">center</code> and <code class="attributevalue">baseline</code> both mean to align the center of the table
                        on the environment's baseline.
                        <code class="attributevalue">top</code> or <code class="attributevalue">bottom</code> aligns the top or bottom of the table on the environment's baseline.
                        
                        If the <code class="attribute">align</code> attribute value ends with a <em>rownumber</em>,
                        the specified row (counting from 1 for the top row)<span>, rather than the table as a whole, is aligned in the way described above with the
                           exceptions noted below.
                           If <em>rownumber</em> is negative, it counts rows from the bottom.
                           When the value of <em>rownumber</em> is out of range or not an integer, it is ignored.
                           If a row number is specified and the alignment value is <code class="attributevalue">baseline</code> or <code class="attributevalue">axis</code>, 
                           the row's baseline or axis is used for alignment. Note this is only well defined when
                           the <code class="attribute">rowalign</code> 
                           value is <code class="attributevalue">baseline</code> or <code class="attributevalue">axis</code>; MathML does not specify how 
                           <code class="attributevalue">baseline</code> or <code class="attributevalue">axis</code> alignment should occur for other values of <code class="attribute">rowalign</code>.</span> 
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">rowalign</td>
                     
                     <td>("top" | "bottom" | "center" | "baseline" | "axis") +</td>
                     
                     <td>baseline</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies the vertical alignment of the cells with respect to other cells within the
                        same row:
                        <code class="attributevalue">top</code> aligns the tops of each entry across the row;
                        <code class="attributevalue">bottom</code> aligns the bottoms of the cells,
                        <code class="attributevalue">center</code> centers the cells;
                        <code class="attributevalue">baseline</code> aligns the baselines of the cells;
                        <code class="attributevalue">axis</code> aligns the axis of each cells.
                        (See the note below about multiple values).
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">columnalign</td>
                     
                     <td>("left" | "center" | "right") +</td>
                     
                     <td>center</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies the horizontal alignment of the cells with respect to other cells within
                        the same column:
                        <code class="attributevalue">left</code> aligns the left side of the cells;
                        <code class="attributevalue">center</code> centers each cells;
                        <code class="attributevalue">right</code> aligns the right side of the cells.
                        (See the note below about multiple values).
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">groupalign</td>
                     
                     <td><a class="intref" href="#type_group-align"><em>group-alignment-list-list</em></a></td>
                     
                     <td>{left}</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        [this attribute is described with the alignment elements, <code class="element">maligngroup</code> and <code class="element">malignmark</code>,
                        in <a href="#presm_malign"></a>.]
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">alignmentscope</td>
                     
                     <td>("true" | "false") +</td>
                     
                     <td>true</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        [this attribute is described with the alignment elements, <code class="element">maligngroup</code> and <code class="element">malignmark</code>,
                        in <a href="#presm_malign"></a>.]
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">columnwidth</td>
                     
                     <td>("auto" | <a class="intref" href="#type_length"><em>length</em></a> | "fit") +</td>
                     
                     <td>auto</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies how wide a column should be:
                        <code class="attributevalue">auto</code> means that the column should be as wide as needed;
                        an explicit length means that the column is exactly that wide and the contents of
                        that column are made to fit
                        by linewrapping or clipping at the discretion of the renderer;
                        <code class="attributevalue">fit</code> means that the page width
                        remaining after subtracting the <code class="attributevalue">auto</code> or fixed width columns
                        is divided equally among the <code class="attributevalue">fit</code> columns.
                        
                        If insufficient room remains to hold the
                        contents of the <code class="attributevalue">fit</code> columns, renderers may
                        linewrap or clip the contents of the <code class="attributevalue">fit</code> columns.
                        Note that when the <code class="attribute">columnwidth</code> is specified as
                        a percentage, the value is relative to the width of the table, not
                        as a percentage of the default (which is <code class="attributevalue">auto</code>).  That
                        is, a renderer should try to adjust the width of the column so that it
                        covers the specified percentage of the entire table width.
                        
                        (See the note below about multiple values).
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">width</td>
                     
                     <td>"auto" | <a class="intref" href="#type_length"><em>length</em></a></td>
                     
                     <td>auto</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies the desired width of the entire table and is intended for visual user agents.
                        <span>When the value is a percentage value or number without unit,
                           the value is relative to the
                           horizontal space that a MathML renderer has available
                           
                           <span>, this is the current target width as used for
                              linebreaking as specified in <a href="#presm_linebreaking"></a></span>;
                           this allows the author to specify, for example, a table being full width
                           of the display.</span>
                        When the value is <code class="attributevalue">auto</code>, the MathML
                        renderer should calculate the table width from its contents using
                        whatever layout algorithm it chooses.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">rowspacing</td>
                     
                     <td>(<a class="intref" href="#type_length"><em>length</em></a>) +</td>
                     
                     <td>1.0ex</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies how much space to add between rows.
                        (See the note below about multiple values).
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">columnspacing</td>
                     
                     <td>(<a class="intref" href="#type_length"><em>length</em></a>) +</td>
                     
                     <td>0.8em</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies how much space to add between <span>columns</span>.
                        (See the note below about multiple values).
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">rowlines</td>
                     
                     <td>("none" | "solid" | "dashed") +</td>
                     
                     <td>none</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies whether and what kind of lines should be added between each row:
                        <code class="attributevalue">none</code> means no lines;
                        <code class="attributevalue">solid</code> means solid lines;
                        <code class="attributevalue">dashed</code> means dashed lines (how the dashes are spaced is implementation dependent).
                        (See the note below about multiple values).
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">columnlines</td>
                     
                     <td>("none" | "solid" | "dashed") +</td>
                     
                     <td>none</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies whether and what kind of lines should be added between each column:
                        <code class="attributevalue">none</code> means no lines;
                        <code class="attributevalue">solid</code> means solid lines;
                        <code class="attributevalue">dashed</code> means dashed lines (how the dashes are spaced is implementation dependent).
                        (See the note below about multiple values).
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">frame</td>
                     
                     <td>"none" | "solid" | "dashed"</td>
                     
                     <td>none</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies whether and what kind of lines should be drawn around the table.
                        <code class="attributevalue">none</code> means no lines;
                        <code class="attributevalue">solid</code> means solid lines;
                        <code class="attributevalue">dashed</code> means dashed lines (how the dashes are spaced is implementation dependent).
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">framespacing</td>
                     
                     <td><a class="intref" href="#type_length"><em>length</em></a>, <a class="intref" href="#type_length"><em>length</em></a></td>
                     
                     <td>0.4em 0.5ex</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies the additional spacing added between the table and frame,
                        if <code class="attribute">frame</code> is not <code class="attributevalue">none</code>.
                        The first value specifies the spacing on the right and left;
                        the second value specifies the spacing above and below.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">equalrows</td>
                     
                     <td>"true" | "false"</td>
                     
                     <td>false</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies whether to force all rows to have the same total height.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">equalcolumns</td>
                     
                     <td>"true" | "false"</td>
                     
                     <td>false</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies whether to force all columns to have the same total width.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">displaystyle</td>
                     
                     <td>"true" | "false"</td>
                     
                     <td>false</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies the value of <code class="attribute">displaystyle</code> within each cell,
                        (<code class="attribute">scriptlevel</code> is not changed);
                        see <a href="#presm_scriptlevel"></a>.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">side</td>
                     
                     <td>"left" | "right" | "leftoverlap" | "rightoverlap"</td>
                     
                     <td>right</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies on what side of the table labels from enclosed <code class="element">mlabeledtr</code> (if any) should be  placed.
                        The variants <code class="attributevalue">leftoverlap</code> and <code class="attributevalue">rightoverlap</code>
                        are useful when the table fits with the allowed width
                        when the labels are omitted, but not when they are included:
                        in such cases, the labels will overlap the row placed above it
                        if the <code class="attribute">rowalign</code> for that row is <code class="attributevalue">top</code>,
                        otherwise it is placed below it.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">minlabelspacing</td>
                     
                     <td><a class="intref" href="#type_length"><em>length</em></a></td>
                     
                     <td>0.8em</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies the minimum space allowed between a label and the adjacent cell in the row.
                        </td>
                     </tr>
                  </tbody>
               </table>
            
            
            <p>In the above specifications for attributes affecting rows
               (respectively, columns, or the gaps between rows or columns),
               the notation <code>(...)+</code> means that multiple values can be given for the attribute
               as a space separated list (see <a href="#fund_attval"></a>).
               In this context, a single value specifies the value to be used for all rows (resp.,
               columns or gaps).
               A list of values are taken to apply to corresponding rows (resp., columns or gaps)
               in order, that is starting from the top row for rows or first column (left or right,
               depending on directionality) for columns.
               If there are more rows (resp., columns or gaps) than supplied values, the last value
               is repeated as needed.
               If there are too many values supplied, the excess are ignored.</p>
            
            
            <p>Note that none of the <span>areas</span> occupied by lines
               <code class="attribute">frame</code>, <code class="attribute">rowlines</code> and <code class="attribute">columnlines</code>,
               nor the spacing  <code class="attribute">framespacing</code>, <code class="attribute">rowspacing</code> or <code class="attribute">columnspacing</code>,
               nor the label in <code class="element">mlabeledtr</code> are counted as rows or columns.</p>
            
            
            <p>The <code class="attribute">displaystyle</code> attribute is allowed on the <code class="element">mtable</code>
               element to set the inherited value of the attribute.  If the attribute is
               not present, the <code class="element">mtable</code> element sets <code class="attribute">displaystyle</code> to
               <code class="attributevalue">false</code> within the table elements.
               (See <a href="#presm_scriptlevel"></a>.) </p>
            
            </section>
         
         
         <section>
            <h5>Examples</h5>
            
            
            <p>A 3 by 3 identity matrix could be represented as follows:
               
               <div class="example mathml">
                  <pre>
&lt;mrow&gt;
  &lt;mo&gt; ( &lt;/mo&gt;
  &lt;mtable&gt;
    &lt;mtr&gt;
      &lt;mtd&gt; &lt;mn&gt;1&lt;/mn&gt; &lt;/mtd&gt;
      &lt;mtd&gt; &lt;mn&gt;0&lt;/mn&gt; &lt;/mtd&gt;
      &lt;mtd&gt; &lt;mn&gt;0&lt;/mn&gt; &lt;/mtd&gt;
    &lt;/mtr&gt;
    &lt;mtr&gt;
      &lt;mtd&gt; &lt;mn&gt;0&lt;/mn&gt; &lt;/mtd&gt;
      &lt;mtd&gt; &lt;mn&gt;1&lt;/mn&gt; &lt;/mtd&gt;
      &lt;mtd&gt; &lt;mn&gt;0&lt;/mn&gt; &lt;/mtd&gt;
    &lt;/mtr&gt;
    &lt;mtr&gt;
      &lt;mtd&gt; &lt;mn&gt;0&lt;/mn&gt; &lt;/mtd&gt;
      &lt;mtd&gt; &lt;mn&gt;0&lt;/mn&gt; &lt;/mtd&gt;
      &lt;mtd&gt; &lt;mn&gt;1&lt;/mn&gt; &lt;/mtd&gt;
    &lt;/mtr&gt;
  &lt;/mtable&gt;
  &lt;mo&gt; ) &lt;/mo&gt;
&lt;/mrow&gt;
</pre>
               </div>
               </p>
            
            
            <p>This might be rendered as:
               </p>
            <blockquote>
               <p><img src="image/f3025.gif" alt="\left(\begin{array}{ccc}1 &amp; 0 &amp; 0 \\ 0 &amp; 1 &amp; 0 \\ 0 &amp; 0 &amp; 1\end{array}\right)"></img></p>
            </blockquote>
            <p>
               Note that the parentheses must be represented explicitly; they are not
               part of the <code class="element">mtable</code> element's rendering. This allows
               use of other surrounding fences, such as brackets, or none at all.</p>
            </section>
         </section>
      
      
      <section>
         <h4 id="presm_mtr">Row in Table or Matrix <code class="defn starttag">&lt;mtr&gt;</code> <a class="coreyes" href="../mathml-core/#mtr">core&#x2714;</a></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p>An <code class="element">mtr</code> element represents one row in a table
               or matrix. An <code class="element">mtr</code> element is only allowed as a
               direct sub-expression of an <code class="element">mtable</code> element, and
               specifies that its contents should form one row of the table. Each
               argument of <code class="element">mtr</code> is placed in a different column
               of the table, starting at the leftmost column in a LTR context or rightmost
               column in a RTL context.</p>
            
            
            <p>As described in <a href="#presm_mtable"></a>,
               <code class="element">mtr</code> elements are
               effectively padded with <code class="element">mtd</code> 
               elements when they are shorter than other rows in a table.
               </p>
            </section>
         
         
         <section>
            <h5>Attributes</h5>
            
            
            <p><code class="element">mtr</code> elements accept the attributes listed
               below in addition to those specified in <a href="#presm_presatt"></a>.</p>
            
            
            
            <table border="1" class="attributes">
               
               <thead>
                  
                  <tr>
                     
                     <td>Name</td>
                     
                     <td>values</td>
                     
                     <td>default</td>
                     
                     <td>Core</td>
                     </tr>
                  </thead>
               
               <tbody>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">rowalign</td>
                     
                     <td>"top" | "bottom" | "center" | "baseline" | "axis"</td>
                     
                     <td><em>inherited</em></td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        overrides, for this row, the vertical alignment of cells specified 
                        by the <a class="intref" href="#presm_mtable_attrs"><code class="attribute">rowalign</code></a> attribute on the <code class="element">mtable</code>.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">columnalign</td>
                     
                     <td>("left" | "center" | "right") +</td>
                     
                     <td><em>inherited</em></td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        overrides, for this row, the horizontal alignment of cells specified 
                        by the <a class="intref" href="#presm_mtable_attrs"><code class="attribute">columnalign</code></a> attribute on the <code class="element">mtable</code>.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">groupalign</td>
                     
                     <td><a class="intref" href="#type_group-align"><em>group-alignment-list-list</em></a></td>
                     
                     <td><em>inherited</em></td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        [this attribute is described with the alignment elements, <code class="element">maligngroup</code> and <code class="element">malignmark</code>,
                        in <a href="#presm_malign"></a>.]
                        </td>
                     </tr>
                  </tbody>
               </table>
            </section>
         </section>
      
      
      <section>
         <h4 id="presm_mlabeledtr">Labeled Row in Table or Matrix
            <code class="defn starttag">&lt;mlabeledtr&gt;</code></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p>An <code class="element">mlabeledtr</code> element represents one row in
               a table that has a label on either the left or right side, as
               determined by the <code class="attribute">side</code> attribute.  The label is
               the first child of <code class="element">mlabeledtr</code>, and should be enclosed in an <code class="element">mtd</code>.
               The rest of the children represent the contents of the row and are treated identically
               to the children of <code class="element">mtr</code>; consequently all of the children
                must be <code class="element">mtd</code> elements.
               </p>
            
            
            <p>
               An <code class="element">mlabeledtr</code> element is only allowed as a
               direct sub-expression of an <code class="element">mtable</code> element.
               Each argument of <code class="element">mlabeledtr</code> except for the first
               argument (the label) is placed in a different column
               of the table, starting at the leftmost column.</p>
            
            
            <p>Note that the label element is not considered to be a cell in the
               table row.  In particular, the label element is not taken into
               consideration in the table layout for purposes of width and alignment
               calculations.  For example, in the case of an <code class="element">mlabeledtr</code> with a label and a single centered <code class="element">mtd</code> child, the child is first centered in the
               enclosing <code class="element">mtable</code>, and then the label is
               placed.  Specifically, the child is <em>not</em> centered in the
               space that remains in the table after placing the label.</p>
            
            
            <p>While MathML does not specify an algorithm for placing labels,
               implementers of visual renderers may find the following formatting
               model useful.  To place a label, an <span>implementor</span> might think in terms
               of creating a larger table, with an extra column on both ends.  The
               <code class="attribute">columnwidth</code> attributes of both these border
               columns would be set to <code class="attributevalue">fit</code> so that they expand
               to fill whatever space remains after the inner columns have been laid
               out.  Finally, depending on the values of <code class="attribute">side</code>
               and <code class="attribute">minlabelspacing</code>, the label is placed
               in whatever border column is appropriate, possibly shifted down if
               necessary, and aligned according to <code class="attribute">columnalignment</code>.</p>
            </section>
         
         
         <section>
            <h5>Attributes</h5>
            
            
            <p>
               The attributes for <code class="element">mlabeledtr</code> are the same
               as for <code class="element">mtr</code>.  Unlike the attributes for the
               <code class="element">mtable</code> element, attributes of
               <code class="element">mlabeledtr</code> that apply to column elements
               also apply to the label.  For example, in a one column table,
               
               <div class="example mathml-fragment">
                  <pre>

&lt;mlabeledtr rowalign='top'&gt;

</pre>
               </div>
               means that the label and other entries in the row are vertically aligned
               along their top.  To force a particular alignment on the label,
               the appropriate attribute would normally be set on the
               <code class="element">mtd</code> <span>element</span> that surrounds the label content.
               </p>
            </section>
         
         
         <section>
            <h5>Equation Numbering</h5>
            
            
            <p>One of the important uses of <code class="element">mlabeledtr</code> is
               for numbered equations.  In a <code class="element">mlabeledtr</code>, the
               label represents the equation number and the elements in the row are
               the equation being numbered.  The <code class="attribute">side</code> and <code class="attribute">minlabelspacing</code> attributes of <code class="element">mtable</code> determine the placement of the equation
               number.</p>
            
            
            <p>In larger documents with many numbered equations, automatic
               numbering becomes important. While automatic equation numbering and
               automatically resolving references to equation numbers is outside the
               scope of MathML, these problems can be addressed by the use of style
               sheets or other means. The mlabeledtr construction provides support
               for both of these functions in a way that is intended to facilitate
               XSLT processing.  The <code class="element">mlabeledtr</code> element can be
               used to indicate the presence of a numbered equation, and the first
               child can be changed to the current equation number, along with
               incrementing the global equation number.  For cross references, an
               <code class="attribute">id</code> on either the mlabeledtr element or on the first element
               itself could be used as a target of any link.
               <span>Alternatively, in a CSS context, one could use an empty <code class="element">mtd</code>
                  as the first child of <code class="element">mlabeledtr</code> and use CSS counters and generated content
                  to fill in the equation number using a CSS style such as</span>
               
               <div class="example ">
                  <pre>
body {counter-reset: eqnum;}
mtd.eqnum {counter-increment: eqnum;}
mtd.eqnum:before {content: "(" counter(eqnum) ")"}
</pre>
               </div>
               </p>
            
            </section>
         
         <section>
            <h5>Example</h5>
            
            <div class="example mathml">
               <pre>
&lt;mtable&gt;
  &lt;mlabeledtr id='e-is-m-c-square'&gt;
    &lt;mtd&gt;
      &lt;mtext&gt; (2.1) &lt;/mtext&gt;
    &lt;/mtd&gt;
    &lt;mtd&gt;
     &lt;mrow&gt;
       &lt;mi&gt;E&lt;/mi&gt;
       &lt;mo&gt;=&lt;/mo&gt;
       &lt;mrow&gt;
        &lt;mi&gt;m&lt;/mi&gt;
        &lt;mo&gt;&amp;it;&lt;/mo&gt;
        &lt;msup&gt;
         &lt;mi&gt;c&lt;/mi&gt;
         &lt;mn&gt;2&lt;/mn&gt;
        &lt;/msup&gt;
       &lt;/mrow&gt;
     &lt;/mrow&gt;
    &lt;/mtd&gt;
  &lt;/mlabeledtr&gt;
&lt;/mtable&gt;
</pre>
            </div>
            
            
            <p>This should be rendered as:
               
               <table>
                  
                  <tbody>
                     
                     <tr>
                        
                        <td id="eqnoc1">&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;</td>
                        
                        <td id="eqnoc2"><i class="var">E</i> = <i class="var">m</i><i class="var">c</i><sup>2</sup></td> 
                        
                        <td id="eqnoc3">(2.1)</td>
                        </tr>
                     </tbody>
                  </table>
               </p>
            </section>
         </section>
      
      
      <section>
         <h4 id="presm_mtd">Entry in Table or Matrix <code class="defn starttag">&lt;mtd&gt;</code></h4> 
         
         
         <section>
            <h5>Description</h5>
            
            
            <p>An <code class="element">mtd</code> element represents one entry, or cell, in a
               table or matrix. An <code class="element">mtd</code> element is only
               allowed as a direct sub-expression of an <code class="element">mtr</code>
               or an <code class="element">mlabeledtr</code> element.</p>
            
            
            <p>The <code class="element">mtd</code> element accepts 
               a single argument possibly being an inferred <code class="element">mrow</code> of multiple children;
               see <a href="#presm_reqarg"></a>.</p>
            </section>
         
         
         <section>
            <h5 id="presm_mtdatts">Attributes</h5>
            
            <p><code class="element">mtd</code> elements accept the attributes listed
               below in addition to those specified in <a href="#presm_presatt"></a>.</p>
            
            <table border="1" class="attributes">
               
               <thead>
                  
                  <tr>
                     
                     <td>Name</td>
                     
                     <td>values</td>
                     
                     <td>default</td>
                     
                     <td>Core</td>
                     </tr>
                  </thead>
               
               <tbody>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">rowspan</td>
                     
                     <td><a class="intref" href="#type_positive-integer"><em>positive-integer</em></a></td>
                     
                     <td>1</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        causes the cell to be treated as if it occupied the number of rows specified.
                        The corresponding <code class="element">mtd</code> in the following <code class="attributevalue">rowspan</code>-1 rows must be omitted.
                        The interpretation corresponds with the similar attributes for HTML 4.01 tables.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">columnspan</td>
                     
                     <td><a class="intref" href="#type_positive-integer"><em>positive-integer</em></a></td>
                     
                     <td>1</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        causes the cell to be treated as if it occupied the number of columns specified.
                        The following <code class="attributevalue">rowspan</code>-1 <code class="element">mtd</code>s must be omitted.
                        The interpretation corresponds with the similar attributes for HTML 4.01 tables.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">rowalign</td>
                     
                     <td>"top" | "bottom" | "center" | "baseline" | "axis"</td>
                     
                     <td><em>inherited</em></td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies the vertical alignment of this cell, overriding any value
                        specified on the containing <code class="element">mrow</code> and <code class="element">mtable</code>.
                        See the <a class="intref" href="#presm_mtable_attrs"><code class="attribute">rowalign</code></a> attribute of <code class="element">mtable</code>.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">columnalign</td>
                     
                     <td>"left" | "center" | "right"</td>
                     
                     <td><em>inherited</em></td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies the horizontal alignment of this cell, overriding any value
                        specified on the containing <code class="element">mrow</code> and <code class="element">mtable</code>.
                        See the <a class="intref" href="#presm_mtable_attrs"><code class="attribute">columnalign</code></a> attribute of <code class="element">mtable</code>.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">groupalign</td>
                     
                     <td><a class="intref" href="#type_group-align"><em>group-alignment-list</em></a></td>
                     
                     <td><em>inherited</em></td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        [this attribute is described with the alignment elements, <code class="element">maligngroup</code> and <code class="element">malignmark</code>,
                        in <a href="#presm_malign"></a>.]
                        </td>
                     </tr>
                  </tbody>
               </table>
            
            
            <p>The <code class="attribute">rowspan</code> and <code class="attribute">columnspan</code> attributes
               can be used around an <code class="element">mtd</code> element that represents
               the label in a <code class="element">mlabeledtr</code> element.
               Also, the label of a <code class="element">mlabeledtr</code> element is not
               considered to be part of a previous <code class="attribute">rowspan</code> and
               <code class="attribute">columnspan</code>.
               </p>
            
            </section>
         </section>
      
      
      <section>
         <h4 id="presm_malign">Alignment Markers
            <code class="emptytag">&lt;maligngroup/&gt;</code>, <code class="emptytag">&lt;malignmark/&gt;</code></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p>Alignment markers are space-like elements (see <a href="#presm_mspace"></a>) that can be used 
               to vertically align specified points within a column of MathML
               expressions by the automatic insertion of the necessary amount of
               horizontal space between specified sub-expressions.</p>
            
            
            <p>The discussion that follows will use the example of a set of
               simultaneous equations that should be rendered with vertical
               alignment of the coefficients and variables of each term, by
               inserting spacing somewhat like that shown here:
               
               <div class="example ">
                  <pre>
    8.44x + 55  y =  0
    3.1 x -  0.7y = -1.1
</pre>
               </div>
               If the example expressions shown above were arranged in a column
               but not aligned, they would appear as:
               
               <div class="example ">
                  <pre>
    8.44x + 55y = 0
    3.1x - 0.7y = -1.1
</pre>
               </div>
               For audio renderers, it is suggested that the alignment elements
               produce the analogous behavior of altering the rhythm of pronunciation
               so that it is the same for several sub-expressions in a column, by the
               insertion of the appropriate time delays in place of the extra
               horizontal spacing described here.</p>
            
            
            <p>The expressions whose parts are to be aligned (each equation, in the
               example above) must be given as the table elements (i.e. as the <code class="element">mtd</code> elements) of one column of an
               <code class="element">mtable</code>. To avoid confusion, the term <span>&#x201c;table
                  cell&#x201d;</span> rather than <span>&#x201c;table element&#x201d;</span> will be used in the
               remainder of this section.</p>
            
            
            <p>All interactions between alignment elements are limited to the
               <code class="element">mtable</code> column they arise in. That is, every
               column of a table specified by an <code class="element">mtable</code> element
               acts as an <span>&#x201c;alignment scope&#x201d;</span> that contains within it all alignment
               effects arising from its contents. It also excludes any interaction
               between its own alignment elements and the alignment elements inside
               any nested alignment scopes it might contain.</p>
            
            
            <p>The reason <code class="element">mtable</code> columns are used as
               alignment scopes is that they are the only general way in MathML to
               arrange expressions into vertical columns. Future versions of MathML
               may provide an <code class="element" data-namespace="future-mathml">malignscope</code> element that allows
               an alignment scope to be created around any MathML element, but even
               then, table columns would still sometimes need to act as alignment
               scopes, and since they are not elements themselves, but rather are
               made from corresponding parts of the content of several
               <code class="element">mtr</code> elements, they could not individually be the
               content of an alignment scope element.</p>
            
            
            <p>An <code class="element">mtable</code> element can be given the attribute
               <code class="attribute">alignmentscope</code>=<code class="attributevalue">false</code> to cause 
               its columns not to act as alignment scopes. This is discussed further at
               the end of this section. Otherwise, the discussion in this section assumes
               that this attribute has its default value of <code class="attributevalue">true</code>.</p>
            </section>
         
         
         <section>
            <h5>Specifying alignment groups</h5>
            
            
            <p>To cause alignment, it is necessary to specify, within each
               expression to be aligned, the points to be aligned with corresponding
               points in other expressions, and the beginning of each <em>alignment
                  group</em> of sub-expressions that can be horizontally shifted as a
               unit to effect the alignment. Each alignment group must contain one
               alignment point. It is also necessary to specify which expressions in
               the column have no alignment groups at all, but are affected only by
               the ordinary column alignment for that column of the table, i.e. by
               the <code class="attribute">columnalign</code> attribute, described elsewhere.</p>
            
            
            <p>The alignment groups start at the locations of invisible
               <code class="element">maligngroup</code> elements, which are rendered with
               zero width when they occur outside of an alignment scope, but within
               an alignment scope are rendered with just enough horizontal space to
               cause the desired alignment of the alignment group that follows
               them. A simple algorithm by which a MathML application can achieve this is given
               later. In the example above, each equation would have one
               <code class="element">maligngroup</code> element before each coefficient,
               variable, and operator on the left-hand side, one before the
               <code>=</code> sign, and one before the constant on the right-hand
               side.</p>
            
            
            <p>In general, a table cell containing <i class="var">n</i>
               <code class="element">maligngroup</code> elements contains <i class="var">n</i>
               alignment groups, with the <i class="var">i</i>th group consisting of the
               elements entirely after the <i class="var">i</i>th
               <code class="element">maligngroup</code> element and before the
               (<i class="var">i</i>+1)-th; no element within the table cell's content
               should occur entirely before its first
               <code class="element">maligngroup</code> element.</p>
            
            
            <p>Note that the division into alignment groups does <em>not</em>
               necessarily fit the nested expression structure of the MathML
               expression containing the groups &#x2014; that is, it is permissible for one
               alignment group to consist of the end of one
               <code class="element">mrow</code>, all of another one, and the beginning of a
               third one, for example. This can be seen in the MathML markup for the
               present example, given at the end of this section.</p>
            
            
            <p>The nested expression structure formed by <code class="element">mrow</code>s
               and other layout schemata should reflect the mathematical structure of the
               expression, not the alignment-group structure, to make possible optimal
               renderings and better automatic interpretations; see the discussion of
               proper grouping in section <a href="#presm_mrow"></a>. Insertion of
               alignment elements (or other space-like elements) should not alter the
               correspondence between the structure of a MathML expression and the
               structure of the mathematical expression it represents.</p>
            
            
            <p>Although alignment groups need <span>not</span>
               coincide with the nested expression structure of layout schemata,
               there are nonetheless restrictions on where an <code class="element">maligngroup</code>
               element is allowed within a table cell. The <code class="element">maligngroup</code>
               element may only be contained within elements <span>(directly or indirectly)</span> of the following types
               (which are themselves contained in the table cell):
               </p>
            <ul>
               
               <li>
                  <p>an <code class="element">mrow</code> element, including an inferred
                     <code class="element">mrow</code> such as the one formed by a multi-child
                     <code class="element">mtd</code> element<span>, but excluding <code class="element">mrow</code> which
                        contains a change of direction using the <code class="attribute">dir</code> attribute</span>;</p>
                  </li>
               
               
               <li>
                  <p>an <code class="element">mstyle</code> element
                     <span>, but excluding those which change direction
                        using the <code class="attribute">dir</code> attribute</span>;</p>
                  </li>
               
               
               <li>
                  <p>an <code class="element">mphantom</code> element;</p>
                  </li>
               
               
               <li>
                  <p>an <code class="element">mfenced</code> element;</p>
                  </li>
               
               
               <li>
                  <p>an <code class="element">maction</code> element, though only its
                     selected sub-expression is checked;</p>
                  </li>
               
               
               <li>
                  <p>a <code class="element">semantics</code> element.</p>
                  </li> 
               </ul>
            
            
            <p>These restrictions are intended to ensure that alignment can be
               unambiguously specified, while avoiding complexities involving things
               like overscripts, radical signs and fraction bars. They also ensure
               that a simple algorithm suffices to accomplish the desired
               alignment.</p>
            
            
            <p>Note that some positions for an <code class="element">maligngroup</code>
               element, although legal, are not useful, such as  an
               <code class="element">maligngroup</code> element <span>that is</span> an argument of an
               <code class="element">mfenced</code> element. <span>Similarly, when inserting an <code class="element">maligngroup</code>
                  element in an element whose arguments have positional significance, it
                  is necessary to introduce a new <code class="element">mrow</code> element
                  containing just the <code class="element">maligngroup</code> element and the child element
                  it precedes in order to preserve the proper expression structure.  For
                  example, to insert an <code class="element">maligngroup</code> before the denominator
                  child of an <code class="element">mfrac</code> element, it is necessary to enclose the
                  <code class="element">maligngroup</code> and the denominator in an <code class="element">mrow</code> to
                  avoid introducing an illegal third child in the
                  <code class="element">mfrac</code>.</span> In general, this will be necessary except
               when the <code class="element">maligngroup</code> element is inserted directly into an
               <code class="element">mrow</code> or into an element that can form an inferred
               <code class="element">mrow</code> from its contents.  See the warning about the legal
               grouping of <span>&#x201c;space-like elements&#x201d;</span> in <a href="#presm_mspace"></a> <span>for an analogous example 
                  involving <code class="element">malignmark</code></span>.</p> 
            
            
            <p>For the table cells that are divided into alignment groups, every
               element in their content must be part of exactly one alignment group,
               except <span>for</span> the elements from the above list that contain
               <code class="element">maligngroup</code> elements inside them and the
               <code class="element">maligngroup</code> elements themselves. This means
               that, within any table cell containing alignment groups, the first
               complete element must be an <code class="element">maligngroup</code> element,
               though this may be preceded by the start tags of other elements.</p>
            
            
            <p>This requirement removes a potential confusion about how to align
               elements before the first <code class="element">maligngroup</code> element,
               and makes it easy to identify table cells that are left out of their
               column's alignment process entirely.</p>
            
            
            <p>Note that it is not required that the table cells in a column that
               are divided into alignment groups each contain the same number of
               groups. If they don't, zero-width alignment groups are effectively
               added on the right side<span> (or left side, in a RTL context)</span> of each table cell that has fewer groups than
               other table cells in the same column.</p>
            </section>
         
         
         <section>
            <h5>Table cells that are not divided into alignment groups</h5>
            
            
            <p>Expressions in a column that are to have no alignment groups
               should contain no <code class="element">maligngroup</code>
               elements. Expressions with no alignment groups are aligned using only
               the <code class="attribute">columnalign</code> attribute that applies to the table
               column as a whole, and are not affected by the <code class="attribute">groupalign</code>
               attribute described below. If such an expression is wider than the
               column width needed for the table cells containing alignment groups,
               all the table cells containing alignment groups will be shifted as a
               unit within the column as described by the <code class="attribute">columnalign</code>
               attribute for that column. For example, a column heading with no
               internal alignment could be added to the column of two equations given
               above by preceding them with another table row containing an
               <code class="element">mtext</code> element for the heading, and using the
               default <code class="attribute">columnalign</code>="center" for the table, to
               produce:
               
               <div class="example ">
                  <pre>
equations with aligned variables
      8.44x + 55  y =  0
      3.1 x -  0.7y = -1.1
</pre>
               </div>
               or, with a shorter heading,
               
               <div class="example ">
                  <pre>
   some equations
8.44x + 55  y =  0
3.1 x -  0.7y = -1.1
</pre>
               </div>
               </p>
            </section>
         
         
         <section>
            <h5>Specifying alignment points using <code class="emptytag">&lt;malignmark/&gt;</code></h5>
            
            
            <p>Each alignment group's alignment point can either be specified by
               an <code class="element">malignmark</code> element anywhere within the
               alignment group (except within another alignment scope wholly
               contained inside it), or it is determined automatically from the
               <code class="attribute">groupalign</code> attribute. The <code class="attribute">groupalign</code>
               attribute can be specified on the group's preceding
               <code class="element">maligngroup</code> element or on its surrounding
               <code class="element">mtd</code>, <code class="element">mtr</code>, or
               <code class="element">mtable</code> elements. In typical cases, using the
               <code class="attribute">groupalign</code> attribute is sufficient to describe the
               desired alignment points, so no <code class="element">malignmark</code>
               elements need to be provided.</p>
            
            
            <p>The <code class="element">malignmark</code> element indicates that the
               alignment point should occur on the right edge of the preceding
               element, or the left edge of the following element or character,
               depending on the <code class="attribute">edge</code> attribute of
               <code class="element">malignmark</code>. Note that it may be necessary to
               introduce an <code class="element">mrow</code> to group an
               <code class="element">malignmark</code> element with a neighboring element,
               in order not to alter the argument count of the containing
               element. (See the warning about the legal grouping of <span>&#x201c;space-like
                  elements&#x201d;</span> in <a href="#presm_mspace"></a>).</p>
            
            
            <p>When an <code class="element">malignmark</code> element is provided within an
               alignment group, it can occur in an arbitrarily deeply nested element
               within the group, as long as it is not within a nested alignment scope. It
               is not subject to the same restrictions on location as <code class="element">maligngroup</code> elements. However, its immediate
               surroundings need to be such that the element to its immediate right or
               left (depending on its <code class="attribute">edge</code> attribute) can be
               unambiguously identified. If no such element is present, renderers should
               behave as if a zero-width element had been inserted there.</p>
            
            
            <p>For the purposes of alignment, an element X is considered to be to the
               immediate left of an element Y, and Y to the immediate right of X, whenever
               X and Y are successive arguments of one (possibly inferred) <code class="element">mrow</code> element,
               with X coming before Y<span> (in a LTR context; with X coming after Y in a RTL context)</span>. In the case of
               <code class="element">mfenced</code> elements, MathML applications should evaluate this
               relation as if the <code class="element">mfenced</code> element had been
               replaced by the equivalent expanded form involving <code class="element">mrow</code>. Similarly, an <code class="element">maction</code>
               element should be treated as if it were replaced by its currently selected
               sub-expression. In all other cases, no relation of <span>&#x201c;to the immediate
                  left or right&#x201d;</span> is defined for two elements X and Y. However, in the
               case of content elements interspersed in presentation markup, MathML applications
               should attempt to evaluate this relation in a sensible way. For example, if
               a renderer maintains an internal presentation structure for rendering
               content elements, the relation could be evaluated with respect to
               that. (See <a href="#contm"></a> and <a href="#mixing"></a> for further
               details about mixing presentation and content markup.)</p>
            
            
            <p>
               <code class="element">malignmark</code> elements are allowed to occur within
               the content of token elements, such as <code class="element">mn</code>,
               <code class="element">mi</code>, or <code class="element">mtext</code>. When this
               occurs, the character immediately before or after the
               <code class="element">malignmark</code> element will carry the alignment
               point; in all other cases, the element to its immediate left or right
               will carry the alignment point. The rationale for this is that it is
               sometimes desirable to align on the edges of specific characters
               within multi-character token elements.</p>
            
            
            <p>If there is more than one <code class="element">malignmark</code> element
               in an alignment group, all but the first one will be ignored. MathML
               applications may wish to provide a mode in which they will warn about
               this situation, but it is not an error, and should trigger no warnings
               by default. <span>The rationale for this is that</span> it would
               be inconvenient to have to remove all 
               unnecessary <code class="element">malignmark</code> elements from
               automatically generated data, in certain cases, such as when they are
               used to specify alignment on <span>&#x201c;decimal points&#x201d;</span> other than the '.' 
               character.</p>
            </section>
         
         
         <section>
            <h5><code class="defn emptytag">&lt;malignmark/&gt;</code> Attributes</h5>
            
            <p><code class="element">malignmark</code> elements accept the attributes listed
               below in addition to those specified in <a href="#presm_presatt"></a>
               (however, neither <code class="attribute">mathcolor</code> nor <code class="attribute">mathbackground</code> have any effect).</p>
            
            
            
            <table border="1" class="attributes">
               
               <thead>
                  
                  <tr>
                     
                     <td>Name</td>
                     
                     <td>values</td>
                     
                     <td>default</td>
                     
                     <td>Core</td>
                     </tr>
                  </thead>
               
               <tbody>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">edge</td>
                     
                     <td>"left" | "right"</td>
                     
                     <td>left</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        see the discussion below.
                        </td>
                     </tr>
                  </tbody>
               </table>
            
            
            <p><span>The
                  <code class="attribute">edge</code> attribute</span> specifies whether the alignment point will be
               found on the left or right edge of some element or character. The
               precise location meant by <span>&#x201c;left edge&#x201d;</span> or <span>&#x201c;right edge&#x201d;</span> is discussed
               below. If <code class="attribute">edge</code>="right", the alignment point is the right
               edge of the element or character to the immediate left of the
               <code class="element">malignmark</code> element. If <code class="attribute">edge</code>="left",
               the alignment point is the left edge of the element or character to
               the immediate right of the <code class="element">malignmark</code>
               element. Note that the attribute refers to the choice of edge rather
               than to the direction in which to look for the element whose edge will
               be used.</p>
            
            
            <p>For <code class="element">malignmark</code> elements that occur within
               the content of MathML token elements, the preceding or following
               character in the token element's content is used; if there is no such
               character, a zero-width character is effectively inserted for the
               purpose of carrying the alignment point on its edge. For all other
               <code class="element">malignmark</code> elements, the preceding or following
               element is used; if there is no such element, a zero-width element is
               effectively inserted to carry the alignment point.</p>
            
            
            <p>The precise definition of the <span>&#x201c;left edge&#x201d;</span> or <span>&#x201c;right edge&#x201d;</span> of a
               character or glyph (e.g. whether it should coincide with an edge of
               the character's bounding box) is not specified by MathML, but is at
               the discretion of the renderer; the renderer is allowed to let the
               edge position depend on the character's context as well as on the
               character itself.</p>
            
            
            <p>For proper alignment of columns of numbers (using <code class="attribute">groupalign</code> values of <code class="attributevalue">left</code>, <code class="attributevalue">right</code>, or <code class="attributevalue">decimalpoint</code>), it is
               likely to be desirable for the effective width (i.e. the distance between
               the left and right edges) of decimal digits to be constant, even if their
               bounding box widths are not constant (e.g. if <span>&#x201c;1&#x201d;</span> is narrower
               than other digits). For other characters, such as letters and operators, it
               may be desirable for the aligned edges to coincide with the bounding
               box.</p>
            
            
            <p>The <span>&#x201c;left edge&#x201d;</span> of a MathML element or alignment group
               refers to the left edge of the leftmost glyph drawn to render the element
               or group, except that explicit space represented by <code class="element">mspace</code> or <code class="element">mtext</code> elements
               should also count as <span>&#x201c;glyphs&#x201d;</span> in this context, as should
               glyphs that would be drawn if not for <code class="element">mphantom</code>
               elements around them. The <span>&#x201c;right edge&#x201d;</span> of an element or
               alignment group is defined similarly.</p>
            </section>
         
         
         <section>
            <h5><code class="defn emptytag">&lt;maligngroup/&gt;</code> Attributes</h5>
            
            
            <p><code class="element">maligngroup</code> elements accept the attributes listed
               below in addition to those specified in <a href="#presm_presatt"></a>
               (however, neither <code class="attribute">mathcolor</code> nor <code class="attribute">mathbackground</code> have any effect).</p>
            
            
            <table border="1" class="attributes">
               
               <thead>
                  
                  <tr>
                     
                     <td>Name</td>
                     
                     <td>values</td>
                     
                     <td>default</td>
                     
                     <td>Core</td>
                     </tr>
                  </thead>
               
               <tbody>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">groupalign</td>
                     
                     <td>"left" | "center" | "right" | "decimalpoint"</td>
                     
                     <td><em>inherited</em></td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        see the discussion below.
                        </td>
                     </tr>
                  </tbody>
               </table>
            
            
            <p><code class="element">maligngroup</code> has one attribute,
               <code class="attribute">groupalign</code>, which is used to determine the position of
               its group's alignment point when no <code class="element">malignmark</code>
               element is present. The following discussion assumes that no
               <code class="element">malignmark</code> element is found within a group.</p>
            
            
            <p>In the example given at the beginning of this section, there is one
               column of 2 table cells, with 7 alignment groups in each table cell;
               thus there are 7 columns of alignment groups, with 2 groups, one above
               the other, in each column. These columns of alignment groups should be
               given the 7 <code class="attribute">groupalign</code> values <span>&#x201c;decimalpoint left left
                  decimalpoint left left decimalpoint&#x201d;</span>, in that order. How to specify
               this list of values for a table cell or table column as a whole, using
               attributes on elements surrounding the
               <code class="element">maligngroup</code> element is described later.</p>
            
            
            <p>If <code class="attribute">groupalign</code> is <span>&#x201c;left&#x201d;</span>,
               <span>&#x201c;right&#x201d;</span>, or <span>&#x201c;center&#x201d;</span>, the alignment point is
               defined to be at the group's left edge, at its right edge, or halfway
               between these edges, respectively. The meanings of <span>&#x201c;left edge&#x201d;</span>
               and <span>&#x201c;right edge&#x201d;</span> are as discussed above in relation to <code class="element">malignmark</code>.</p>
            
            
            <p>If <code class="attribute">groupalign</code> is <span>&#x201c;decimalpoint&#x201d;</span>, 
               the alignment point is the right edge of the character immediately before the
               left-most 'decimal point', i.e. matching the character specified by
               the <code class="attribute">decimalpoint</code> attribute of <code class="element">mstyle</code> (default ".", U+002E)
               in the first <code class="element">mn</code> element found along
               the alignment group's baseline. More precisely, the alignment group is
               scanned recursively, depth-first, for the first <code class="element">mn</code>
               element, descending into all arguments of each element of the types
               <code class="element">mrow</code> (including inferred
               <code class="element">mrow</code>s), <code class="element">mstyle</code>,
               <code class="element">mpadded</code>, <code class="element">mphantom</code>, <code class="element">menclose</code>,
               <code class="element">mfenced</code>, or <code class="element">msqrt</code>,
               descending into only the first argument of each <span>&#x201c;scripting&#x201d;</span> element
               (<code class="element">msub</code>, <code class="element">msup</code>,
               <code class="element">msubsup</code>, <code class="element">munder</code>,
               <code class="element">mover</code>, <code class="element">munderover</code>,
               <code class="element">mmultiscripts</code>) or of each
               <code class="element">mroot</code> or <code class="element">semantics</code> element,
               descending into only the selected sub-expression of each
               <code class="element">maction</code> element, and skipping the content of all
               other elements. The first <code class="element">mn</code> so found always
               contains the alignment point, which is the right edge of the last
               character before the first decimal point in the content of the
               <code class="element">mn</code> element. If there is no decimal point in the
               <code class="element">mn</code> element, the alignment point is the right edge
               of the last character in the content. If the decimal point is the
               first character of the <code class="element">mn</code> element's content, the
               right edge of a zero-width character inserted before the decimal point
               is used. If no <code class="element">mn</code> element is found, the right
               edge of the entire alignment group is used (as for
               <code class="attribute">groupalign</code>="right").</p>
            
            
            <p>In order to permit alignment on decimal points in
               <code class="element">cn</code> elements, a MathML application can convert a
               content expression into a presentation expression that renders the
               same way before searching for decimal points as described above.</p>
            
            
            <p>Characters other than <span>&#x201c;.&#x201d;</span> can be used as
               <span>&#x201c;decimal points&#x201d;</span> for alignment by using <code class="element">mstyle</code>;
               more arbitrary alignment points can chosen by embedding <code class="element">malignmark</code> elements
               within the <code class="element">mn</code> token's content itself.</p>
            
            
            <p>For any of the <code class="attribute">groupalign</code> values, if an explicit
               <code class="element">malignmark</code> element is present anywhere within
               the group, the position it specifies (described earlier) overrides the
               automatic determination of alignment point from the
               <code class="attribute">groupalign</code> value.</p>
            </section>
         
         
         <section>
            <h5>Inheritance of <code class="attribute">groupalign</code> values</h5>
            
            
            <p>It is not usually necessary to put a <code class="attribute">groupalign</code>
               attribute on every <code class="element">maligngroup</code> element. Since
               this attribute is usually the same for every group in a column of
               alignment groups to be aligned, it can be inherited from an attribute
               on the <code class="element">mtable</code> that was used to set up the
               alignment scope as a whole, or from the <code class="element">mtr</code> or
               <code class="element">mtd</code> elements surrounding the alignment group. It
               is inherited via an <span>&#x201c;inheritance path&#x201d;</span> that proceeds from
               <code class="element">mtable</code> through successively contained
               <code class="element">mtr</code>, <code class="element">mtd</code>, and
               <code class="element">maligngroup</code> elements. There is exactly one
               element of each of these kinds in this path from an
               <code class="element">mtable</code> to any alignment group inside it.  <span>In
                  general, t</span>he value of <code class="attribute">groupalign</code> will be 
               inherited by any given alignment group from the innermost element
               that surrounds the alignment group and provides an explicit
               setting for this attribute.  <span>For example, if an
                  <code class="element">mtable</code> element specifies values for <code class="attribute">groupalign</code> and
                  a <code class="element">maligngroup</code> element within the table also specifies an
                  explicit <code class="attribute">groupalign</code> value, then then the value from the
                  <code class="element">maligngroup</code> takes priority.</span></p>
            
            
            <p id="type_group-align">Note, however, that each <code class="element">mtd</code> element needs, in
               general, a list of <code class="attribute">groupalign</code> values, one for each
               <code class="element">maligngroup</code> element inside it<span> (from left to right, in an LTR context,
                  or from right to left in an RTL context)</span>, rather than just
               a single value. Furthermore, an <code class="element">mtr</code> or
               <code class="element">mtable</code> element needs, in general, a list of lists
               of <code class="attribute">groupalign</code> values, since it spans multiple
               <code class="element">mtable</code> columns, each potentially acting as an
               alignment scope. Such lists of <em>group-alignment</em> values are specified
               using the following syntax rules:
               
               
               <div class="example ">
                  <pre>
group-alignment             = "left" | "right" | "center" | "decimalpoint"
group-alignment-list        = <em>group-alignment</em> +
group-alignment-list-list   = ( "{" <em>group-alignment-list</em> "}" ) +
</pre>
               </div>
               </p>
            
            
            <p>As described in <a href="#fund_attval"></a>, <code>|</code> separates
               alternatives; <code>+</code> represents optional repetition (i.e. 1 or
               more copies of what precedes it), with extra values ignored and the
               last value repeated if necessary to cover additional table columns or
               alignment group columns; <code>'{'</code> and <code>'}'</code>
               represent literal braces; and <code>(</code> and <code>)</code> are
               used for grouping, but do not literally appear in the attribute
               value.</p>
            
            
            <p>The permissible values of the <code class="attribute">groupalign</code> attribute of the
               elements that have this attribute are specified using the above
               syntax definitions as follows:
               
               <table border="1">
                  
                  <thead>
                     
                     <tr>
                        
                        <td>Element type</td>
                        
                        <td>groupalign attribute syntax</td>
                        
                        <td>default value</td>
                        </tr>
                     </thead>
                  
                  <tbody>
                     
                     <tr>
                        
                        <td><code class="element">mtable</code></td>
                        
                        <td><a class="intref" href="#type_group-align"><em>group-alignment-list-list</em></a></td>
                        
                        <td>{left}</td>
                        </tr>
                     
                     <tr>
                        
                        <td><code class="element">mtr</code></td>
                        
                        <td><a class="intref" href="#type_group-align"><em>group-alignment-list-list</em></a></td>
                        
                        <td><em>inherited from <code class="element">mtable</code> attribute</em></td>
                        </tr>
                     
                     <tr>
                        
                        <td><code class="element">mlabeledtr</code></td>
                        
                        <td><a class="intref" href="#type_group-align"><em>group-alignment-list-list</em></a></td>
                        
                        <td><em>inherited from <code class="element">mtable</code> attribute</em></td>
                        </tr>
                     
                     <tr>
                        
                        <td><code class="element">mtd</code></td>
                        
                        <td><a class="intref" href="#type_group-align"><em>group-alignment-list</em></a></td>
                        
                        <td><em>inherited from within <code class="element">mtr</code> attribute</em></td>
                        </tr>
                     
                     <tr>
                        
                        <td><code class="element">maligngroup</code></td>
                        
                        <td><a class="intref" href="#type_group-align"><em>group-alignment</em></a></td>
                        
                        <td><em>inherited from within <code class="element">mtd</code> attribute</em></td>
                        </tr>
                     </tbody>
                  </table>
               </p>
            
            
            <p>In the example near the beginning of this section, the group
               alignment values could be specified on every <code class="element">mtd</code>
               element using <code class="attribute">groupalign</code> = <span>&#x201c;decimalpoint left left
                  decimalpoint left left decimalpoint&#x201d;</span>, or on every
               <code class="element">mtr</code> element using <code class="attribute">groupalign</code> =
               <span>&#x201c;{decimalpoint left left decimalpoint left left decimalpoint}&#x201d;</span>, or
               (most conveniently) on the <code class="element">mtable</code> as a whole
               using <code class="attribute">groupalign</code> = <span>&#x201c;{decimalpoint left left decimalpoint
                  left left decimalpoint}&#x201d;</span>, which provides a single braced list of
               <a class="intref" href="#type_group-align"><em>group-alignment</em></a> values for the single column of expressions to be
               aligned.</p>
            </section>
         
         
         <section>
            <h5>MathML representation of an alignment example</h5>
            
            
            <p>The above rules are sufficient to explain the MathML representation
               of the example given near the start of this section. 
               To repeat the example, the desired rendering is:
               
               <div class="example ">
                  <pre>
    8.44x + 55  y =  0
    3.1 x -  0.7y = -1.1
</pre>
               </div>
               </p>
            
            
            <p>One way to represent that in MathML is:
               
               <div class="example mathml">
                  <pre>
&lt;mtable groupalign=
         "{decimalpoint left left decimalpoint left left decimalpoint}"&gt;
  &lt;mtr&gt;
    &lt;mtd&gt;
      &lt;mrow&gt;
        &lt;mrow&gt;
          &lt;mrow&gt;
            &lt;maligngroup/&gt;
            &lt;mn&gt; 8.44 &lt;/mn&gt;
            &lt;mo&gt; &amp;InvisibleTimes; &lt;/mo&gt;
            &lt;maligngroup/&gt;
            &lt;mi&gt; x &lt;/mi&gt;
          &lt;/mrow&gt;
          &lt;maligngroup/&gt;
          &lt;mo&gt; + &lt;/mo&gt;
          &lt;mrow&gt;
            &lt;maligngroup/&gt;
            &lt;mn&gt; 55 &lt;/mn&gt;
            &lt;mo&gt; &amp;InvisibleTimes; &lt;/mo&gt;
            &lt;maligngroup/&gt;
            &lt;mi&gt; y &lt;/mi&gt;
          &lt;/mrow&gt;
        &lt;/mrow&gt;
      &lt;maligngroup/&gt;
      &lt;mo&gt; = &lt;/mo&gt;
      &lt;maligngroup/&gt;
      &lt;mn&gt; 0 &lt;/mn&gt;
    &lt;/mrow&gt;
    &lt;/mtd&gt;
<span>  &lt;/mtr&gt;
  &lt;mtr&gt;</span>
    &lt;mtd&gt;
      &lt;mrow&gt;
        &lt;mrow&gt;
          &lt;mrow&gt;
            &lt;maligngroup/&gt;
            &lt;mn&gt; 3.1 &lt;/mn&gt;
            &lt;mo&gt; &amp;InvisibleTimes; &lt;/mo&gt;
            &lt;maligngroup/&gt;
            &lt;mi&gt; x &lt;/mi&gt;
          &lt;/mrow&gt;
          &lt;maligngroup/&gt;
          &lt;mo&gt; - &lt;/mo&gt;
          &lt;mrow&gt;
            &lt;maligngroup/&gt;
            &lt;mn&gt; 0.7 &lt;/mn&gt;
            &lt;mo&gt; &amp;InvisibleTimes; &lt;/mo&gt;
            &lt;maligngroup/&gt;
            &lt;mi&gt; y &lt;/mi&gt;
          &lt;/mrow&gt;
        &lt;/mrow&gt;
        &lt;maligngroup/&gt;
        &lt;mo&gt; = &lt;/mo&gt;
        &lt;maligngroup/&gt;
        &lt;mrow&gt;
          &lt;mo&gt; - &lt;/mo&gt;
          &lt;mn&gt; 1.1 &lt;/mn&gt;
        &lt;/mrow&gt;
      &lt;/mrow&gt;
    &lt;/mtd&gt;
  &lt;/mtr&gt;
&lt;/mtable&gt;
</pre>
               </div>
               </p>
            </section>
         
         
         <section>
            <h5>Further details of alignment elements</h5>
            
            
            <p>The alignment elements <code class="element">maligngroup</code> and
               <code class="element">malignmark</code> can occur outside of alignment
               scopes, where they are ignored. The rationale behind this is that in
               situations in which MathML is generated, or copied from another
               document, without knowing whether it will be placed inside an
               alignment scope, it would be inconvenient for this to be an error.</p>
            
            
            <p>An <code class="element">mtable</code> element can be given the attribute <code class="attribute">alignmentscope</code>=<code class="attributevalue">false</code> to cause its
               columns not to act as alignment scopes. In general, this attribute has the
               syntax <code>("true" | "false") +</code>; if its value is a list of Boolean
               values, each Boolean value applies to one column, with the last value
               repeated if necessary to cover additional columns, or with extra values
               ignored. Columns that are not alignment scopes are part of the alignment
               scope surrounding the <code class="element">mtable</code> element, if there is
               one. Use of <code class="attribute">alignmentscope</code>=<code class="attributevalue">false</code> allows nested tables to contain <code class="element">malignmark</code> elements for aligning the inner table in the
               surrounding alignment scope.</p>
            
            
            <p>As discussed above, processing of alignment for content elements is
               not well-defined, since MathML does not specify how content elements
               should be rendered. However, many MathML applications are likely to find it
               convenient to internally convert content elements to presentation
               elements that render the same way. Thus, as a general rule, even if a
               renderer does not perform such conversions internally, it is
               recommended that the alignment elements should be processed as if it
               did perform them.</p>
            
            
            <p>A particularly important case for renderers to handle gracefully is the
               interaction of alignment elements with the <code class="element">matrix</code>
               content element, since this element may or may not be internally converted
               to an expression containing an <code class="element">mtable</code> element for
               rendering. To partially resolve this ambiguity, it is suggested, but not
               required, that if the <code class="element">matrix</code> element is converted
               to an expression involving an <code class="element">mtable</code> element, that
               the <code class="element">mtable</code> element be given the attribute <code class="attribute">alignmentscope</code>=<code class="attributevalue">false</code>, which will
               make the interaction of the <code class="element">matrix</code> element with the
               alignment elements no different than that of a generic presentation element
               (in particular, it will allow it to contain <code class="element">malignmark</code> elements that operate within the alignment
               scopes created by the columns of an <code class="element">mtable</code> that
               contains the <code class="element">matrix</code> element in one of its table
               cells).</p>
            
            
            <p>The effect of alignment elements within table cells that have
               non-default values of the <code class="attribute">columnspan</code> or <code class="attribute">rowspan</code> attributes is not specified, except that such
               use of alignment elements is not an error. Future versions of MathML may
               specify the behavior of alignment elements in such table cells.</p>
            
            
            <p>The effect of possible linebreaking of an <code class="element">mtable</code>
               element on the alignment elements is not specified.</p>
            </section>
         
         
         <section>
            <h5>A simple alignment algorithm</h5>
            
            
            <p>A simple algorithm by which a MathML renderer can perform the
               alignment specified in this section is given here. Since the alignment
               specification is deterministic (except for the definition of the left
               and right edges of a character), any correct MathML alignment
               algorithm will have the same behavior as this one. Each
               <code class="element">mtable</code> column (alignment scope) can be treated
               independently; the algorithm given here applies to one
               <code class="element">mtable</code> column, and takes into account the
               alignment elements, the <code class="attribute">groupalign</code> attribute described in
               this section, and the <code class="attribute">columnalign</code> attribute described
               under <code class="element">mtable</code> (<a href="#presm_mtable"></a>).</p>
            
            
            <p>First, a rendering is computed for the contents of each table cell
               in the column, using zero width for all
               <code class="element">maligngroup</code> and <code class="element">malignmark</code>
               elements. The final rendering will be identical except for horizontal
               shifts applied to each alignment group and/or table cell. The
               positions of alignment points specified by any
               <code class="element">malignmark</code> elements are noted, and the remaining
               alignment points are determined using <code class="attribute">groupalign</code>
               values.</p>
            
            
            <p>For each alignment group, the horizontal positions of the left
               edge, alignment point, and right edge are noted, allowing the width of
               the group on each side of the alignment point (left and right) to be
               determined. The sum of these two <span>&#x201c;side-widths&#x201d;</span>, i.e. the sum of the
               widths to the left and right of the alignment point, will equal the
               width of the alignment group.</p>
            
            
            <p>Second, each column of alignment groups is
               scanned. The <i class="var">i</i>th scan covers the <i class="var">i</i>th
               alignment group in each table cell containing any alignment
               groups. Table cells with no alignment groups, or with fewer than
               <i class="var">i</i> alignment groups, are ignored. Each scan computes two
               maximums over the alignment groups scanned: the maximum width to the
               left of the alignment point, and the maximum width to the right of the
               alignment point, of any alignment group scanned.</p>
            
            
            <p>The sum of all the maximum widths computed (two for each column of
               alignment groups) gives one total width, which will be the width of
               each table cell containing alignment groups. Call the maximum number
               of alignment groups in one cell <i class="var">n</i>; each such cell
               is divided into 2<i class="var">n</i> horizontally adjacent sections, called
               L(<i class="var">i</i>) and R(<i class="var">i</i>) for <i class="var">i</i> from 1 to
               <i class="var">n</i>, using the 2<i class="var">n</i> maximum side-widths computed
               above; for each <i class="var">i</i>, the width of all sections called
               L(<i class="var">i</i>) is the maximum width of any cell's <i class="var">i</i>th
               alignment group to the left of its alignment point, and the width of
               all sections called R(<i class="var">i</i>) is the maximum width of any
               cell's <i class="var">i</i>th alignment group to the right of its alignment
               point.</p>
            
            
            <p>Each alignment group is then shifted horizontally as a block
               to <span>a</span> unique position that places: in the section called L(<i class="var">i</i>) that part
               of the <i class="var">i</i>th group to the left of its alignment point;
               in the section called R(<i class="var">i</i>) that part of the <i class="var">i</i>th group
               to the right of its alignment point. This results in the
               alignment point of each <i class="var">i</i>th group being on the boundary
               between adjacent sections L(<i class="var">i</i>) and R(<i class="var">i</i>), so
               that all alignment points of <i class="var">i</i>th groups have the same
               horizontal position.</p>
            
            
            <p>The widths of the table cells that contain no alignment groups
               were computed as part of the initial rendering, and may be different
               for each cell, and different from the single width used for cells
               containing alignment groups. The maximum of all the cell widths (for
               both kinds of cells) gives the width of the table column as a
               whole.</p>
            
            
            <p>The position of each cell in the column is determined by the
               applicable part of the value of the <code class="attribute">columnalign</code> attribute
               of the innermost surrounding <code class="element">mtable</code>,
               <code class="element">mtr</code>, or <code class="element">mtd</code> element that
               has an explicit value for it, as described in the sections on those
               elements. This may mean that the cells containing alignment groups
               will be shifted within their column, in addition to their alignment
               groups having been shifted within the cells as described above, but
               since each such cell has the same width, it will be shifted the same
               amount within the column, thus maintaining the vertical alignment of
               the alignment points of the corresponding alignment groups in each
               cell.</p>
            </section>
         </section>
      
      
      </section>
   
   
   <section>
      <h3 id="presm_elementary">Elementary Math</h3>
      
      
      <p>Mathematics used in the lower grades such as two-dimensional addition, multiplication,
         and long division tends to be tabular in nature. 
         However, the specific notations used varies among countries
         much more than for higher level math.
         Furthermore, elementary math often presents examples in some intermediate state
         and MathML must be able to capture these intermediate or intentionally missing
         partial forms. Indeed, these constructs represent memory aids or
         procedural guides, as much as they represent &#x2018;mathematics&#x2019;.</p>
      
      <p>
         The elements used for basic alignments in elementary math are:
         </p>
      <dl>
         
         <dt><code class="element">mstack</code></dt>
         <dd>
            <p>align rows of digits and operators</p>
         </dd>
         
         
         <dt><code class="element">msgroup</code></dt>
         <dd>
            <p>groups rows with similar alignment</p>
         </dd>
         
         
         <dt><code class="element">msrow</code></dt>
         <dd>
            <p>groups digits and operators into a row</p>
         </dd>
         
         
         <dt><code class="element">msline</code></dt>
         <dd>
            <p>draws lines between rows of the stack</p>
         </dd>
         
         
         <dt><code class="element">mscarries</code></dt>
         <dd>
            <p>annotates the following row with optional borrows/carries and/or crossouts</p>
         </dd>
         
         
         <dt><code class="element">mscarry</code></dt>
         <dd>
            <p>a borrow/carry and/or crossout for a single digit</p>
         </dd>
         
         
         <dt><code class="element">mlongdiv</code></dt>
         <dd>
            <p>specifies a divisor and a quotient for long division, along with a stack of the intermediate
               computations</p>
         </dd>
         </dl>
      <p>
         
         <code class="element">mstack</code> and <code class="element">mlongdiv</code> are the parent elements for all elementary
         math layout.
         Any children of <code class="element">mstack</code>, <code class="element">mlongdiv</code>, and <code class="element">msgroup</code>,
         besides <code class="element">msrow</code>, <code class="element">msgroup</code>, <code class="element">mscarries</code> and <code class="element">msline</code>,
         are treated as if implicitly surrounded by an <code class="element">msrow</code>
         (See <a href="#presm_msrow"></a> for more details about rows).
         </p>
      
      
      <p>Since the primary use of these stacking constructs is to 
         stack rows of numbers aligned on their digits,
         and since numbers are always formatted left-to-right,
         the columns of an mstack are always processed left-to-right;
         the overall directionality in effect (ie. the <code class="attribute">dir</code> attribute)
         does not affect to the ordering of display of columns or carries in rows
         and, in particular, does not affect the ordering of any operators within a row
         (See <a href="#presm_bidi"></a>).
         </p>
      
      
      <p>
         These elements are described in this section followed by examples of their use.
         In addition to two-dimensional addition, subtraction, multiplication, and long division,
         these elements can be used to represent several notations used for repeating decimals.</p>
      
      
      <p>A very simple example of two-dimensional addition is shown below:</p>
      
      
      <blockquote>
         <p><img src="image/em-plus.png" alt="\begin{array}{r}   424 \\   +33 \\   \hline \end{array}"></img></p>
      </blockquote>
      
      <p>The MathML for this is:</p>
      
      
      <div class="example mathml">
         <pre>
&lt;mstack&gt;
  &lt;mn&gt;424&lt;/mn&gt;
  &lt;msrow&gt; &lt;mo&gt;+&lt;/mo&gt; &lt;mn&gt;33&lt;/mn&gt; &lt;/msrow&gt;
  &lt;msline/&gt;
&lt;/mstack&gt;
</pre>
      </div>
      
      
      <p> Many more examples are given in <a href="#presm_elemmath_examples"></a>.</p>
      
      
      <section>
         <h4 id="presm_mstack">Stacks of Characters <code class="defn starttag">&lt;mstack&gt;</code></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p><code class="element">mstack</code> is used to lay out rows of numbers that are aligned on each digit.
               This is common in many elementary math notations such as 2D addition, subtraction,
               and multiplication.</p>
            
            
            <p>The children of an <code class="element">mstack</code> represent rows, or groups of them,
               to be stacked each below the previous row; there can be any number of rows.
               An <code class="element">msrow</code> represents a row;
               an <code class="element">msgroup</code> groups a set of rows together
               so that their horizontal alignment can be adjusted together;
               an <code class="element">mscarries</code> represents a set of carries to be
               applied to the following row;
               an <code class="element">msline</code> represents a line separating rows.
               Any other element is treated as if implicitly surrounded by <code class="element">msrow</code>.
               </p>
            
            <p>Each row contains &#x2018;digits&#x2019; that are placed into columns.
               (see <a href="#presm_msrow"></a> for further details).
               The <code class="attribute">stackalign</code> attribute together with
               the <code class="attribute">position</code> and <code class="attribute">shift</code> attributes of <code class="element">msgroup</code>,
               <code class="element">mscarries</code>, and <code class="element">msrow</code> determine
               to which column a character belongs.</p>
            
            
            <p>The width of a column is the maximum of the widths of each &#x2018;digit&#x2019; in that
               column &#x2014; carries do <em>not</em> participate in the
               width calculation; they are treated as having zero width.
               If an element is too wide to fit into a column, it overflows into the adjacent
               column(s) as determined by the <code class="attribute">charalign</code> attribute.
               If there is no character in a column, its width is taken to be the width of a 0 
               in the current language (in many fonts, all digits have the same width).
               </p>
            
            <p>The method for laying out an mstack is:
               </p>
            <ol>
               
               <li>
                  <p>The &#x2018;digits&#x2019; in a row are determined.</p>
               </li>
               
               <li>
                  <p>All of the digits in a row are initially aligned according to the <code class="attribute">stackalign</code> value.</p>
               </li>
               
               <li>
                  <p>Each row is positioned relative to that alignment based on the <code class="attribute">position</code> attribute (if any)
                     that controls that row.</p>
               </li>
               
               <li>
                  <p>The maximum width of the digits in a column are determined and
                     shorter and wider entries in that column are aligned according to
                     the <code class="attribute">charalign</code> attribute.</p>
               </li>
               
               <li>
                  <p>The width and height of the mstack element are computed based on the
                     rows and columns.
                     Any overflow from a column is <em>not</em> used as part of that computation.
                     </p>
               </li>
               
               <li>
                  <p>The baseline of the mstack element is determined by the <code class="attribute">align</code> attribute.</p>
               </li>
               </ol>
            
            
            
            <div class="issue" id="centering-overflows-mcolumn"><span class="head">mcolumn overflow</span>
               
               
               <p>Should an entry too large or
                  too small for a column be centered?</p>
               </div>
            
            
            <div class="issue" id="mphantom-mcolumn"><span class="head">mstack mphantom</span>
               
               
               <p>Should an <code class="element">mphantom</code> also act as a
                  wrapper for computing digits? If so, people might be encouraged to use
                  it to play alignment games that make the result not very accessible.</p>
               </div>
            </section>
         
         
         <section>
            <h5>Attributes</h5>
            
            
            <p><code class="element">mstack</code> elements accept the attributes listed
               below in addition to those specified in <a href="#presm_presatt"></a>.</p>
            
            
            
            <table border="1" class="attributes">
               
               <thead>
                  
                  <tr>
                     
                     <td>Name</td>
                     
                     <td>values</td>
                     
                     <td>default</td>
                     
                     <td>Core</td>
                     </tr>
                  </thead>
               
               <tbody>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">align</td>
                     
                     <td>("top" | "bottom" | "center" | "baseline" | "axis"), <em>rownumber</em>?</td>
                     
                     <td>baseline</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies the vertical alignment of the <code class="element">mstack</code> with respect to its environment.
                        The legal values and their meanings are the same as that for <code class="element">mtable</code>'s
                        <a class="intref" href="#presm_mtable_attrs"><code class="attribute">align</code></a> attribute.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">stackalign</td>
                     
                     <td>"left" | "center" | "right" | "decimalpoint"</td>
                     
                     <td>decimalpoint</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies which column is used to horizontally align the rows.
                        For <code class="attributevalue">left</code>, rows are aligned flush on the left;
                        similarly for <code class="attributevalue">right</code>, rows are flush on the right;
                        for <code class="attributevalue">center</code>, the middle column (or to the right of the middle, for an even number of columns)
                        is used for alignment.
                        Rows with non-zero <code class="attribute">position</code>, or affected by a <code class="attribute">shift</code>,
                        are treated as if the
                        requisite number of empty columns were added on the appropriate side;
                        see <a href="#presm_msgroup"></a> and <a href="#presm_msrow"></a>.
                        For <code class="attributevalue">decimalpoint</code>, the column used is the left-most column in each
                        row that contains the decimalpoint character specified
                        using the <code class="attribute">decimalpoint</code> attribute of <code class="element">mstyle</code> (default ".").
                        If there is no decimalpoint character in the row, an implied decimal is assumed on
                        the right of the first number in the row;
                        See <a class="intref" href="#presm_mstyle"><code class="attributevalue">decimalpoint</code></a> for a discussion
                        of <code class="attributevalue">decimalpoint</code>.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">charalign</td>
                     
                     <td>"left" | "center" | "right" </td>
                     
                     <td>right</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies the horizontal alignment of digits within a column.
                        If the content is larger than the column width, then it overflows the opposite side
                        from the alignment.
                        For example, for <code class="attributevalue">right</code>, the content will overflow on the left side; for center,
                        it overflows on both sides.
                        This excess does not participate in the column width calculation, nor does it participate
                        in the overall width of the <code class="element">mstack</code>.
                        In these cases, authors should take care to avoid collisions between column overflows.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">charspacing</td>
                     
                     <td><a class="intref" href="#type_length"><em>length</em></a> | "loose" | "medium" | "tight"</td>
                     
                     <td>medium</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies the amount of space to put between each column.
                        Larger spacing might be useful if carries are not placed above or are particularly
                        wide.
                        The keywords
                        <code class="attributevalue">loose</code>, <code class="attributevalue">medium</code>, and <code class="attributevalue">tight</code>
                        automatically adjust spacing to when carries or other entries in a column are wide.
                        The three values allow authors to some flexibility in choosing what the layout looks
                        like
                        without having to figure out what values works well.
                        In all cases, the spacing between columns is a fixed amount and does not vary between
                        different columns.
                        </td>
                     </tr>
                  </tbody>
               </table>
            
            
            <div class="issue" id="decimalseparator"><span class="head">decimalsperator discussion</span>
               
               
               <p>Need to add a discussion of decimalseparator to mstyle.</p>
            </div> 
            
            
            <div class="issue" id="mcolumn-multidigit-alignment"><span class="head">mcolumn multidigit alignment</span>
               
               
               <p>If there is more than one
                  number in a row, which number should be used to determine the
                  alignment if decimal point alignment is specified?</p>
            </div> 
            
            </section>
         </section>
      
      
      <section>
         <h4 id="presm_mlongdiv">Long Division <code class="defn starttag">&lt;mlongdiv&gt;</code></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p>Long division notation varies quite a bit around the world,
               although the heart of the notation is often similar.
               <code class="element">mlongdiv</code> is similar to <code class="element">mstack</code> and used to layout long division.
               The first two children of <code class="element">mlongdiv</code> are the divisor and the result of the division, in that order.
               The remaining children are treated as if they were children of <code class="element">mstack</code>.
               The placement of these and the lines and separators used to display long division
               are controlled
               by the <code class="attribute">longdivstyle</code> attribute. </p>
            
            
            <p>The result or divisor may be an elementary math element or may be <code class="element">none</code>.
               In particular, if <code class="element">msgroup</code> is used,
               the elements in that group may or may not form their own mstack or be part of the
               dividend's <code class="element">mstack</code>,
               depending upon the value of the <code class="attribute">longdivstyle</code> attribute.
               For example, in the US style for division,
               the result is treated as part of the dividend's <code class="element">mstack</code>, but divisor is not.
               MathML does not specify when the result and divisor form their own <code class="element">mstack</code>,
               nor does it specify what should happen if <code class="element">msline</code> or other elementary math elements
               are used for the result or divisor and they do not participate in the dividend's <code class="element">mstack</code> layout.</p>
            
            
            <p>In the remainder of this section on elementary math, anything that is said about <code class="element">mstack</code> applies
               to <code class="element">mlongdiv</code> unless stated otherwise.</p>
            </section>
         
         
         <section>
            <h5 id="presm_mlongdiv_attrs">Attributes</h5>
            
            
            <p><code class="element">mlongdiv</code> elements accept all of the attributes that <code class="element">mstack</code> elements
               accept (including those specified in <a href="#presm_presatt"></a>), along with the attribute listed below.</p>
            
            
            <p>The values allowed for <code class="attribute">longdivstyle</code> are open-ended.
               Conforming renderers may ignore any value they do not handle,
               although renderers are encouraged to render as many of the values listed below as
               possible.
               Any rules drawn as part of division layout should be drawn using the color specified
               by
               <code class="attribute">mathcolor</code>.</p>
            
            
            <table border="1" class="attributes">
               
               <thead>
                  
                  <tr>
                     
                     <td>Name</td>
                     
                     <td>values</td>
                     
                     <td>default</td>
                     
                     <td>Core</td>
                     </tr>
                  </thead>
               
               <tbody>
                  	
                  <tr>
                     	   
                     <td rowspan="2" class="attname">longdivstyle</td>
                     	   
                     <td> "lefttop" | "stackedrightright" | "mediumstackedrightright" | "shortstackedrightright"
                        |
                        "righttop" | "left/\right" | "left)(right" | ":right=right" | "stackedleftleft" |
                        
                        "stackedleftlinetop" </td>
                     	   
                     <td>lefttop</td>
                     	   
                     <td><span class="coreno">core&#x2716;</span></td>
                     	</tr>
                  	
                  <tr>
                     	   
                     <td colspan="3" class="attdesc">
                        		  Controls the style of the long division layout.  The names are meant as a rough
                        mnemonic that describes the position of the divisor and result in relation to the
                        dividend. 		  
                        	   </td>
                     	</tr>
                  </tbody>
               </table>
            
            <p>See <a href="#presm_mlongdiv_ex"></a> for examples of how these notations are drawn.  The values listed above are used
               for long division notations in different countries around the world:</p>
            
            <dl>
               
               <dt><code class="attributevalue">lefttop</code></dt>
               <dd>
                  <p>a notation that is commonly used in the United States, Great Britain, and elsewhere</p>
               </dd>
               
               <dt><code class="attributevalue">stackedrightright</code></dt>
               <dd>
                  <p>a notation that is commonly used in France and elsewhere</p>
               </dd>
               
               <dt><code class="attributevalue">mediumrightright</code></dt>
               <dd>
                  <p>a notation that is commonly used in Russia and elsewhere</p>
               </dd>
               
               <dt><code class="attributevalue">shortstackedrightright</code></dt>
               <dd>
                  <p>a notation that is commonly used in Brazil and elsewhere</p>
               </dd>
               
               <dt><code class="attributevalue">righttop</code></dt>
               <dd>
                  <p>a notation that is commonly used in China, Sweden, and elsewhere</p>
               </dd>
               
               <dt><code class="attributevalue">left/\right</code></dt>
               <dd>
                  <p>a notation that is commonly used in Netherlands</p>
               </dd>
               
               <dt><code class="attributevalue">left)(right</code></dt>
               <dd>
                  <p>a notation that is commonly used in India</p>
               </dd>
               
               <dt><code class="attributevalue" data-diff="chg">:right=right</code></dt>
               <dd>
                  <p>a notation that is commonly used in Germany</p>
               </dd>
               
               <dt><code class="attributevalue" data-diff="chg">stackedleftleft</code></dt>
               <dd>
                  <p>a notation that is commonly used in Arabic countries</p>
               </dd>
               
               <dt><code class="attributevalue">stackedleftlinetop</code></dt>
               <dd>
                  <p>a notation that is commonly used in Arabic countries</p>
               </dd>
               </dl>
            </section>
         </section>
      
      
      <section>
         <h4 id="presm_msgroup">Group Rows with Similiar Positions <code class="defn starttag">&lt;msgroup&gt;</code></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p><code class="element">msgroup</code> is used to group rows inside of the <code class="element">mstack</code> and <code class="element">mlongdiv</code> elements
               that have a similar position relative to the alignment of stack.
               If not explicitly given, the children representing the stack in <code class="element">mstack</code> and <code class="element">mlongdiv</code>
               are treated as if they are implicitly surrounded by an <code class="element">msgroup</code> element.
               </p>
            
            </section>
         
         
         <section>
            <h5>Attributes</h5>
            
            
            <p><code class="element">msgroup</code> elements accept the attributes listed
               below in addition to those specified in <a href="#presm_presatt"></a>.</p>
            
            
            
            <table border="1" class="attributes">
               
               <thead>
                  
                  <tr>
                     
                     <td>Name</td>
                     
                     <td>values</td>
                     
                     <td>default</td>
                     
                     <td>Core</td>
                     </tr>
                  </thead>
               
               <tbody>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">position</td>
                     
                     <td><a class="intref" href="#type_integer"><em>integer</em></a></td>
                     
                     <td>0</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies the horizontal position of the rows within this group relative
                        the position determined by the containing <code class="element">msgroup</code> (according to its
                        <code class="attribute">position</code> and <code class="attribute">shift</code> attributes).
                        The resulting position value is relative to the column specified by <code class="attribute">stackalign</code> of the containing <code class="element">mstack</code> or <code class="element">mlongdiv</code>.
                        Positive values move each row towards the tens digit,
                        like multiplying by a power of 10,
                        effectively padding with empty columns on the right;
                        negative values move towards the ones digit,
                        effectively padding on the left.
                        The decimal point is counted as a column and should be taken into account for negative
                        values.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">shift</td>
                     
                     <td><a class="intref" href="#type_integer"><em>integer</em></a></td>
                     
                     <td>0</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies an incremental shift of position for successive children (rows or groups)
                        within this group. The value is interpreted as with position, but specifies the
                        position of each child (except the first) with respect to the previous child in the
                        group.
                        </td>
                     </tr>
                  </tbody>
               </table>
            </section>
         </section>
      
      
      
      <section>
         <h4 id="presm_msrow">Rows in Elementary Math <code class="defn starttag">&lt;msrow&gt;</code></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p>An <code class="element">msrow</code> represents a row in an <code class="element">mstack</code>.
               In most cases it is implied by the context, but is useful
               explicitly for putting multiple elements in a single row,
               such as when placing an operator "+" or "-" alongside a number
               within an addition or subtraction.</p>
            
            
            <p>If an <code class="element">mn</code> element is a child of <code class="element">msrow</code>
               (whether implicit or not), then the number is split into its digits
               and the digits are placed into successive columns.
               Any other element, with the exception of <code class="element">mstyle</code> is treated effectively
               as a single digit occupying the next column.
               An <code class="element">mstyle</code> is treated as if its children were 
               directly the children of the <code class="element">msrow</code>, but with their style affected
               by the attributes of the <code class="element">mstyle</code>.
               The empty element <code class="element">none</code> may be used to create an empty column.
               </p>
            
            
            <p>Note that a row is considered primarily as if it were a number,
               which are always displayed left-to-right,
               and so the directionality used to display the columns is always left-to-right;
               textual bidirectionality within token elements (other than <code class="element">mn</code>) still applies,
               as does the overall directionality <em>within</em> any children of the <code class="element">msrow</code>
               (which end up treated as single digits);
               see <a href="#presm_bidi"></a>.
               </p>
            
            </section>
         
         
         <section>
            <h5>Attributes</h5>
            
            
            <p><code class="element">msrow</code> elements accept the attributes listed
               below in addition to those specified in <a href="#presm_presatt"></a>.</p>
            
            
            
            <table border="1" class="attributes">
               
               <thead>
                  
                  <tr>
                     
                     <td>Name</td>
                     
                     <td>values</td>
                     
                     <td>default</td>
                     
                     <td>Core</td>
                     </tr>
                  </thead>
               
               <tbody>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">position</td>
                     
                     <td><a class="intref" href="#type_integer"><em>integer</em></a></td>
                     
                     <td>0</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies the horizontal position of the rows within this group relative
                        the position determined by the containing <code class="element">msgroup</code> (according to its
                        <code class="attribute">position</code> and <code class="attribute">shift</code> attributes).
                        The resulting position value is relative to the column specified by <code class="attribute">stackalign</code> of the containing <code class="element">mstack</code> or <code class="element">mlongdiv</code>.
                        Positive values move each row towards the tens digit,
                        like multiplying by a power of 10,
                        effectively padding with empty columns on the right;
                        negative values move towards the ones digit,
                        effectively padding on the left.
                        The decimal point is counted as a column and should be taken into account for negative
                        values.
                        </td>
                     </tr>
                  </tbody>
               </table>
            </section>
         </section>
      
      
      
      <section>
         <h4 id="presm_mscarries">Carries, Borrows, and Crossouts <code class="defn starttag">&lt;mscarries&gt;</code></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p>The <code class="element">mscarries</code> element is used for various annotations such as carries, borrows, and crossouts that
               occur in elementary math.
               The children are associated with elements in the <em>following</em> row of the <code class="element">mstack</code>.
               It is an error for <code class="element">mscarries</code> to be the last element of an <code class="element">mstack</code> or <code class="element">mlongdiv</code> element. Each child of the <code class="element">mscarries</code> applies to the same column in the following row.
               As these annotations are used to adorn what are treated as
               numbers, the attachment of carries to columns proceeds from left-to-right;
               The overall directionality does not apply to the ordering of the carries,
               although it may apply to the contents of each carry;
               see <a href="#presm_bidi"></a>.
               </p>
            
            
            <p>
               Each child of <code class="element">mscarries</code> other than <code class="element">mscarry</code> or <code class="element">none</code> is
               treated as if implicitly surrounded by <code class="element">mscarry</code>;
               the element <code class="element">none</code> is used when no carry for a particular column is needed.
               The <code class="element">mscarries</code> element sets <code class="attribute">displaystyle</code> to <code class="attributevalue">false</code>, and increments <code class="attribute">scriptlevel</code> by 1, so the children are 
               typically displayed in a smaller font. (See <a href="#presm_scriptlevel"></a>.)
               It also changes the default value of <code class="attribute">scriptsizemultiplier</code>.
               The effect is that the inherited value of
               <code class="attribute">scriptsizemultiplier</code> should still override the default value,
               but the default value, inside <code class="element">mscarries</code>, should be <code class="attributevalue">0.6</code>.
               <code class="attribute">scriptsizemultiplier</code> can be set on the <code class="element">mscarries</code> element,
               and the value should override the inherited value as usual.
               </p>
            
            <p>
               If two rows of carries are adjacent to each other,
               the first row of carries annotates the second (following) row as if the second row
               had
               <code class="attribute">location</code>=<code class="attributevalue">n</code>.
               This means that the second row, even if it does not draw,
               visually uses some (undefined by this specification) amount of space when displayed.
               </p>
            
            </section>
         
         
         <section>
            <h5>Attributes</h5>
            
            
            <p><code class="element">mscarries</code> elements accept the attributes listed
               below in addition to those specified in <a href="#presm_presatt"></a>.</p>
            
            
            <table border="1" class="attributes">
               
               <thead>
                  
                  <tr>
                     
                     <td>Name</td>
                     
                     <td>values</td>
                     
                     <td>default</td>
                     
                     <td>Core</td>
                     </tr>
                  </thead>
               
               <tbody>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">position</td>
                     
                     <td><a class="intref" href="#type_integer"><em>integer</em></a></td>
                     
                     <td>0</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies the horizontal position of the rows within this group relative
                        the position determined by the containing <code class="element">msgroup</code> (according to its
                        <code class="attribute">position</code> and <code class="attribute">shift</code> attributes).
                        The resulting position value is relative to the column specified by <code class="attribute">stackalign</code> of the containing <code class="element">mstack</code> or <code class="element">mlongdiv</code>.
                        The interpretation of the value is the same as <code class="attribute">position</code> for <code class="element">msgroup</code> or <code class="element">msrow</code>,
                        but it alters the association of each carry with the column below.
                        For example, <code class="attribute">position</code>=1 would cause the rightmost carry to be associated with
                        the second digit column from the right.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">location</td>
                     
                     <td>"w" | "nw" | "n" | "ne" | "e" | "se" | "s" | "sw" </td>
                     
                     <td>n</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies the location of the carry or borrow relative to the character below it in
                        the associated column.
                        Compass directions are used for the values; the default is to place the carry above
                        the character.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">crossout</td>
                     
                     <td>("none" | "updiagonalstrike" | "downdiagonalstrike" | "verticalstrike" | "horizontalstrike")*
                        </td>
                     
                     <td>none</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies how the column content below each carry is "crossed out";
                        one or more values may be given and all values are drawn.
                        If <code class="attributevalue">none</code> is given with other values, it is ignored.
                        See <a href="#presm_elemmath_examples"></a> for examples of the different values.
                        The crossout is only applied for columns which have a corresponding
                        <code class="element">mscarry</code>.
                        The crossouts should be drawn using the color specified by <code class="attribute">mathcolor</code>.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">scriptsizemultiplier</td>
                     
                     <td> <a class="intref" href="#type_number"><em>number</em></a></td>
                     
                     <td><em>inherited (0.6)</em></td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies the factor to change the font size by.
                        See <a href="#presm_scriptlevel"></a> for a description of how this works with the <code class="attribute">scriptsize</code> attribute.
                        </td>
                     </tr>
                  </tbody>
               </table>
            </section>
         </section>
      
      
      <section>
         <h4 id="presm_mscarry">A Single Carry <code class="defn starttag">&lt;mscarry&gt;</code></h4>
         
         
         <section>
            <h5>Description</h5>
            
            
            <p><code class="element">mscarry</code> is used inside of <code class="element">mscarries</code> to
               represent the carry for an individual column.
               A carry is treated as if its width were zero; it does not participate in
               the calculation of the width of its corresponding column;
               as such, it may extend beyond the column boundaries.
               Although it is usually implied, the element may be used explicitly to override the
               <code class="attribute">location</code> and/or <code class="attribute">crossout</code> attributes of 
               the containing <code class="element">mscarries</code>.
               It may also be useful with <code class="element">none</code> as its content in order
               to display no actual carry, but still enable a <code class="attribute">crossout</code>
               due to the enclosing <code class="element">mscarries</code> to be drawn for the given column.
               </p>
            </section>
         
         
         <section>
            <h5>Attributes</h5>
            
            
            <p>The <code class="element">mscarry</code> element accepts the attributes listed
               below in addition to those specified in <a href="#presm_presatt"></a>.</p>
            
            
            
            <table border="1" class="attributes">
               
               <thead>
                  
                  <tr>
                     
                     <td>Name</td>
                     
                     <td>values</td>
                     
                     <td>default</td>
                     
                     <td>Core</td>
                     </tr>
                  </thead>
               
               <tbody>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">location</td>
                     
                     <td>"w" | "nw" | "n" | "ne" | "e" | "se" | "s" | "sw"</td>
                     
                     <td><em>inherited</em></td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies the location of the carry or borrow relative to the character in the corresponding
                        column in the row below it.
                        Compass directions are used for the values.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">crossout</td>
                     
                     <td>("none" | "updiagonalstrike" | "downdiagonalstrike" | "verticalstrike" | "horizontalstrike")*
                        </td>
                     
                     <td><em>inherited</em></td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies how the column content associated with the carry is "crossed out";
                        one or more values may be given and all values are drawn.
                        If <code class="attributevalue">none</code> is given with other values, it is essentially ignored.
                        The crossout should be drawn using the color specified by <code class="attribute">mathcolor</code>.
                        </td>
                     </tr>
                  </tbody>
               </table>
            </section>
         </section>
      
      
      
      <section>
         <h4 id="presm_msline">Horizontal Line <code class="defn emptytag">&lt;msline/&gt;</code></h4> 
         
         
         <section>
            <h5>Description</h5>
            
            
            <p><code class="element">msline</code> draws a horizontal line inside of a <code class="element">mstack</code> element.
               The position, length, and thickness of the line are specified as attributes.
               If the length is specified, the line is positioned and drawn as if it were a number
               with the given number of digits.</p>
            </section>
         
         
         <section>
            <h5>Attributes</h5>
            
            
            <p><code class="element">msline</code> elements accept the attributes listed
               below in addition to those specified in <a href="#presm_presatt"></a>.
               The line should be drawn using the color specified by <code class="attribute">mathcolor</code>.
               </p>
            
            
            <table border="1" class="attributes">
               
               <thead>
                  
                  <tr>
                     
                     <td>Name</td>
                     
                     <td>values</td>
                     
                     <td>default</td>
                     
                     <td>Core</td>
                     </tr>
                  </thead>
               
               <tbody>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">position</td>
                     
                     <td><a class="intref" href="#type_integer"><em>integer</em></a></td>
                     
                     <td>0</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        specifies the horizontal position of the rows within this group relative
                        the position determined by the containing <code class="element">msgroup</code> (according to its
                        <code class="attribute">position</code> and <code class="attribute">shift</code> attributes).
                        The resulting position value is relative to the column specified by <code class="attribute">stackalign</code> of the containing <code class="element">mstack</code> or <code class="element">mlongdiv</code>.
                        Positive values moves towards the tens digit (like multiplying by a power of 10);
                        negative values moves towards the ones digit.
                        The decimal point is counted as a column and should be taken into account for negative
                        values.
                        Note that since the default line length spans the entire <code class="element">mstack</code>,
                        the position has no effect unless the <code class="attribute">length</code> is specified as non-zero.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">length</td>
                     
                     <td><a class="intref" href="#type_unsigned-integer"><em>unsigned-integer</em></a></td>
                     
                     <td>0</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies the the number of columns that should be spanned by the line.
                        A value of '0' (the default) means that <em>all</em> columns in
                        the row are spanned (in which case <code class="attribute">position</code> and <code class="attribute">stackalign</code> have no effect).
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">leftoverhang</td>
                     
                     <td><a class="intref" href="#type_length"><em>length</em></a></td>
                     
                     <td>0</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies an extra amount that the line should overhang on the left of the leftmost
                        column spanned by the line.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">rightoverhang</td>
                     
                     <td><a class="intref" href="#type_length"><em>length</em></a></td>
                     
                     <td>0</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies an extra amount that the line should overhang on the right of the rightmost
                        column spanned by the line.
                        </td>
                     </tr>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">mslinethickness</td>
                     
                     <td><a class="intref" href="#type_length"><em>length</em></a> | "thin" | "medium" | "thick"</td>
                     
                     <td>medium</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies how thick the line should be drawn.
                        The line should have height=0, and depth=mslinethickness so that the top
                        of the <code class="element">msline</code> is on the baseline of the surrounding context (if any).
                        (See <a href="#presm_mfrac"></a> for discussion of the thickness keywords
                        <code class="attributevalue">medium</code>, <code class="attributevalue">thin</code> and <code class="attributevalue">thick</code>.)
                        </td>
                     </tr>
                  </tbody>
               </table>
            </section>
         </section>
      
      
      
      <section>
         <h4 id="presm_elemmath_examples">Elementary Math Examples</h4>
         
         <section>
            <h5 id="presm_addsub">Addition and Subtraction</h5>
            
            
            
            <p>Two-dimensional addition, subtraction, and multiplication typically
               involve numbers, carrries/borrows, lines, and the sign of the
               operation.</p>
            
            
            
            <p>Notice that the <code class="element">msline</code> spans all of the columns and that <code class="element">none</code> is used to make the "+" appear to the left of all of the operands.</p>
            
            <blockquote>
               <p><img src="image/em-plus-shift.png" alt="\begin{array}{@{}r@{}}    424 \\   +\phantom0 33 \\   \hline \end{array}"></img></p>
            </blockquote>
            
            <p>The MathML for this is:</p>
            
            
            <div class="example mathml">
               <pre>
&lt;mstack&gt;
  &lt;mn&gt;424&lt;/mn&gt;
  &lt;msrow&gt; &lt;mo&gt;+&lt;/mo&gt; &lt;none/&gt; &lt;mn&gt;33&lt;/mn&gt; &lt;/msrow&gt;
  &lt;msline/&gt;
&lt;/mstack&gt;
</pre>
            </div>
            
            
            
            <p>Here is an example with the operator on the right. Placing the
               operator on the right is standard in the Netherlands and some other countries.
               Notice that although there are a total of four columns in the example,
               because the default alignment <span>is</span> on the implied decimal point to the right of the numbers,
               it is not necessary to pad any row.</p>
            
            
            <blockquote>
               <p><img src="image/em-plus-right.png" alt="\begin{array}{l}   123 \\   456+ \\   \hline   579 \end{array}"></img></p>
            </blockquote>
            
            
            <div class="example mathml">
               <pre>
&lt;mstack&gt;
  &lt;mn&gt;123&lt;/mn&gt; 
  &lt;msrow&gt; &lt;mn&gt;456&lt;/mn&gt; &lt;mo&gt;+&lt;/mo&gt; &lt;/msrow&gt;
  &lt;msline/&gt;
  &lt;mn&gt;579&lt;/mn&gt;
&lt;/mstack&gt;
</pre>
            </div>
            
            
            <p>Because the default alignment is placed to the right of number, the
               numbers align properly and none of the rows need to be shifted.</p>
            
            
            <p>The following two examples illustrate the use of <code class="element">mscarries</code>,
               <code class="element">mscarry</code> and using <code class="element">none</code> to fill in a column.
               The examples illustrate two different ways of displaying a borrow.</p>
            
            
            <table>
               
               <tbody>
                  
                  <tr>
                     
                     <td>
                        <blockquote>
                           <p><img src="image/em-sub-borrow-above.png" alt=""></img></p>
                        </blockquote>
                     </td>
                     
                     <td>
                        <blockquote>
                           <p><img src="image/em-sub-borrow-aboveleft.png" alt=""></img></p>
                        </blockquote>
                     </td>
                     </tr>
                  </tbody>
               </table>
            
            
            <p>The MathML for the first example is:</p>
            
            <div class="example mathml">
               <pre>
&lt;mstack&gt;
  &lt;mscarries crossout='updiagonalstrike'&gt;
    &lt;mn&gt;2&lt;/mn&gt;  &lt;mn&gt;12&lt;/mn&gt;  &lt;mscarry crossout='none'&gt; &lt;none/&gt; &lt;/mscarry&gt;
  &lt;/mscarries&gt;
  &lt;mn&gt;2,327&lt;/mn&gt;
  &lt;msrow&gt; &lt;mo&gt;-&lt;/mo&gt; &lt;mn&gt; 1,156&lt;/mn&gt; &lt;/msrow&gt;
  &lt;msline/&gt;
  &lt;mn&gt;1,171&lt;/mn&gt;
&lt;/mstack&gt;
</pre>
            </div>
            
            
            <p>The MathML for the second example uses <code class="element">mscarry</code> because a crossout should only happen on a single column:</p>
            
            <div class="example mathml">
               <pre>
&lt;mstack&gt;
  &lt;mscarries location='nw'&gt;
    &lt;none/&gt;
    &lt;mscarry crossout='updiagonalstrike' location='n'&gt; &lt;mn&gt;2&lt;/mn&gt; &lt;/mscarry&gt;
    &lt;mn&gt;1&lt;/mn&gt;
    &lt;none/&gt;
  &lt;/mscarries&gt;
  &lt;mn&gt;2,327&lt;/mn&gt;
  &lt;msrow&gt; &lt;mo&gt;-&lt;/mo&gt; &lt;mn&gt; 1,156&lt;/mn&gt; &lt;/msrow&gt;
  &lt;msline/&gt;
  &lt;mn&gt;1,171&lt;/mn&gt;
&lt;/mstack&gt;
</pre>
            </div>
            
            
            <p>Here is an example of subtraction where there is a borrow with
               multiple digits in a single column and a cross out. The borrowed
               amount is underlined (the example is from a <a href="http://www.fritext.se/matte/grunder/posi2.html">Swedish
                  source</a>):</p>
            
            
            
            <blockquote>
               <p><img src="image/em-sub-borrow-swedish.png" alt="\begin{array}{r} \underbar{\scriptsize 10}\!\\ 5\llap{$/$}2\\ {}-{}7\\ \hline 45 \end{array}"></img></p>
            </blockquote>
            
            
            
            <p>There are two things to notice.
               The first is that <code class="element">menclose</code> is used in the carry and that <code class="element">none</code> is used for
               the empty element so that <code class="element">mscarry</code> can be used to create a crossout.</p>
            
            
            <div class="example mathml">
               <pre>
&lt;mstack&gt;
  &lt;mscarries&gt;
    &lt;mscarry crossout='updiagonalstrike'&gt;&lt;none/&gt;&lt;/mscarry&gt;
    &lt;menclose notation='bottom'&gt; &lt;mn&gt;10&lt;/mn&gt; &lt;/menclose&gt;
  &lt;/mscarries&gt;
  &lt;mn&gt;52&lt;/mn&gt;
  &lt;msrow&gt; &lt;mo&gt;-&lt;/mo&gt; &lt;mn&gt; 7&lt;/mn&gt; &lt;/msrow&gt;
  &lt;msline/&gt;
  &lt;mn&gt;45&lt;/mn&gt;
&lt;/mstack&gt;
</pre>
            </div>
            
            </section>
         
         <section>
            <h5 id="presm_mult">Multiplication</h5>
            
            
            
            <p>Below is a simple multiplication example that illustrates the use of <code class="element">msgroup</code> and
               the <code class="attribute">shift</code> attribute. The first <code class="element">msgroup</code> does nothing.
               The second <code class="element">msgroup</code> could also be removed, but <code class="element">msrow</code> would be needed for its second and third children.
               They would set the <code class="attribute">position</code> or <code class="attribute">shift</code> attributes, or would add <code class="element">none</code> elements.
               </p>
            
            
            <blockquote>
               <p><img src="image/em-mult-simple.png" alt=""></img></p>
            </blockquote>
            
            
            <div class="example mathml">
               <pre>
&lt;mstack&gt;
  &lt;msgroup&gt;
    &lt;mn&gt;123&lt;/mn&gt;
    &lt;msrow&gt;&lt;mo&gt;&amp;#xD7;&lt;/mo&gt;&lt;mn&gt;321&lt;/mn&gt;&lt;/msrow&gt;
  &lt;/msgroup&gt;
  &lt;msline/&gt;
  &lt;msgroup shift="1"&gt;
    &lt;mn&gt;123&lt;/mn&gt;
    &lt;mn&gt;246&lt;/mn&gt;
    &lt;mn&gt;369&lt;/mn&gt;
  &lt;/msgroup&gt;
  &lt;msline/&gt;
&lt;/mstack&gt;
</pre>
            </div>
            
            
            <p>This example has multiple rows of carries. It also (somewhat
               artificially) includes commas (",") as digit separators. The encoding includes
               these separators in the spacing attribute value, along non-ASCII
               values. </p>
            
            
            
            <blockquote>
               <p><img src="image/em-mult-carries.png" alt="\begin{array}{r}  {}_1 {\hspace{0.05em}}_1\phantom{0} \\  {}_1 {\hspace{0.05em}}_1\phantom{0} \\   1,234 \\   \times 4,321 \\   \hline  {}_1 \phantom{,} {\hspace{0.05em \,}}_1 {\hspace{0.05em}}_1  {\hspace{0.05em}}_1 \phantom{,} {\hspace{0.05em \,}}_1 \phantom{00} \\   1,234 \\   24,68\phantom{0} \\   370,2\phantom{00} \\   4,936\phantom{,000} \\   \hline   5,332,114 \end{array}"></img></p>
            </blockquote>
            
            
            <div class="example mathml">
               <pre>
&lt;mstack&gt;
  &lt;mscarries&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;none/&gt;&lt;/mscarries&gt;
  &lt;mscarries&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;none/&gt;&lt;/mscarries&gt;
  &lt;mn&gt;1,234&lt;/mn&gt;
  &lt;msrow&gt;&lt;mo&gt;&amp;#xD7;&lt;/mo&gt;&lt;mn&gt;4,321&lt;/mn&gt;&lt;/msrow&gt;
  &lt;msline/&gt;

  &lt;mscarries position='2'&gt;
    &lt;mn&gt;1&lt;/mn&gt;
    &lt;none/&gt;
    &lt;mn&gt;1&lt;/mn&gt;
    &lt;mn&gt;1&lt;/mn&gt;
    &lt;mn&gt;1&lt;/mn&gt;
    &lt;none/&gt;
    &lt;mn&gt;1&lt;/mn&gt;
  &lt;/mscarries&gt;
  &lt;msgroup shift="1"&gt;
    &lt;mn&gt;1,234&lt;/mn&gt;
    &lt;mn&gt;24,68&lt;/mn&gt;
    &lt;mn&gt;370,2&lt;/mn&gt;
    &lt;msrow position="1"&gt; &lt;mn&gt;4,936&lt;/mn&gt; &lt;/msrow&gt;
  &lt;/msgroup&gt;
  &lt;msline/&gt;
  
  &lt;mn&gt;5,332,114&lt;/mn&gt;
&lt;/mstack&gt;
</pre>
            </div>
            
            </section>
         
         
         
         
         <section>
            <h5 id="presm_mlongdiv_ex">Long Division</h5>
            
            
            
            <p>
               The notation used for long division varies considerably among
               countries.  Most notations share the common characteristics of
               aligning intermediate results and drawing lines for the operands to be
               subtracted. Minus signs are sometimes shown for the intermediate calculations, and
               sometimes they are not. The line that is drawn varies in length depending upon the
               notation. 
               The most apparent difference among the notations is that the position of the divisor
               varies, as does the location of the quotient, remainder, and intermediate terms.
               </p>
            
            <p>
               The layout used is controlled by the <code class="attribute">longdivstyle</code> attribute.  Below are examples for the values listed in <a href="#presm_mlongdiv_attrs"></a>
               </p>
            
            <table>
               
               <thead>
                  
                  <tr>
                     
                     <td><code class="attributevalue">lefttop</code></td>
                     
                     <td><code class="attributevalue">stackedrightright</code></td>
                     
                     <td><code class="attributevalue">mediumstackedrightright</code></td>
                     
                     <td><code class="attributevalue">shortstackedrightright</code></td>
                     
                     <td><code class="attributevalue">righttop</code></td>
                     </tr>
                  </thead>
               
               <tbody>
                  
                  <tr>
                     
                     <td>
                        		
                        <blockquote>
                           <p><img src="image/em-longdiv-us.png" alt=""></img></p>
                        </blockquote>
                        </td>
                     
                     <td>
                        		
                        <blockquote>
                           <p><img src="image/em-longdiv-french.png" alt=""></img></p>
                        </blockquote>
                        </td>
                     
                     <td>
                        
                        <blockquote>
                           <p><img src="image/em-longdiv-medium-stacked-rightright.png" alt=""></img></p>
                        </blockquote>
                        </td>
                     
                     <td>
                        
                        <blockquote>
                           <p><img src="image/em-longdiv-short-stacked-rightright.png" alt=""></img></p>
                        </blockquote>
                        </td>
                     
                     <td>
                        
                        <blockquote>
                           <p><img src="image/em-longdiv-righttop.png" alt=""></img></p>
                        </blockquote>
                        </td>
                     </tr>
                  </tbody>
               </table>
            
            
            <table>
               
               <thead>
                  
                  <tr>
                     
                     <td><code class="attributevalue">left/\right</code></td>
                     
                     <td><code class="attributevalue">left)(right</code></td>
                     
                     <td><code class="attributevalue">:right=right</code></td>
                     
                     <td><code class="attributevalue">stackedleftleft</code></td>
                     
                     <td><code class="attributevalue">stackedleftlinetop</code></td>
                     </tr>
                  </thead>
               
               <tbody>
                  
                  <tr>
                     
                     <td>
                        		
                        <blockquote>
                           <p><img src="image/em-longdiv-leftright.png" alt=""></img></p>
                        </blockquote>
                        </td>
                     
                     <td>
                        		
                        <blockquote>
                           <p><img src="image/em-longdiv-indian.png" alt=""></img></p>
                        </blockquote>
                        </td>
                     
                     <td>
                        
                        <blockquote>
                           <p><img src="image/em-longdiv-colonrightright.png" alt=""></img></p>
                        </blockquote>
                        </td>
                     
                     <td>
                        
                        <blockquote>
                           <p><img src="image/em-longdiv-mirrored-french.png" alt=""></img></p>
                        </blockquote>
                        </td>
                     
                     <td>
                        
                        <blockquote>
                           <p><img src="image/em-longdiv-arabic-lefttop.png" alt=""></img></p>
                        </blockquote>
                        </td>
                     </tr>
                  </tbody>
               </table>
            
            
            <p>
               The MathML for the first example is shown below.  It illustrates the use of nested
               <code class="attribute">msgroup</code>s and how the <code class="attribute">position</code> is calculated in those usages.
               </p>
            
            <div class="example mathml">
               <pre>
&lt;mlongdiv longdivstyle="lefttop"&gt;
  &lt;mn&gt; 3 &lt;/mn&gt;
  &lt;mn&gt; 435.3&lt;/mn&gt;

  &lt;mn&gt; 1306&lt;/mn&gt;

  &lt;msgroup position="2" shift="-1"&gt;
    &lt;msgroup&gt;
      &lt;mn&gt; 12&lt;/mn&gt;
      &lt;msline length="2"/&gt;
    &lt;/msgroup&gt;
    &lt;msgroup&gt;
      &lt;mn&gt; 10&lt;/mn&gt;
      &lt;mn&gt; 9&lt;/mn&gt;
      &lt;msline length="2"/&gt;
    &lt;/msgroup&gt;
    &lt;msgroup&gt;
      &lt;mn&gt; 16&lt;/mn&gt;
      &lt;mn&gt; 15&lt;/mn&gt;
      &lt;msline length="2"/&gt;
      &lt;mn&gt; 1.0&lt;/mn&gt;           &lt;!-- aligns on '.', not the right edge ('0') --&gt;
    &lt;/msgroup&gt;
    &lt;msgroup position='-1'&gt;   &lt;!-- extra shift to move to the right of the "." --&gt;
       &lt;mn&gt; 9&lt;/mn&gt;
      &lt;msline length="3"/&gt;
      &lt;mn&gt; 1&lt;/mn&gt;
    &lt;/msgroup&gt;
  &lt;/msgroup&gt;
&lt;/mlongdiv&gt;
</pre>
            </div>
            
            <p>
               With the exception of the last example,
               the encodings for the other examples are the same except that the values for
               <code class="attribute">longdivstyle</code> differ and that a "," is used instead of a "." for the decimal point.
               For the last example, the only difference from the other examples besides a different
               value for
               <code class="attribute">longdivstyle</code> is that Arabic numerals have been used in place of Latin numerals, 
               as shown  below.</p>
            
            <div class="example mathml">
               <pre>
&lt;mstyle decimalpoint="&amp;#x066B;"&gt;
&lt;mlongdiv longdivstyle="stackedleftlinetop"&gt;
  &lt;mn&gt; &amp;#x0663; &lt;/mn&gt;
  &lt;mn&gt; &amp;#x0664;&amp;#x0663;&amp;#x0665;&amp;#x066B;&amp;#x0663;&lt;/mn&gt;

  &lt;mn&gt; &amp;#x0661;&amp;#x0663;&amp;#x0660;&amp;#x0666;&lt;/mn&gt;
  &lt;msgroup position="2" shift="-1"&gt;
    &lt;msgroup&gt;
      &lt;mn&gt; &amp;#x0661;&amp;#x0662;&lt;/mn&gt;
      &lt;msline length="2"/&gt;
    &lt;/msgroup&gt;
    &lt;msgroup&gt;
      &lt;mn&gt; &amp;#x0661;&amp;#x0660;&lt;/mn&gt;
      &lt;mn&gt; &amp;#x0669;&lt;/mn&gt;
      &lt;msline length="2"/&gt;
    &lt;/msgroup&gt;
    &lt;msgroup&gt;
      &lt;mn&gt; &amp;#x0661;&amp;#x0666;&lt;/mn&gt;
      &lt;mn&gt; &amp;#x0661;&amp;#x0665;&lt;/mn&gt;
      &lt;msline length="2"/&gt;
        &lt;mn&gt; &amp;#x0661;&amp;#x066B;&amp;#x0660;&lt;/mn&gt;
   &lt;/msgroup&gt;
   &lt;msgroup position='-1'&gt;
       &lt;mn&gt; &amp;#x0669;&lt;/mn&gt;
      &lt;msline length="3"/&gt;
      &lt;mn&gt; &amp;#x0661;&lt;/mn&gt;
    &lt;/msgroup&gt;
  &lt;/msgroup&gt;
&lt;/mlongdiv&gt;
&lt;/mstyle&gt;</pre>
            </div>
            
            </section>
         
         <section>
            <h5 id="presm_repeatdec">Repeating decimal</h5>
            
            
            
            <p>
               Decimal numbers that have digits that repeat infinitely such as 1/3
               (.3333...) are represented using several notations. One common notation
               is to put a horizontal line over the digits that repeat (in Portugal an underline
               is used).
               Another notation involves putting dots over the digits that repeat. These notations
               are shown below:
               </p>
            
            
            
            <blockquote>
               <p><img src="image/repeat1.png" alt="0.33333 \overline{3}"></img></p>
            </blockquote> 
            
            <blockquote>
               <p><img src="image/repeat2.png" alt="0.\overline{142857}"></img></p>
            </blockquote> 
            
            <blockquote>
               <p><img src="image/repeat3.png" alt="0.\underline{142857}"></img></p>
            </blockquote> 
            
            <blockquote>
               <p><img src="image/repeat4.png" alt="0.\dot{1}4285\dot{7}"></img></p>
            </blockquote> 
            
            
            
            <p>The MathML for these involves using <code class="element">mstack</code>, <code class="element">msrow</code>, and <code class="element">msline</code>
               in a straightforward manner.  The MathML for the preceding examples above is given
               below.</p>
            
            
            <div class="example mathml">
               <pre>
&lt;mstack stackalign="right"&gt;
  &lt;msline length="1"/&gt;
  &lt;mn&gt; 0.3333 &lt;/mn&gt;
&lt;/mstack&gt;
</pre>
            </div>
            
            
            <div class="example mathml">
               <pre>
&lt;mstack stackalign="right"&gt;
  &lt;msline length="6"/&gt;
  &lt;mn&gt; 0.142857 &lt;/mn&gt;
&lt;/mstack&gt;
</pre>
            </div>
            
            
            <div class="example mathml">
               <pre>
&lt;mstack stackalign="right"&gt;
  &lt;mn&gt; 0.142857 &lt;/mn&gt;
  &lt;msline length="6"/&gt;
&lt;/mstack&gt;
</pre>
            </div>
            
            
            <div class="example mathml">
               <pre>
&lt;mstack stackalign="right"&gt;
  &lt;msrow&gt; &lt;mo&gt;.&lt;/mo&gt; &lt;none/&gt;&lt;none/&gt;&lt;none/&gt;&lt;none/&gt; &lt;mo&gt;.&lt;/mo&gt; &lt;/msrow&gt;
  &lt;mn&gt; 0.142857 &lt;/mn&gt;
&lt;/mstack&gt;
</pre>
            </div>
            
            </section>
         </section>
      </section>
   
   
   
   
   
   <section>
      <h3 id="presm_enliven">Enlivening Expressions</h3>
      
      
      <section>
         <h4 id="presm_maction">Bind Action to Sub-Expression
            <code class="defn starttag">&lt;maction&gt;</code></h4>
         
         
         <div class="issue" id="deprecate_maction"><span class="head">Deprecate <code class="element">maction</code></span>
            
            
            <p>There is concensus that <code class="element">maction</code> should be deprecated or restricted
               in some way.  There is also consensus that in any event, all attribute
               values and their behavior should be fully specified (in contrast to
               the present text). Note that <code class="element">maction</code> is currently used for linking, so
               the fate of <code class="element">maction</code> is tied to producing a satisfactory substitute.
               There is also a dependency on the decision on how to handle foreign
               markup within MathML.  MathQTI has a requirement for form elements
               that appear in typeset equations, e.g. an input field for an exponent,
               which could be satisfied by either <code class="element">maction</code> or XForms.</p>
            </div>
         
         
         <p>To provide a mechanism for binding actions to expressions, MathML
            provides the <code class="element">maction</code> element. This element accepts any
            number of sub-expressions as arguments and the type of action that should happen
            is controlled by the <code class="attribute">actiontype</code> attribute.
            Only three actions are predefined by MathML, but the list of possible actions is open.
            Additional predefined actions may be added in future versions of MathML.</p>
         
         
         <p>Linking to other elements, either locally within the <code class="element">math</code> element or to some URL,
            is not handled by <code class="element">maction</code>.
            Instead, it is handled by adding a link directly on a MathML element as specified
            in
            <a href="#interf_link"></a>.</p>
         
         
         
         
         <section>
            <h5>Attributes</h5>
            
            
            <p><code class="element">maction</code> elements accept the attributes listed
               below in addition to those specified in <a href="#presm_presatt"></a>.</p>
            
            
            
            
            <p>By default, MathML applications that do not recognize the specified
               <code class="attribute">actiontype</code> should render the selected sub-expression as
               defined below. If no selected sub-expression exists, it is a MathML
               error; the appropriate rendering in that case is as described in
               <a href="#interf_error"></a>.</p>
            
            
            <table border="1" class="attributes">
               
               <thead>
                  
                  <tr>
                     
                     <td>Name</td>
                     
                     <td>values</td>
                     
                     <td>default</td>
                     
                     <td>Core</td>
                     </tr>
                  </thead>
               
               <tbody>
                  
                  <tr>
                     
                     <td rowspan="2" class="attname">actiontype</td>
                     
                     <td><a class="intref" href="#type_string"><em>string</em></a></td>
                     
                     <td><em>required</em></td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies what should happen for this element.
                        The values allowed are open-ended. Conforming renderers may ignore any value they
                        do not handle,
                        although renderers are encouraged to render the values listed below. 
                        </td>
                     </tr>
                  <tr>
                     
                     <td rowspan="2" class="attname">selection</td>
                     
                     <td><a class="intref" href="#type_positive-integer"><em>positive-integer</em></a></td>
                     
                     <td>1</td>
                     
                     <td><span class="coreno">core&#x2716;</span></td>
                     </tr>
                  
                  <tr>
                     
                     <td colspan="3" class="attdesc">
                        Specifies which child should be used for viewing. Its value should be between 1 and
                        the number of
                        children of the element. The specified child is referred to as the <span>&#x201c;selected sub-expression&#x201d;</span> of the
                        <code class="element">maction</code> element. If the value specified is out of range, it is an error. When the
                        <code class="attribute">selection</code> attribute is not specified (including for
                        action types for which it makes no sense), its default value is 1, so
                        the selected sub-expression will be the first sub-expression.
                        </td>
                     </tr>
                  </tbody>
               </table>
            
            
            
            
            <p>If a MathML application responds to a user command to copy a MathML sub-expression
               to
               the environment's <span>&#x201c;clipboard&#x201d;</span> (see <a href="#world-int-transfers"></a>), any <code class="element">maction</code> elements present in what is copied should
               be given <code class="attribute">selection</code> values that correspond to their selection
               state in the MathML rendering at the time of the copy command.</p>
            
            
            <p>When a MathML application receives a mouse event that may be
               processed by two or more nested maction elements, the innermost
               maction element of each action type should respond to the event.</p>
            
            
            <p>The meanings of the various <code class="attribute">actiontype</code> values is given below.
               Note that not all renderers support all of the <code class="attribute">actiontype</code> values, and  that the allowed values are open-ended.</p>
            
            
            <dl>
               
               <dt>&lt;maction actiontype="toggle" selection="positive-integer" &gt; (first expression) (second
                  expression)... &lt;/maction&gt;</dt>
               <dd>
                  <p>The renderer alternately display the
                     selected subexpression, cycling through them when there is a click on the selected
                     subexpression.
                     Each click increments the <code class="attribute">selection</code> value,
                     wrapping back to 1 when it reaches the last child.
                     Typical uses would be for exercises in education, ellipses in long
                     computer algebra output, or to illustrate alternate notations. Note
                     that the expressions may be of significantly different size, so that
                     size negotiation with the browser may be desirable. If size
                     negotiation is not available, scrolling, elision, panning, or some
                     other method may be necessary to allow full viewing.</p>
               </dd>
               
               
               <dt>&lt;maction actiontype="statusline"&gt; (expression) (message) &lt;/maction&gt;</dt>
               <dd>
                  <p>The renderer displays the first child.
                     When a reader clicks on the expression or
                     moves the pointer over it, the renderer sends a rendering of the
                     message to the browser statusline. Because most browsers in the
                     foreseeable future are likely to be limited to displaying text on their
                     statusline, the second child should be an 
                     <code class="element">mtext</code> element in most circumstances. 
                     For non-<code class="element">mtext</code> messages, renderers might provide a
                     natural language translation of the markup, but this is not
                     required.</p>
               </dd>
               
               
               <dt>&lt;maction actiontype="tooltip"&gt; (expression) (message) &lt;/maction&gt;</dt>
               <dd>
                  <p>The renderer displays the first child.
                     When the pointer pauses over the expression for a long
                     enough delay time, the renderer displays a rendering of the message in
                     a pop-up <span>&#x201c;tooltip&#x201d;</span> box near the expression. Many systems may limit
                     the popup to be text, so the second child should be an 
                     <code class="element">mtext</code> element in most circumstances.
                     For non-<code class="element">mtext</code> messages,
                     renderers may provide a natural language translation of the markup if
                     full MathML rendering is not practical, but this is not
                     required.</p>
               </dd>
               
               <dt>&lt;maction actiontype="input"&gt; (expression) &lt;/maction&gt;</dt>
               <dd>
                  <p>The renderer displays the expression.
                     For renderers that allow editing, when focus is passed to this element,
                     the <code class="element">maction</code> is replaced by what is entered, pasted, etc.
                     MathML does not restrict what is allowed as input, nor does it require an editor to
                     allow arbitrary input.
                     Some renderers/editors may restrict the input to simple (linear) text.</p>
               </dd>
               </dl>
            
            
            <p>The <code class="attribute">actiontype</code> values are open-ended. If another value is given and it requires additional attributes,
               the attributes must be in a different namespace
               <span> in XML;
                  in HTML the attributes must begin with "data-"</span>.
               <span>An XML example</span> is shown below:
               </p>
            
            <dl>
               
               <dt>&lt;maction actiontype="highlight" my:color="red" my:background="yellow"&gt; expression
                  &lt;/maction&gt;</dt>
               <dd>
                  <p>In the example,
                     non-standard attributes from another namespace are being used to pass
                     additional information to renderers that support them,
                     without violating the MathML Schema (see <a href="#interf_unspecified"></a>).
                     The <code class="attribute">my:color</code> attributes
                     might change the color of the characters in the presentation, while the
                     <code class="attribute">my:background</code> attribute might change the color of the background
                     behind the characters.</p>
               </dd>
               
               
               
               </dl>
            
            </section>
         </section>
      </section>
   
   
   <section>
      <h3 id="presm_semantics">Semantics and Presentation</h3>
      
      
      <p>MathML uses the <code class="element">semantics</code> element to allow specifying semantic annotations to
         presentation MathML elements; these can be content MathML or other notations.  As
         such,
         <code class="element">semantics</code> should be considered part of both presentation MathML and content
         MathML. All MathML processors should process the <code class="element">semantics</code> element, even if they
         only process one of those subsets.</p>
      
      
      <p>In semantic annotations a presentation MathML expression is typically the first child
         of the <code class="element">semantics</code> element.  However, it can also be given inside of an
         <code class="element">annotation-xml</code> element inside the <code class="element">semantics</code> element. If it is part of an
         <code class="element">annotation-xml</code> element, then
         <span><code class="attribute">encoding</code>=<code class="attributevalue">application/mathml-presentation+xml</code> or </span>
         <code class="attribute">encoding</code>=<code class="attributevalue">MathML-Presentation</code> <span>may</span> be used and presentation
         MathML processors should use this value for the presentation.</p>
      
      
      <p>See <a href="#mixing_semantic_annotations"></a> for more details about the
         <code class="element">semantics</code> and <code class="element">annotation-xml</code> elements.</p>
      </section>
   </section>
